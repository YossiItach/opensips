
2009-07-15 23:08:55  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5882] :

	backport from trunk (rev #5881):
	Load Balancer module added to core modules definition.



2009-07-15 22:24:39  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5880] :

	- version increased to 1.5.2


2009-07-15 22:18:16  Iulia Buble <iulia at opensips dot org> 
	* [5879] :

	Bug fixed, regarding id_seq in postgres backend. The id was not being created for dr_gateways and dr_rules tables.


2009-07-15 22:14:10  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5877] :

	backport from trunk (rev #5844):
	- fixed how the NULL values are handled - use Postgres dedicated fucntions for this.
	  Based on a patch sent by Ruslan Bukin.
	  Closes patch #2817560.


2009-07-15 22:06:09  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5876] :

	backport from trunk (rev #5737)
	- properly setting of end to end ACK transaction marker
	- resetting transaction marker before reply matching


2009-07-15 22:05:20  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5875] :

	svn props updated


2009-07-15 22:04:16  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5874] :

	backport from trunk (rev #5722):
	- fixed bogus order of callback in the list - it is critical to preserv the order of registerd callbacks (first registerd, first executed). Otherwise, the dependencies between the modules will be broken.


2009-07-15 22:02:39  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5873] :

	backport from trunk (rev #5720):
	 fixed detection and absorption of the ACKs for locally replied transactions.


2009-07-15 22:00:08  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5872] :

	svn props updated


2009-07-15 21:59:57  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5871] :

	backport from trunk (rev #5646 + #5647):
	- fixed bug - do not store the time per message as the processing of a message may take more than one seconds; We want realtime time, not time of the first call per message :P
	- bug fixed - time specific pvar returns the current time all the time and not the time of the first call per message. Time caching (per message) is nonsense as processing of a message may take more than a second.


2009-07-15 21:56:16  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5870] :

	svn props updated


2009-07-15 12:51:30  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5861] :

	backport from trunk (rev #5860):
	-in REALTIME mode, we need DB connection in processes created by modules (like the MI processes where the dlg_end_dlg function is run).



2009-07-15 12:41:42  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5859] :

	backport from trunk (rev #5858)
	-fixed improper initialization of tmcb_param structure - memset is needed.
	 Credits go to John Riordan.
	 Closes patch #2821517



2009-07-15 12:30:19  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5857] :

	backport from trunk (rev #5856):
	- fixed parsing the parameters of the event - previous parsing was simply dealing only with the first param, ignoring the rest of them.
	  Credits go to Tiberius DULUMAN.
	  Closes bug ID 2820717.


2009-07-14 16:24:42  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5854] :

	backport from trunk (rev #5853):
	- fixed bug in testing the val of the found transaction


2009-07-10 16:38:37  Iulia Buble <iulia at opensips dot org> 
	* [5851] :

	Postgres bug fixed, regarding concat function.


2009-07-09 12:11:02  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5849] :

	backport from trunk (rev #5848):
	- fixed teting of return code of t_relay in cpl module.
	  Patch contributed by John Riordan
	  Closes patch #2818693


2009-07-07 12:42:49  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5842] :

	backport from trunk (rev #5787 - #5797):
	- reworked the entire re-connect mechanism in mysql - as the mysql lib is not relaible in delivering the re-connect events to application (when using both prepared statements and text queries), the auto-reconnect for client lib was disabled and all the re-connect work is done manually at application (db_mysql module) level.


2009-07-01 13:00:09  Anca Vamanu, <anca at voice-system dot ro> 
	* [5824] :

	- fixed union field usage


2009-07-01 12:30:26  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5822] :

	backport from trunk (rev #5821):
	- fixed overflow of a static buffer
	  Reported by Peter Nixon.


2009-07-01 12:25:28  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5820] :

	backport from trunk (rev #5819):
	- applied patch #2814800 - The create callbacks are being called again and some reinitialization is being done on dialogs loaded from db upon handling the next in-dialog request.
	  Credits go to John Riordan


2009-06-30 21:10:49  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5818] :

	backport from trunk (rev #5805):
	- fetch support added loading the pua info at startup


2009-06-30 16:22:21  Iulia Buble <iulia at opensips dot org> 
	* [5817] :

	 - Fixed path problem.
	 - Issue submitted by sacoo - Feature Requests item #2795297.



2009-06-30 14:40:16  Iulia Buble <iulia at opensips dot org> 
	* [5815] :

	- port parameter added to postgres database connection string.
	* to be set in osipsconsolerc


2009-06-30 12:58:42  Anca Vamanu, <anca at voice-system dot ro> 
	* [5812] :

	- fixed body format for rls Notify - removed a blank line separating boundary string from content headers (reported by Shefali Dutta <shefali.dutta at aricent dot com>)


2009-06-30 10:51:46  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5810] :

	backport from trunk (rev #5806):
	- prevent executing twice the onroute callback due bogus call of loose_route (more than once).


2009-06-29 18:34:53  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5804] :

	- added the case when the URI does not have a port - as this is a value taken from the script, it is better to check it out!



2009-06-29 18:16:01  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5803] :

	- missing EOL added in debug message


2009-06-26 11:05:15  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5791] :

	backport from trunk (rev #5790):
	- fixed setting flags for changing FROM / TO when uac_replace_from() called from brnach route


2009-06-20 00:54:00  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5777] :

	backport from trunk (rev #5776):
	- increased the max number of retryes for SSL ops as on some slower machines it may take a bit of more time.
	  Credits for the troubleshooting and fixing go to Anil M Pannikode


2009-06-16 20:20:54  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5775] :

	backport from trunk (rev #5770):
	- avoid auto discovery of port when the GW is specified as name and not IP


2009-06-16 02:16:30  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5774] :

	backport from trunk  (rev #5773):
	- fixed un-initialized pointer bug.
	  Reported by Om Bikram Thapa.


2009-06-09 17:48:29  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5768] :

	typo fixed in docs


2009-06-01 12:54:35  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5756] :

	backport from trunk (rev #5755):
	- if no port is specified in the GW definition, is_from_gw() and goes_to_gw() wil match any port for that GW.
	  This is needed for asymetric GWs - recevive traffic on 5060 and send traffic from a pool of ports.


2009-06-01 12:15:24  Anca Vamanu, <anca at voice-system dot ro> 
	* [5753] :

	 - fixed service-uri match check (didn't work when it has parameters in rls-services document ) , reported by Franz Edler <franz-edler@aon.at>


2009-05-27 16:28:36  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5748] :

	backport from trunk (rev #5746):
	- fixed bug in xmlrpc lib - the signal handler used for getting the SIGCHLD (for the terminated worker processes) contains functions that may trigger a deadlock between the process and the handler (for example because of malloc/free which have an internal lock).
	  Thannks to Dan Pascu for the support in troubleshooting this blocking.



2009-05-26 19:48:38  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5742] :

	backport from trunk (rev #5686 + #5687):
	- fixed start command - if bogus PID file is found, simplt purge it
	- fixed restart command - do stop but do not exit if stop failed during a restart

	  Credits go to ledda.
	  Closes patch #2731979



2009-05-26 19:05:43  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5740] :

	backport from trunk (rev #5739):
	- fixed bug in processing SIP URIs without username.
	  Credits go to Andrew < andrew dot pogrebennyk at portaone dot com >
	  Closes bug ID #2795917.


2009-05-26 11:18:58  Anca Vamanu, <anca at voice-system dot ro> 
	* [5735] :

	- synchronized the moment when subsription dialogs are deleted from database with when dialogs are deleted from hash table


2009-05-25 12:21:19  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5733] :

	backport from trunk (rev #5732):
	- fixed bug in version of rls-presentity table (1 instead of 0).
	  Credits go to Franz Edler.


2009-05-22 18:31:44  Iulia Buble <iulia at opensips dot org> 
	* [5731] :

	Fixed bug related to drouting table creation. Reported by sacoo, feature request number #2795305.


2009-05-22 17:39:19  Marc Leurent <lftsy at leurent dot eu> 
	* [5729] :

	* Fri May 22 2009 Marc Leurent <marc.leurent@vtx-telecom.ch>
	- Add /etc/default/opensips file to allow shared memory configuration
	- Modify snmpstats Requires to add net-snmp-utils



2009-05-22 12:00:45  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5724] :

	backport from trunk (rev #5723)
	- more verbous error logs for tls_accept()


2009-05-20 17:46:11  Anca Vamanu, <anca at voice-system dot ro> 
	* [5718] :

	- fixed bug when doing database optations with type DB_BLOB (credits for the fix go to Genady , bug #2791758)


2009-05-18 13:58:04  Anca Vamanu, <anca at voice-system dot ro> 
	* [5713] :

	- completion for the fix in rev #5708; added etag restriction when searching for a pua record that received a negative reply ( thanks to Piotr Sobolewski <sobolewski@gmail.com> for help with testing)


2009-05-18 12:08:33  Anca Vamanu, <anca at voice-system dot ro> 
	* [5710] :

	- fixed a bug in constructing watcher info event Notify bodies when refreshWatchers MI command was received (reported by Franz Edler <franz-edler@aon.at>)


2009-05-14 18:31:38  Anca Vamanu, <anca at voice-system dot ro> 
	* [5708] :

	- fixed a race condition that caused using the same E-tag twice (generating a subsequent Publish before the reply for the previous is received) - reported by Piotr Sobolewski <sobolewski@gmail.com>


2009-05-13 14:15:30  Anca Vamanu, <anca at voice-system dot ro> 
	* [5706] :

	- fixed not updating expires value from subscription dialogs in database when refresh Subscribe received ( reported by Inaki Baz Castillo in bug report #2791077)


2009-05-13 12:47:33  Anca Vamanu, <anca at voice-system dot ro> 
	* [5702] :

	- fixed a bug in pua module that caused memory leak


2009-05-11 13:23:44  Anca Vamanu, <anca at voice-system dot ro> 
	* [5694] :

	-fixed bug in computing expires value for subscription dialogs - reported by Inaki Baz Castillo in bug report #2788937


2009-05-10 13:38:33  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5689] :

	- fixed versions in the migration help text


2009-05-09 10:38:11  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5685] :

	- typo fixed "pif" -> "pid"


2009-05-09 10:20:10  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5683] :

	backport from trunk (rev #568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682568256825682):

	- fixed missing 100 Trying when the transaction is internally created by the CPL
	 interpreter.

	  Credits go to John Riordan.
	  Closes patch #2788216



2009-05-09 10:10:48  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5680] :

	backport from trunk (rev #5679 ):

	- fixed branch flags reseting when creating a new branch - related to the previo
	us fix on this topic

	  Credits go to John Riordan - thanks for pointing out that my changes in the pr
	evious patch were bogus.
	  Closes patch #2785741


2009-05-06 21:00:11  Iulia Buble <iulia at opensips dot org> 
	* [5678] :

	Fixed bogus regarding password encryption.


2009-05-06 18:21:07  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5676] :

	backport from trunk (rev #5675):
	- fixed bug : free shared memory allocated for dialog persistent attributes  when dialog structure is destroyed.
	  Credits go to John Riordan.
	  Closes patch #2787654


2009-05-06 18:08:28  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5674] :

	backport from trunk (rev #5673):
	- fixed bugs: drouting module doesn't accept null prefixes in dr_rules table but there isn't "blank" strings in oracle. So, I'm not able to use drouting with oracle.

	 Closes bug #2786735


2009-05-05 14:05:24  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5672] :

	backport from trunk (rev #5670):
	- warning fixed : handle fscanf return value to avoid warning when compiling on Linux x86.
	  Credits go to Sergio Gutierrez.
	  Closes patch #2750920


2009-05-05 13:56:05  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5668] :

	backport from trunk (rev #5667):
	- bug fixing: When locations having the same priority are added to the CPL location set, the add order is not maintained.
	  Credits go to John Riordan.
	  Closes patch #2786822


2009-05-05 13:47:23  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5665] :

	backport from trunk (rev #5664):
	- fixed bug - CPL "lookup" is not checking for the possibility that a contact's q-value could be Q_UNSPECIFIED when setting a locations "priority".

	Credits go to John Riordan.
	Closes patch #2786818.


2009-05-04 17:24:25  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5659] :

	backport from trunk (rev #5658):
	- fixed NAT flag setting
	  Closes bug #2785741


2009-04-22 17:30:34  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5650] :

	backport from trunk (#5648 + #5649):
	- fixed several compile wornings on BSD
	  Many thanks to Mark R for providing access to a BSD machine

	- removed seas module from default compiling as it uses the dprintf function which is not available on Solaris or BSD


2009-04-16 12:24:34  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5645] :

	backport from trunk (rev #5642):
	- fixed bug in subst replacement - any pending string after the last token was ignored.
	  Reported by Dan-Cristian Bogos.


2009-04-15 17:59:29  Iulia Buble <iulia at opensips dot org> 
	* [5641] :

	- osipsconsole installation info added to INSTALL


2009-04-15 17:21:29  Iulia Buble <iulia at opensips dot org> 
	* [5639] :

	Bug fixed in osipsconsole. Script is working without the String module.


2009-04-15 13:29:14  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5637] :

	backport from trunk (rev #5636):
	- included more hdr files for "struct iovec" - required on openBSD
	  
	  Reported by Mark R.


2009-04-15 13:12:42  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [5635] :

	backport from trunk (rev #5634):
	- removed the uintptr_t as it is not BSD compliant.

	  Reported by Mark R.


