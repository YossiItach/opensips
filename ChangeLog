
2009-12-21 19:41:26  Anca Vamanu, <anca at voice-system dot ro> 
	* [6454] :

	- fixed typo ( ; at the end of if line)


2009-12-21 19:19:03  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6452] :

	backport from trunk rev #6451.
	- fixed missing test on mem free
	  Credits go to Alexander.


2009-12-21 14:17:24  Anca Vamanu, <anca at voice-system dot ro> 
	* [6450] :

	-backport from trunk rev 6417
		- fixed matching of indialog requests - do not capture requests that are not destined for me(Record-Route header or ruri does not point to me)
		- fixed matching for CANCEL messages - check ruri = ruri of INVITE

	--Ths line, and those below, will be ignored--

	M    b2b_entities/dlg.c
	M    b2b_entities/dlg.h


2009-12-21 14:06:25  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6449] :

	backport from trunk (rev #6448):
	- the default alg "first entry is used" gets an official name of "8" to avoid useless warnings


2009-12-17 13:18:51  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6446] :

	backport from trunk (rev #6445):
	- fixed printing the name of the script route triggered by rule matching
	- fixed hadling of the return code (dropping action) from the script route.


2009-12-16 12:44:23  Anca Vamanu, <anca at voice-system dot ro> 
	* [6443] :

	- fixed bug for BLA - error when searching record (always getting to search in database)


2009-12-15 17:37:32  Anca Vamanu, <anca at voice-system dot ro> 
	* [6441] :

	- extended the methods accepted to pass through b2b (if not a method for which a scenario rule can be defined, do simple pass through)


2009-12-14 18:11:45  Andrei Dragus <adragus at opensips dot org> 
	* [6439] :

	Backported nathelper to work with multipart SDP


2009-12-14 18:06:43  Andrei Dragus <adragus at opensips dot org> 
	* [6438] :

	Backported multipart parsing and textops


2009-12-14 17:34:42  Andrei Dragus <adragus at opensips dot org> 
	* [6437] :

	Backported usrloc


2009-12-14 17:32:50  Andrei Dragus <adragus at opensips dot org> 
	* [6436] :

	Backported map used for usrloc


2009-12-14 14:39:45  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6434] :

	backport from trunk (rev #6433):

	- fixed bogus definition of sip_trace table which was incompatible with the db_text engine.


2009-12-12 15:56:58  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6428] :

	In case opensips force the use of sst, it add a Session-Expire with
	interval equal to max(OpenSIPS minSE, UAS minSE).
	This does not allow to set a minSE of 90s (the minimum allowed) but start
	with a different interval (say 300s).

	This patch add a sst_interval parameter with a default value of 0 (to stick
	to the current behavior).
	The Session-Expire interval is set to the max value of (OpenSIPS minSE, UAS
	minSE, sst_interval).

	Closes patch #2887955
	Credits go to Christophe Sollet.


2009-12-12 12:35:39  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6426] :

	backport from trunk (rev #6425):

	fixed mimimum val for rtpproxy_timeout -> secs to milisecs -> allows timeouts less than one sec.

	closes patch #2893189
	credits go to Christophe Sollet.


2009-12-12 11:39:19  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6424] :

	backport from trunk (rev 6423):
	- fixed issue with avp printing buffer being too small -> new config param to control the size:
		Closes patch #2911666
		Credits go to Norm Brandinger


2009-12-11 21:15:07  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6422] :

	- added man pages for debian 
	  Closes patch 2902164.
	  Credits go to Alejandro Rios


2009-12-11 21:02:48  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6419] :

	Backport from trunk (rev #6418):

	The change adds the following to the error messages produced:

	1. The size of the message that caused the overflow to happen
	2. The size of the receiving buffer

	Closes patch #2911665
	Credits go to Norm Brandinger


2009-12-11 16:45:27  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6416] :

	backport from trunk (rev #6322):
	- fixed crash when the all the weights are zero.
	  
	  Closes bug ID 2890649.
	  Reported by Urtho.


2009-12-11 16:39:42  Irina-Maria Stanescu <istanescu at opensips dot org> 
	* [6415] :

	backport from trunk (rev #6414)
	- now the radius_config parameter must be set only if custom request functions are used


2009-12-11 13:42:50  Andrei Dragus <adragus at opensips dot org> 
	* [6409] :

	Backported new version of memory allocator


2009-12-11 13:14:52  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6407] :

	backport from trunk (rev 6406):
	- fixed bogus handling of "return" statement inside a "while" block.

	Closes bug #2907864.
	Reproted by Norman Brandinger


2009-12-11 11:43:07  Irina-Maria Stanescu <istanescu at opensips dot org> 
	* [6405] :

	backport from trunk (rev #6404)
	- added extra debug messages
	- fixed hashtable match bug (reported by Jai Rangi)


2009-12-11 10:53:33  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6402] :

	Backport from trunk (rev 6401):

	The <header> tags in some examples are not valid html. The attached patch
	changes them to <head>.

	Closes bug #2911705.
	Credits go to Norm Brandinger


2009-12-10 20:59:19  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6400] :

	bulk backport from trunk (rev 6389 + 6390 + 6391 + 6392 + 6397 + 6398 + 6399):
	- fixed bogus inline declaration - a function prototype cannot be inline -> reported by suncc
	- varios fixes reported by succ :
		- useless returns
		- return val in void functions
	- fixed include path for unixodbc lib for OpenSolaris.
	- fixed bug in testing the success of the parse_to() function
	- fixed all makefiles using autodetection based on "which" -> older version was not working on non-linux systems.
	- fixed makefiles for the perl modules ; the syntax of makefile (for calling external shell commands) is not like in shell script  :) .
	- for gcc added some extra compile flags to get rid of the "redundant declaration" warning due auto created C files
	- fixed solaris and suncc compiling

	  Credits go to Michal Bielicki @ Seventh Signal




2009-12-10 18:10:58  Irina-Maria Stanescu <istanescu at opensips dot org> 
	* [6396] :

	-backport from trunk (rev #6395)


2009-12-10 17:36:59  Andrei Dragus <adragus at opensips dot org> 
	* [6394] :

	Backported unreachable code warning


2009-12-10 13:32:06  Iulia Buble <iulia at opensips dot org> 
	* [6386] :

	Fifo reply file renamed from $name to fifo_reply_name
	Fifo reply path renamed from $path to fifo_reply_path


2009-12-09 18:35:02  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6383] :

	backport from trunk (rev #6382):
	- fixed incomatibility between BLOB data type and string format for columns


2009-12-09 17:46:29  Irina-Maria Stanescu <istanescu at opensips dot org> 
	* [6381] :

	backport from trunk (rev #6377, #6370)
	- added checks (aaa_radius module)
	- fixed misleading LM_ERR into LM_DBG (group module)



2009-12-09 17:33:29  Irina-Maria Stanescu <istanescu at opensips dot org> 
	* [6380] :

	backport from trunk (#rev 6372)
	- added check for db_url to be set


2009-12-09 17:30:31  Irina-Maria Stanescu <istanescu at opensips dot org> 
	* [6379] :

	backport from trunk (rev #6378)
	- added check for db_url to be set (if db backend is used)


2009-12-08 18:17:14  Anca Vamanu, <anca at voice-system dot ro> 
	* [6373] :

	- increased the length for contact column in active_watchers table to 128 (reported by Juha Heinanen)


2009-12-01 02:42:04  Kobi Eshun <kobi at sightspeed dot com> 
	* [6366] :

	Add missing reference to libGeoIP.

2009-11-30 11:47:42  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6364] :

	backport from trunk (rev #6359):
	- added check if NULL value returned by get_event function


2009-11-30 10:55:58  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6363] :

	backport from trunk (rev #6361):
	- fixed detection of static string (used for string IPs) when UDP is not used.
	  Closes bug #2904684.


2009-11-24 10:46:26  Di-Shi Sun <di-shi at transnexus dot com> 
	* [6358] :

	Fixed the bug of generating wrong new ruri.


2009-11-20 18:37:08  Anca Vamanu, <anca at voice-system dot ro> 
	* [6355] :

	- fixed not checking if variable is null on destroy


2009-11-20 18:17:13  Anca Vamanu, <anca at voice-system dot ro> 
	* [6353] :

	- fixed bug of resending 200OK reply (reported by Jeff Kronlage )


2009-11-19 11:21:11  Anca Vamanu, <anca at voice-system dot ro> 
	* [6347] :

	- fixed bug when a FAKED_REPLY was received ( reported by elm0 at #opensips)


2009-11-11 19:58:16  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6341] :

	backport from trunk (rev #6340):
	- fixed bogus test for return code of avp_add()



2009-11-09 17:43:00  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6338] :

	backport from trunk (rev #6337):

	- upgraded the code to be compatible with the latest openssl version. backward c
	ompatibility preserved.
	  Credits goto John Khvatov


2009-11-08 20:34:52  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6334] :

	backport from trunk (rev #6333):
	- specs and init updated
	- credits go to John Khvatov, the opensips maintainer on fedora.


2009-11-06 13:00:17  Anca Vamanu, <anca at voice-system dot ro> 
	* [6330] :

	- fixed bug if t_newtran() was not called from the script
	- fixed some isses when closing a call while in bridging state - send ACK for invite and switch to a new state for the scenario instance


2009-11-04 16:53:41  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6324] :

	backport from trunk (rev #6323):
	- fixed bug in calculating the length of the table name 


2009-11-04 10:57:52  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6321] :

	backport from trunk #6319
	- on some systems (following the System V specs), there is different SIGCLD signal, while on POSIX like systems you have SIGCHLD.......The difference is that th
	e SIGCLD must be rearmed, while SIGCHLD not. On System V  the SIGCHLD is simply 
	defined as SIGCLD...so you may end up with some confusion....
	 -> if SIGCLD is defined do explicit re-arming of SIGCLD handler


2009-11-03 17:56:54  Irina-Maria Stanescu <istanescu at opensips dot org> 
	* [6318] :

	backport from trunk (rev 6317)
	- automatically converts strings from the sets avps into ipaddr when needed
	- closes patch #2886450 submitted by Alex Massover


2009-11-02 16:15:08  Anca Vamanu, <anca at voice-system dot ro> 
	* [6316] :

	- fixed bug: not calling child_init for timer route process ( bug #2890657)


2009-10-30 12:07:12  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6312] :

	backport from trunk (rev 6311):
	 - fixed partial test for dst_uri string


2009-10-30 11:59:26  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6310] :

	backport from trunk (rev 6308):
	- fixed bug in handling the AOR - According to RFC 3261, section 19.1.4, userInff o part of Sip URI should be treated as case sensitive.

	The case_sensitive param has now the default value to "yes" - to handle the AORs in a case sensitive way.

	Note that using a case insensitive setting in registrar will break other modules like msilo, pua_usrloc when you have upper cases in username part.



2009-10-30 11:45:50  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6306] :

	backport from trunk (rev #6305)
	- fixed DB schema for dr_group tabel - group column is numerical, not string


2009-10-29 19:33:35  Iulia Buble <iulia at opensips dot org> 
	* [6303] :

	Bug fixed - removed quotations for password.


2009-10-29 14:09:19  Anca Vamanu, <anca at voice-system dot ro> 
	* [6301] :

	- fixed bug: not sending Publish with expires 0 when usrloc contact was detected as expired
	- pua: ajusted the expiration checks in pua
	- pua: fixed inconsinstency in t_request parameter when sending Publish from timer process


2009-10-27 23:46:21  Ovidiu Sas <osas at voipembedded dot com> 
	* [6299] :

	backport rev 6298 from trunk:
	rl_check does not check if forced_pipe is >=0, can coredump

	closes ID: 2887457
	credits goes to Pawel Pierscionek ( urtho2 )



2009-10-27 16:45:54  Anca Vamanu, <anca at voice-system dot ro> 
	* [6296] :

	- fix: take out the double quotes from display name before writing it in the xml document ( reported by elm0 at #opensips)


2009-10-27 15:28:14  Anca Vamanu, <anca at voice-system dot ro> 
	* [6294] :

	- fixed bug - rewriting the target uri with the display name if one was present (thanks to elmo at #opensips )


2009-10-27 11:07:32  Anca Vamanu, <anca at voice-system dot ro> 
	* [6292] :

	- fixed bug when arguments to script function are pseudovariables - reported by Daniel Cardoso Alves
	--Ths line, and those below, will be ignored--

	M    b2b_logic/records.c
	M    b2b_logic/b2b_logic.c
	M    b2b_logic/records.h
	M    b2b_logic/logic.c


2009-10-26 14:44:38  Andrei Dragus <adragus at opensips dot org> 
	* [6289] :

Fixed a bug in codec_* functions for SDP with no a=rtpmap line.
	Credits go to Thomas Gelf.


2009-10-20 01:33:08  Sergio Gutierrez <saguti at gmail dot com> 
	* [6286] :

	- Solaris Package files for MySQL Module Package



2009-10-19 23:36:42  Sergio Gutierrez <saguti at gmail dot com> 
	* [6285] :

	- Solaris Package files for Base package.



2009-10-19 21:18:23  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6283] :

	backport from trunk (#6281 + #6282)

	- authservice() allowed from LOCAL and BRANCH routes


2009-10-19 15:21:18  Marc Leurent <lftsy at leurent dot eu> 
	* [6280] :

	* Mon Oct 19 2009 Marc Leurent <marc.leurent@vtx-telecom.ch>
	- Add missing config lines for packaging b2b modules
	- Add missing config lines for packaging peering module
	- Add missing dependencies for SNMPStats module



2009-10-19 07:10:50  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6279] :

	Backport from trunk (rev #6278):
	- fixed creation of B2BUA and DB_HTTP debian packages.

	  Reported by Alex Massover
	  Closes bug #2881206.



2009-10-19 06:59:26  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro> 
	* [6277] :

	backport from trunk (rev #6275):
	- fixed missing usage of fetch_dlg_value() in LOCAL route.
	  Reported by Alex Massover
	  Closes patch #2881294



