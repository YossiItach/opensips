# $Id$

===================== 2007-12-13 OpenSER v1.3.0 released ======================

===================== Changes since release 1.2.0 ============================
2007-12-12 13:55  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3325] scripts/openserdbctl, scripts/openserdbctl.mysql:
	  - added scripting for migrating mysql data from 1.2 to 1.3
	  NOTE that the tables containing temporary data (runtime data flushed
	  to DB), like usrloc and presence are not migrated.

2007-12-12 13:41  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3324] test/README:
	  - add a warning that the tests in the current state should only run
	  from devs

2007-12-12 12:47  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3323] modules/carrierroute/route_config.c:
	  - revert the last change LOG -> LM

2007-12-12 12:42  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3322] scripts/openserdbctl.db_berkeley:
	  - add a small hack to autodetect the db_load and db_dump commands on
	  debian

2007-12-12 12:30  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3321] modules/dbtext/dbtext.h:
	  - fix double variable declaration

2007-12-12 12:01  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3320] modules/tm/tm.c:
	  - fix warning

2007-12-12 11:46  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3319] scripts/openserdbctl:
	  preparing the mysql DB migration script:
	  - unified the DBNAME with DB_PATH to simplify the code
	  - better selection based on used DB type
	  - migrate is available only for misql

2007-12-12 10:17  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3318] modules/seas/encode_msg.c, modules/seas/seas.h,
	  modules/seas/xaddress.h:
	  - removed some old commented out usages of LOG()
	  - fixed code ambiguity ( added some brakets)

2007-12-12 09:26  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3317] modules/ldap/README:
	  - README re-generated from SGML docs

2007-12-12 09:25  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r3316] pvar.c:
	  - propagate scripts flags for avps (reported by Helmut Kuper)

2007-12-12 09:23  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3315] modules/benchmark/README,
	  modules/benchmark/doc/benchmark_devel.sgml:
	  - updated some code example (LOG replaced with LM_*)

2007-12-12 09:22  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3314] modules/carrierroute/route_config.c:
	  -forgotten LOG() replaced with LM_ERR()

2007-12-11 17:59  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3313] fastlock.h:
	  - fix typo, add doxygen documentation

2007-12-11 16:47  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3311] modules/presence_xml/README,
	  modules/presence_xml/doc/presence_xml_user.sgml:
	  - fix error in documentation, wrong section for module parameter

2007-12-11 15:38  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3309] test/1.sh, test/10.sh, test/11.sh, test/12.sh, test/13.sh,
	  test/14.sh, test/15.sh, test/16.sh, test/17.sh, test/18.sh,
	  test/19.sh, test/2.sh, test/20.sh, test/21.sh, test/3.sh, test/4.sh,
	  test/5.sh, test/6.sh, test/7.sh, test/8.sh, test/9.sh:
	  - adds proper copyright notice

2007-12-11 15:21  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3308] test/18.sh, test/19.cfg, test/19.sh, test/20.cfg, test/20.sh,
	  test/21.cfg, test/21.sh, test/auth_test.xml:
	  - more tests
	  - user lookup for proxy functionality
	  - authentification with auth and auth_db
	  - basic accounting functionality
	  - openser command line arguments
	  - Credits go to Frederick Bullik, Frederick dot Bullik at 1und1 dot de

2007-12-11 14:12  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3307] modules/tm/README, modules/tm/doc/tm_user.sgml:
	  - documentation for the replay code of t_relay()

2007-12-11 13:51  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3306] error.h, modules/tm/t_fwd.c, modules/tm/tm.c:
	  - fixed the returning code of t_relay() script function. We need more
	  values for error situation in order to describe the error (and take
	  the appropriate actions from script).
	  - new error code E_NO_DESTINATION was added to report when there are
	  no available branch to forward to.
	  - t_relay returns now:
	  -1 : generic internal error
	  -2 : bad message (parsing errors)
	  -3 : no destination available (no branches were added or request
	  already cancelled)
	  -4 : bad destination (unresolvable address)
	  -5 : destination filtered (black listed)
	  -6 : generic send failed
	  Closes bug #1764906.

2007-12-11 12:55  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3304] main.c:
	  - in "no fork" mode ignore the death of process we haven't recorded.
	  These are processe dyanmically forked by module's functions, via
	  script (like exec).

2007-12-11 12:23  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3303] modules/cpl-c/loc_set.h:
	  - fixed ordering of uris from location set based on q value
	  Closes bug #1848254

2007-12-10 17:26  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3302] CREDITS:
	  - update credits for release

2007-12-10 17:24  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3301] modules/pua/send_publish.c:
	  - fixed double free in case of error.
	  Closes bug #1847821

2007-12-10 17:11  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3299] examples/web_im/click_to_dial.php,
	  examples/web_im/send_im.php:
	  - send Message and click-to-dial scripts updated to current IM fifo
	  syntax
	  Credits go to Dragos Oancea < dragos at voice - system dot ro >
	  Closes bug #1794547

2007-12-10 17:01  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3298] modules/tm/t_msgbuilder.c:
	  - fixed bogus route set in local generated ACK and CANCEL requests
	  when the inbound request contained a Route header (in sequential
	  requests).
	  Closes bug #1752578

2007-12-10 14:14  Dan Pascu, <dan at ag-projects dot com>

	* [r3297] modules/sst/sst_handlers.c:
	  Set data pointer to NULL after freeing the data instead of writing a 0
	  byte to the freed location

2007-12-10 12:30  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3296] modules/tm/dlg.c, modules/tm/t_msgbuilder.c,
	  parser/parse_rr.c, parser/parse_rr.h:
	  - fixed the bahaviour of do_duplicate_rr() - use an extra param to
	  control if only the first element or the entire chain of rr's (of a
	  body) should br duplicated.
	  Fixed memory leak due double duplication in TM (old ldg code).
	  Reported by Tiberius Duluman < tiberius dot duluman at iquestint dot
	  com >

2007-12-10 12:23  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3295] test/6.sh, test/Makefile:
	  - output also the number of the actual test
	  - test 6 checks uses now also '-C'

2007-12-10 11:34  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r3294] modules/avpops/avpops_impl.c, modules/avpops/avpops_parse.c:
	  - fixed bug when loading all avps from db and was required to set
	  flags (reported and hints by Helmut Kuper; introduced in 1.3 by PV
	  redesign)

2007-12-10 11:00  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3293] parser/parse_rr.c:
	  fixed typo

2007-12-10 10:01  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r3292] modules/siptrace/siptrace.c:
	  - update traced_replies statistic (reported by Dan Pascu, closes
	  #1845163)

2007-12-07 17:00  Dan Pascu, <dan at ag-projects dot com>

	* [r3291] modules/tm/README, modules/tm/doc/tm_user.sgml:
	  Fixed yet another typo

2007-12-07 16:16  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3290] prime_hash.c, prime_hash.h:
	  - some small changes, nevertheless extensive tests have been done for
	  carrierroute, the only user of this code
	  - fix static global variables, local ones are better
	  usage of static variables makes no sense in the first place, forgot to
	  convert this during the conversion from the 'sp-hash' module
	  - remove two not needed functions exports from header file
	  - replace two global #defines with static const variables

2007-12-07 13:34  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3289] modules/tm/README, modules/tm/doc/tm_user.sgml:
	  - fix type in documentation

2007-12-07 11:16  Julien Blache, <jblache at debian dot org>

	* [r3288] modules/acc/diam_avp.c:
	  Fix discrepancy between declaration and definition of AAACreateAVP().

2007-12-06 21:47  Dan Pascu, <dan at ag-projects dot com>

	* [r3287] modules/dialog/README, modules/dialog/doc/dialog_user.sgml:
	  Fixed default dlg_match_mode value in docs

2007-12-06 21:46  Dan Pascu, <dan at ag-projects dot com>

	* [r3286] modules/dialog/README, modules/dialog/doc/dialog_user.sgml:
	  Fixed typos in dialog docs

2007-12-06 18:58  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3285] etc/openser.init:
	  - remove obsolete file - it is debian specific (the deb already
	  provides one) and it monit dependent (not standard).

2007-12-06 18:56  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3284] etc/openser.cfg:
	  -fixed extra uncommented code related to presence.

2007-12-06 18:46  Juha Heinanen, <jh at tutpro dot com>

	* [r3283] modules/pua_mi/mi_func.c:
	  * Changed LM_ERR to LM_DBG (typo in LM conversion).

2007-12-06 18:36  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3282] modules/dialog/dlg_req_within.c:
	  -fixed bug in terminating the dialog when BYEs are locally generated -
	  do not care about the reply codes for BYE; whatever reply is received,
	  terminate the dialog

2007-12-06 18:30  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3280] modules/nathelper/sip_pinger.h:
	  - fixed the test for detected the replies to the NAT ping requests -
	  before testing if the second via is present, we need to force its
	  parsing.
	  Reported by Dan Pascu

2007-12-06 18:09  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3277] modules/usrloc/udomain.c:
	  - statistics exported by usrloc requires not locking and they are not
	  protected anymore by the global lock of usrloc (since 1.2, usrloc hash
	  table has multiple locks).
	  - this bug would affect only non i386 platforms (on i386 atomic ops
	  are used).
	  Reported by Dan Pascu

2007-12-06 17:03  Anca Vamanu, <anca at voice-system dot ro>

	* [r3276] etc/openser.cfg:
	  - updated default configuration file
	  - added more features: presence, db_alias, accounting, call diversion,
	  multidomain support, better routing.
	  - closes BUG #1609988

2007-12-06 15:25  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3275] packaging/debian-etch/control, packaging/debian-etch/rules,
	  packaging/debian-sarge/rules, packaging/debian/control,
	  packaging/debian/rules:
	  - don't generate the db schemas in the debian build, causes diffs
	  - remove then unneeded xsltproc build dependency

2007-12-06 14:58  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3274] modules/dialog/dlg_db_handler.c:
	  - fixed potential crash - do not trust the DB scheme and check if the
	  loaded values ar null or not.
	  Related to bug #1838923

2007-12-06 14:09  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3273] modules/auth/README, modules/auth/doc/auth_user.sgml:
	  - fix error in auth documentation about the secret parameter

2007-12-06 13:51  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3272] modules/benchmark/README,
	  modules/benchmark/doc/benchmark_user.sgml:
	  - fix documentation, the module parameters are int and not string

2007-12-06 12:44  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3270] modules/acc/acc_mod.c, modules/rr/api.c, modules/rr/api.h,
	  modules/uac/uac.c:
	  - modules using the is_direction() function from RR must check if the
	  RR append_fromtag paramter is enabled.
	  Closes bug #1845325

2007-12-06 12:10  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3269] modules/dialog/dlg_handlers.c:
	  - fixed the way the callee route set is computed - we need to take
	  into account how many RR header were locally added.
	  Closes bug #1834870

2007-12-06 09:57  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r3268] modules/dbtext/README, modules/dbtext/doc/dbtext_user.sgml:
	  - added notes about non-caching mode behaviour and time_t-integer
	  relation

2007-12-06 07:44  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r3267] modules/dbtext/dbt_tb.c:
	  - fixed bug when updating string columns and the value is given as str
	  (related to #1838923 reported by Ovidiu Sas, patch by Salah Uddin
	  Ahmed)

2007-12-05 18:16  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3265] modules/dialog/dlg_db_handler.c:
	  - fixed setting the dialog timeout value at startup when the expire
	  time is already passed.
	  - fixed expire time de-sync (during runtime) with the sys time
	  Closes bug #1841788

2007-12-05 18:14  Dan Pascu, <dan at ag-projects dot com>

	* [r3264] pvar.c:
	  Fixed typos

2007-12-05 15:29  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3263] modules/tm/t_lookup.c, modules/tm/tm.c:
	  - make some log messages a little bit more understandable

2007-12-05 15:13  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3262] modules/carrierroute/README,
	  modules/carrierroute/doc/carrierroute_user.sgml:
	  - add a note about a limitation of cr_reload_routes when new domains
	  are added

2007-12-05 09:49  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3261] modules/tm/t_funcs.c, modules/tm/t_hooks.c:
	  - improve errors/ debug messages

2007-12-05 09:24  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3260] modules/tm/h_table.h, modules/tm/t_fwd.c:
	  - TM modules stores in transactions the number of RR headers that were
	  added.
	  - the information is stored per branch as the number of RR headers may
	  be different from branch to branch (for example due the protocol
	  change)
	  - part of the fixup for bugs #1834870 and #1752578

2007-12-05 09:14  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3259] lump_struct.h, msg_translator.c:
	  - conditional lumps uses a lump flag to store the result of the
	  condition evaluation - we need this in order to determin later if some
	  conditional lumps were or not applied (to be more precise, we need
	  this in order to count how many RR headers were locally added).
	  - part of the fixup for bug #1834870 and #1752578

2007-12-05 09:12  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3258] cfg.y:
	  - make errors and warnings from config file parsing more
	  understandable

2007-12-05 08:58  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3257] modules/rr/record.c:
	  - mark also the lumps added via "record_route_preset"
	  - related to the previous commit

2007-12-04 15:48  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3256] ChangeLog:
	  - another round of chances for Changelog

2007-12-04 14:13  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3255] etc/openser.cfg, modules/auth/README,
	  modules/auth/doc/auth_user.sgml:
	  - disable the qop parameter after discussion on the list again,
	  because it don't improve the security actually
	  - add a note to the auth module readme about the module behaviour

2007-12-04 09:39  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3254] scripts/openserctl:
	  - IFS is not needed at all, the exact syntax of the CMD is sufficient

2007-12-03 20:23  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3253] modules/rr/record.c:
	  - the lump achors for inserting the RR header are marked as type
	  RECORDROUTE inorder to be identifiable later (we need to count how
	  many RR hdrs we added).
	  Part of fixup for bug #1834870

2007-12-03 20:20  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3252] Makefile.sources:
	  - a more compact version of a previous change

2007-12-03 17:50  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3251] scripts/openserdbctl.pgsql:
	  - replace the hard coded database table names for GRANT with the
	  defines from
	  openserdbctl.base

2007-12-03 17:41  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3250] modules/sms/libsms_getsms.c:
	  - fix typo in error msg

2007-12-03 17:39  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3249] test/6.sh:
	  - silence test 6

2007-12-03 17:38  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3248] scripts/openserctl:
	  - fix the 'openserctl ping' command after finding the correct bash
	  syntax,
	  i 'really' like bash ;-)
	  - closes #1834421

2007-12-03 16:35  Christian Schlatter, <cs at unc dot edu>

	* [r3247] modules/h350/doc/h350_user.sgml:
	  Added function usage scope

2007-12-03 16:35  Christian Schlatter, <cs at unc dot edu>

	* [r3246] modules/ldap/doc/ldap_user.sgml:
	  Added function usage scope

2007-12-03 15:53  Bastian Friedrich, <bastian dot friedrich at collax dot com>

	* [r3244] modules/perl/README, modules/perl/doc/perl_pod.sgml,
	  modules/perl/lib/perl/OpenSER/Utils/PhoneNumbers.pm:
	  POD documentation in OpenSER::Utils::PhoneNumbers was broken

2007-12-03 15:39  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3243] main.c:
	  - console help, '-p' is more used anymore for port setting, fix msg
	  for '-b'

2007-12-03 14:46  Dan Pascu, <dan at ag-projects dot com>

	* [r3242] modules/tm/README, modules/tm/doc/tm_user.sgml:
	  Fixed some typos and rephrased a sentence to fix grammar

2007-12-03 12:47  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3240] modules/tm/README, modules/tm/doc/tm_user.sgml:
	  - documentation of t_check_trans() updated

2007-12-01 16:17  Dan Pascu, <dan at ag-projects dot com>

	* [r3239] ip_addr.h:
	  Avoid a read overflow if name is not null terminated and make sure
	  hostname gets a null terminating byte even if the original name didn't
	  have one

2007-12-01 11:27  Dan Pascu, <dan at ag-projects dot com>

	* [r3238] modules/tm/t_hooks.h:
	  Fixed another typo

2007-11-30 16:51  Dan Pascu, <dan at ag-projects dot com>

	* [r3236] modules/tm/t_hooks.h:
	  Fixed typo

2007-11-29 17:26  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3234] test/17.sh, test/8.sh:
	  - remove unneeded mysql stuff from test 8
	  - test 17 creates now a fresh db

2007-11-29 17:23  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3233] scripts/openserdbctl.db_berkeley:
	  - fix path for database
	  - create extra and presence tables too
	  - delete a db in 'drop' completly

2007-11-29 16:14  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3232] etc/openser.cfg:
	  - enable qop mode for auth challenge function, as recommended in
	  documentation

2007-11-29 11:57  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r3231] Makefile:
	  - dictionary.radius is not overwritten at re-install,
	  dictionary.radius.sample is created instead (reported by Norm
	  Brandinger, #1765763)

2007-11-29 11:30  Julien Blache, <jblache at debian dot org>

	* [r3230] Makefile.defs:
	  Add support for GNU/kFreeBSD to the build system.
	  System name is GNU/kFreeBSD, substitute / for _ in $(OS).

2007-11-29 11:29  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r3229] cfg.y:
	  - hint in case of error related to #1799563

2007-11-29 10:38  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3228] modules/cpl-c/cpl_run.c:
	  - fixed setting the NAT flag in brach flags
	  Closes bug #1838564

2007-11-28 20:34  Will Quan, <wiquan at employees dot org>

	* [r3227] modules/db_berkeley/bdb_lib.c, scripts/openserdbctl.base,
	  scripts/openserdbctl.db_berkeley, scripts/openserdbctl.dbtext:
	  Moved definition of STANDARD_TABLES, EXTRA_TABLES, PRESENCE_TABLES to
	  openserdbctl.base.
	  Add tables 'dispatcher' and 'dialog' to list of STANDARD_TABLES (Patch
	  provided from Ovidiu Sas).
	  Modified bdb_lib::bdblib_create_table to return error if the table
	  does not exist.
	  These are all fixes for Bug# 1836601: db_berkeley don't work

2007-11-28 19:50  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3226] modules/mi_xmlrpc/Makefile, modules/mi_xmlrpc/abyss_conf.c,
	  modules/mi_xmlrpc/abyss_conn.c, modules/mi_xmlrpc/abyss_conn.h,
	  modules/mi_xmlrpc/abyss_data.c, modules/mi_xmlrpc/abyss_data.h,
	  modules/mi_xmlrpc/abyss_date.c, modules/mi_xmlrpc/abyss_date.h,
	  modules/mi_xmlrpc/abyss_file.c, modules/mi_xmlrpc/abyss_file.h,
	  modules/mi_xmlrpc/abyss_http.c, modules/mi_xmlrpc/abyss_http.h,
	  modules/mi_xmlrpc/abyss_info.h, modules/mi_xmlrpc/abyss_mallocvar.h,
	  modules/mi_xmlrpc/abyss_response.c, modules/mi_xmlrpc/abyss_server.c,
	  modules/mi_xmlrpc/abyss_server.h, modules/mi_xmlrpc/abyss_session.c,
	  modules/mi_xmlrpc/abyss_session.h, modules/mi_xmlrpc/abyss_socket.c,
	  modules/mi_xmlrpc/abyss_socket.h,
	  modules/mi_xmlrpc/abyss_socket_unix.c,
	  modules/mi_xmlrpc/abyss_socket_unix.h,
	  modules/mi_xmlrpc/abyss_thread.h,
	  modules/mi_xmlrpc/abyss_thread_fork.c,
	  modules/mi_xmlrpc/abyss_token.c, modules/mi_xmlrpc/abyss_token.h,
	  modules/mi_xmlrpc/abyss_trace.c, modules/mi_xmlrpc/abyss_trace.h,
	  modules/mi_xmlrpc/abyss_xmlrpc_int.h,
	  modules/mi_xmlrpc/abyss_xmlrpc_server.c,
	  modules/mi_xmlrpc/mi_xmlrpc.c:
	  fixup to the libxmlrpc pthread support problem - replace the compiled
	  abyss server provided by the libxmlrpc with our own compiling:
	  - import the source files for the abyss server (used by the libxmlrpc)
	  in order to force compiling of fork support (and not pthread)
	  - change makefile to compile these additional files for libxmlrpc ver
	  > 1.0.0 ; also, in this case, the module will not link with the abyss
	  libs provided by the libxmlrpc
	  - if 0.9.10 version is detected, the imported sources will not be
	  compiled and the libxmlrpc code will be used.
	  Closes bug 1835638.
	  Many thanks to Dan Pascu for the help in troubleshooting and fixing
	  this nasty problem.

2007-11-28 19:36  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3225] Makefile.sources:
	  - module's Makefile may force a lsit of files not to be compiled. This
	  extension is needed by a following fixup.

2007-11-28 17:15  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3224] forward.c:
	  - add a comment to document the sometimes wrong port output in the
	  debug message in forward_reply.

2007-11-28 13:06  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3223] modules/maxfwd/maxfwd.c, modules/pdt/pdt.c:
	  - decrease log level of maxfwd and pdt module initialization messages

2007-11-28 11:34  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3222] modules/auth_db/authdb_mod.c,
	  modules/auth_radius/authrad_mod.c, modules/osp/osp_mod.c:
	  - improve error messages, give some hints about the needed modules

2007-11-27 18:20  Dan Pascu, <dan at ag-projects dot com>

	* [r3221] modules/presence/hash.c:
	  Removed unnecessary test

2007-11-27 18:16  Dan Pascu, <dan at ag-projects dot com>

	* [r3220] modules/presence/hash.c:
	  Fixed 2 cases where a lock may not be released on cleanup

2007-11-27 18:14  Dan Pascu, <dan at ag-projects dot com>

	* [r3219] modules/presence/hash.c:
	  Fixed index when doing cleanup

2007-11-27 17:39  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3218] test/12.sh:
	  - don't echo return status, be more tolerant

2007-11-27 17:30  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3217] test/12.cfg, test/12.sh:
	  - add some linefeeds to test 12
	  - improve test to check the output

2007-11-27 10:10  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3216] scripts/openserdbctl.db_berkeley:
	  - add id svn property to file

2007-11-26 19:16  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3214] modules/dialog/README, modules/dialog/dialog.c,
	  modules/dialog/doc/dialog_user.sgml:
	  - dialog uses now the default db rw URL, if a db_mode != 0 is
	  specified
	  - this behaviour is consistent to other modules
	  - adjust the documentation to this change
	  - fix error in documentation, db_mode is not a string parameter

2007-11-26 19:04  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3213] packaging/debian-etch/control, packaging/debian/control:
	  - db_berkeley module should depend on berkeleydb tools, these are
	  needed
	  from openserdbctl to setup a database and other tasks

2007-11-26 19:03  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3212] db/schema/dialog.xml, scripts/db_berkeley/openser/version,
	  scripts/dbtext/openser/version, scripts/mysql/dialog-create.sql,
	  scripts/postgres/dialog-create.sql:
	  - increase dialog db version
	  - closes #1838888

2007-11-26 18:57  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3211] test/2.cfg:
	  - fix for database tests, dialog module should use database

2007-11-26 16:23  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3210] dprint.h:
	  - fixed missing log level printing when syslog is used.

2007-11-26 14:24  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3209] scripts/openserctlrc, scripts/openserdbctl.pgsql:
	  - add a note about the GRANT problem for postgres if not all tables
	  are installed
	  - simplify the GRANT statement for dbrw user for postgres in setup
	  script

2007-11-26 13:40  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3208] etc/openser.cfg:
	  - remove now unneeded hints about the blacklist and ipv6 deactivation
	  - use the error msg from RFC for msg len check
	  - add one xlog example with pseudo-variables

2007-11-26 13:22  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3207] modules/db_berkeley/bdb_lib.c:
	  - improve error msg on startup like in commit r3205 for dbtext

2007-11-26 13:18  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3206] test/15.sh, test/17.sh:
	  - dbtext and db_berkeley must be loaded before modules that want to
	  use them

2007-11-26 13:00  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r3205] modules/dbtext/dbt_lib.c:
	  - more verbose error message when the dbtext is not initialized
	  properly, usually because it was loaded after the module that tries to
	  use it (related to #1836441 reported by Henning Westerholt)

2007-11-23 16:13  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3204] scripts/openserdbctl.pgsql:
	  - add domainpolicy and carrierroute tables to GRANT rights

2007-11-23 15:01  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3203] modules/dispatcher/dispatch.c:
	  - fix for dispatcher: treat an empty db not as an error on startup
	  in the cfg mode it has already the same behaviour

2007-11-23 14:23  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3202] modules/auth/README, modules/auth/doc/auth_user.sgml,
	  modules/auth_db/README, modules/auth_db/authorize.c,
	  modules/auth_db/doc/auth_db_user.sgml:
	  - small comment addition in auth_db
	  - fix mixup in auth and auth_db documentation for calculate_ha1
	  parameter auth don't use a database at all, 
	  auth_db don't use the password_spec PV

2007-11-22 18:20  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3201] test/17.sh:
	  - add a test for db_berkeley module

2007-11-22 18:09  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3200] modules/db_berkeley/db_berkeley.c, modules/dbtext/dbt_base.c:
	  - output the database location on startup

2007-11-22 17:49  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3199] modules/carrierroute/README,
	  modules/carrierroute/doc/carrierroute_user.sgml, modules/lcr/README,
	  modules/lcr/doc/lcr_user.sgml:
	  - documentation update, use entities for db_url and example url

2007-11-22 17:39  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3198] test/16.sh, test/2.sh:
	  - add a check for mysql driver to test 2
	  - add a test for postgres db

2007-11-22 17:10  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3197] doc/dbschema/xsl/postgres.xsl,
	  scripts/postgres/serweb-create.sql:
	  - no need to output the PRIMARY KEY name two times, causes error for
	  serweb tables

2007-11-22 16:47  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3196] modules/unixodbc/my_con.c:
	  - port fixes from 1.2 branch, r3195, (DSN and invalid pointer fix)
	  - check return status for db initialization functions, return errors
	  on failure
	  - free the handle memory for driver on errors

2007-11-22 15:30  Dan Pascu, <dan at ag-projects dot com>

	* [r3194] doc/dbschema/xsl/postgres.xsl,
	  scripts/postgres/acc-create.sql, scripts/postgres/alias_db-create.sql,
	  scripts/postgres/auth_db-create.sql,
	  scripts/postgres/avpops-create.sql, scripts/postgres/cpl-create.sql,
	  scripts/postgres/dialog-create.sql,
	  scripts/postgres/domain-create.sql,
	  scripts/postgres/domainpolicy-create.sql,
	  scripts/postgres/group-create.sql, scripts/postgres/imc-create.sql,
	  scripts/postgres/lcr-create.sql, scripts/postgres/msilo-create.sql,
	  scripts/postgres/pdt-create.sql,
	  scripts/postgres/permissions-create.sql,
	  scripts/postgres/presence-create.sql,
	  scripts/postgres/registrar-create.sql,
	  scripts/postgres/rls-create.sql, scripts/postgres/serweb-create.sql,
	  scripts/postgres/siptrace-create.sql,
	  scripts/postgres/speeddial-create.sql,
	  scripts/postgres/uri_db-create.sql,
	  scripts/postgres/usrloc-create.sql:
	  Prefix index names with the table name for postgres databases, as
	  postgres wants database wide unique index names

2007-11-22 12:55  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3193] modules/usrloc/udomain.c:
	  - improve logging, if we're failing, then output the db table (and
	  aor)

2007-11-22 12:51  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3192] modules/cfgutils/cfgutils.c:
	  - fix, use rand() for the pseudo-variable too

2007-11-22 12:49  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3191] modules/dbtext/README, modules/dbtext/doc/dbtext_user.sgml:
	  - documentation fix: s/ser/openser/, include dbtext driver in db_url
	  parameter

2007-11-22 12:35  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3190] test/15.sh, test/2.cfg, test/2.sh:
	  - don't load dbtext mod in test 2, change cfg to not include mysql, do
	  this in test
	  - add a new test that checks openser db related module startup with
	  dbtext

2007-11-22 10:43  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3189] main.c, statistics.c, tcp_main.c, udp_server.c:
	  - silence more log messages on startup, as suggested from Dan
	  - use INFO instead of NOTICE for shared memory msg
	  - output also the private memory setting
	  - use DBG for statistics manager startup msg
	  - make udp and tcp init msgs more user understandable

2007-11-21 19:44  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3187] modules/cpl-c/cpl_sig.c:
	  - fixed improper call of SET_DSTURI action from cpl-c
	  Reported by Inaki Baz Castillo < ibc at aliax dot net>

2007-11-21 17:40  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3184] modules/cpl-c/cpl_parser.c, modules/cpl-c/cpl_time.c:
	  - fixed bogus detection and setting (at encoding time) of the bymonth
	  / bymonthday attributes
	  Reported by Aki Rehn < aki dot rehn at setera dot fi >

2007-11-21 12:26  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3183] modules/nathelper/nathelper.c:
	  - fixed bogus initialization of RTPPROXY socks in timer processes.
	  Reported by Inaki Baz Castillo < ibc at in dot ilimit dot es >

2007-11-20 18:41  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3182] modules/nathelper/nathelper.c:
	  - more fixing on the lookup flag for force_rtp_proxy().
	  Related to bug ID 1815162

2007-11-20 14:47  Anca Vamanu, <anca at voice-system dot ro>

	* [r3181] modules/presence/presentity.c:
	  - fixed a memory leak bug (reported by Dan Pascu)

2007-11-20 13:48  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3180] parser/msg_parser.c:
	  - forgotten DBG converted to LM_DBG

2007-11-20 13:18  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3178] tcp_main.c:
	  - avoid removel of the TCP connections from the io list by the
	  attendend process. Only TPC main and receivers should do that.
	  Reported by Juha Heinanen <jh at tutpro dot com>

2007-11-20 10:47  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3176] modules/acc/acc.c:
	  - fixed bogus index in the RADIUS attr array
	  Reported by Dan Pascu

2007-11-20 08:55  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3175] parser/parse_rr.c:
	  - fixed bogus test leading to a missing ',' in printed route set.
	  Closes bug #1834860
	  Found by:
	  Tavis Paquette (tavis at galaxytelecom dot net)
	  Peter Baer (pbaer at galaxytelecom dot net)

2007-11-20 08:46  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3174] main.c, pvar.c:
	  - some logs moved from NOTICE to DBG

2007-11-19 18:00  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3172] main.c:
	  - fixed destroy sequence - if script check is done, do not make a
	  general clenup as none of the services to be cleaned are even
	  initialized.
	  Closes 1827363.

2007-11-19 14:15  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3170] modules/carrierroute/README,
	  modules/carrierroute/doc/carrierroute_user.sgml:
	  - add missing documentation about cr_prime_balance_by_from function

2007-11-19 11:17  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3169] daemonize.c:
	  - if pif file contains bogus pid, ignore it and replace it with the
	  new pid
	  - check if the writing of the pid/pgid in file is successful
	  Closes bug 1682036.

2007-11-19 10:37  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3168] modules/permissions/mi.c:
	  - use the newly added macro for setting the lens of the static MI
	  strings.

2007-11-19 10:36  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3167] mi/mi_core.c, mi/tree.h:
	  - to avoid buffer overflow or garbage printing due bogus statis lens,
	  a new macro is added to auto-compute the len of the static string at
	  compile time (no penalty at runtime).
	  Pontential problem reported by Dan Pascu.

2007-11-16 18:12  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3166] scripts/openserctl.base:
	  - replace the gnu awk specific line match with (hopefully) more
	  portable code, tested with gawk and mawk

2007-11-16 17:59  Dan Pascu, <dan at ag-projects dot com>

	* [r3165] modules/permissions/mi.c:
	  Use a message that better describe the situation

2007-11-16 16:48  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3164] main.c:
	  - remove the ignorance of SIG CHILD in no fork mode - can be
	  misleading as a subprocess may crash without terminating openser

2007-11-16 16:03  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3163] modules/permissions/mi.c:
	  - fixed trusted_reload MI command - disable it if cache is not used.
	  Reported by Dan Pascu.

2007-11-16 15:52  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3162] modules/gflags/gflags.c:
	  - removed some old temporary debug log

2007-11-16 15:48  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3161] mi/mi_core.c:
	  - fixed the uptime MI command - usage of a predefined len for the
	  string returned by ctime() was leading to buffer overflow.

2007-11-16 15:46  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3160] dprint.c, dprint.h:
	  - fixed ctime() internal buffer overwrite ; as the LM_* functions are
	  using ctime(), it was resulting in conflict with the rest of the code
	  where this function was also used -> LM_* functions use ctime_r() with
	  a private buffer to avoid any conflicts.

2007-11-16 15:01  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3159] mi/mi.c:
	  - force sthutdown if one of the MI childern fails to init.

2007-11-16 14:57  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3158] test/11.cfg, test/12.cfg, test/12.sh, test/13.sh, test/14.cfg,
	  test/14.sh, test/6.sh, test/7.sh, test/carrierroute.cfg:
	  - some cleanup in existing tests
	  - add more tests:
	  12 - script with PVs, transformations and xlog
	  13 - carrierroute with db
	  14 - carrierroute with config file

2007-11-16 14:46  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3157] modules/carrierroute/carrierroute.c,
	  modules/carrierroute/route_fifo.c:
	  - carrierroute use the default read only db url, like other modules
	  - replace tab in fifo command output, better for tests

2007-11-16 12:45  Dan Pascu, <dan at ag-projects dot com>

	* [r3156] modules/permissions/mi.c:
	  Fixed length of string constants. This should be better done by
	  #define-ing some constants and using sizeof(constant)-1 on them.

2007-11-16 11:31  Anca Vamanu, <anca at voice-system dot ro>

	* [r3155] modules/presence/event_list.c, modules/presence/event_list.h,
	  modules/presence/presentity.c, modules/presence/publish.c,
	  modules/presence/subscribe.c:
	  - fixed memory leak problems (thanks to Dan Pascu)

2007-11-16 10:31  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3154] modules/carrierroute/README,
	  modules/carrierroute/carrierroute.c,
	  modules/carrierroute/carrierroute.h,
	  modules/carrierroute/doc/carrierroute_user.sgml,
	  modules/carrierroute/route_func.c, modules/carrierroute/route_func.h:
	  - rework non functional AVP fixup for cr_user_rewrite_uri function
	  - now it uses the new PV infrastructure like tree_rewrite_uri
	  - remove now unused AVP matching code
	  - adapt documentation to this change
	  - fix error in documentation, for the prime balance function are only
	  numerical hash sources valid
	  - fix error in config example for failure_routes, thanks to Essobi
	  from IRC
     - improve documentation, be more explicit about the requirements to
	  the R-URI for the rewrite functions, add a note to the example cfg too

2007-11-16 09:16  Anca Vamanu, <anca at voice-system dot ro>

	* [r3153] modules/rls/rls.c:
	  - fixed uninitialized variable

2007-11-16 09:10  Dan Pascu, <dan at ag-projects dot com>

	* [r3152] modules/presence/subscribe.c:
	  Initialize boolean flag

2007-11-15 22:04  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3151] modules/auth_diameter/avp.c, modules/auth_diameter/tcp_comm.c,
	  modules/cpl-c/cpl_loader.c, modules/cpl-c/cpl_nonsig.h,
	  modules/cpl-c/cpl_proxy.h, modules/cpl-c/cpl_run.c,
	  modules/cpl-c/cpl_sig.c, modules/cpl-c/cpl_switches.h,
	  modules/cpl-c/loc_set.h, modules/nathelper/nathelper.c,
	  modules/postgres/dbase.c, modules/postgres/pg_con.h,
	  modules/rr/README, modules/rr/doc/rr_devel.sgml:
	  - more migration of logs to LM_* functions

2007-11-15 20:52  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3150] parser/contact/contact.c, parser/contact/parse_contact.c:
	  - more convertion to LM_* logging

2007-11-15 20:41  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3149] parser/digest/digest.c:
	  - migrated to LM_* logging

2007-11-15 20:31  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3148] modules/tm/sip_msg.c, modules/tm/t_reply.c, msg_translator.c,
	  parser/case_retr.h, parser/hf.c, parser/hf.h, parser/keys.h,
	  parser/msg_parser.c, parser/parse_hname2.c:
	  Fixed 503 reply handling:
	  - 503 has minimum priority in branch selection (TM)
	  - blacklist a 503 only if it contains Retry-After header (required the
	  addition of hdr parser)
	  - when sending out, convert 503 to 500 to prevent chain blocking
	  For more on the topic, please see discussion attached to the bug
	  #1822692.
	  Closes bug 1822692

2007-11-15 20:26  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3147] modules/tm/tm.c:
	  - better error message

2007-11-15 18:16  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3146] modules/carrierroute/carrier_tree.c:
	  - str_init don't work reliable on a char pointer, this could lead to
	  no functional routing in config file mode

2007-11-15 15:43  Julien Blache, <jblache at debian dot org>

	* [r3145] packaging/debian/control, packaging/debian/rules:
	  Resync with Debian unstable.

2007-11-15 15:16  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3144] modules/carrierroute/README,
	  modules/carrierroute/doc/carrierroute_user.sgml:
	  - add example about the necessary extensions for user table

2007-11-15 14:09  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3142] db/schema/Makefile, doc/dbschema/xsl/db_berkeley.xsl,
	  scripts/db_berkeley/openser/acc,
	  scripts/db_berkeley/openser/active_sessions,
	  scripts/db_berkeley/openser/active_watchers,
	  scripts/db_berkeley/openser/address,
	  scripts/db_berkeley/openser/admin_privileges,
	  scripts/db_berkeley/openser/aliases,
	  scripts/db_berkeley/openser/carrierroute,
	  scripts/db_berkeley/openser/cpl,
	  scripts/db_berkeley/openser/dbaliases,
	  scripts/db_berkeley/openser/dialog,
	  scripts/db_berkeley/openser/dispatcher,
	  scripts/db_berkeley/openser/domain,
	  scripts/db_berkeley/openser/domainpolicy,
	  scripts/db_berkeley/openser/grp, scripts/db_berkeley/openser/gw,
	  scripts/db_berkeley/openser/gw_grp,
	  scripts/db_berkeley/openser/imc_members,
	  scripts/db_berkeley/openser/imc_rooms,
	  scripts/db_berkeley/openser/lcr, scripts/db_berkeley/openser/location,
	  scripts/db_berkeley/openser/missed_calls,
	  scripts/db_berkeley/openser/pdt, scripts/db_berkeley/openser/pending,
	  scripts/db_berkeley/openser/phonebook,
	  scripts/db_berkeley/openser/presentity,
	  scripts/db_berkeley/openser/pua, scripts/db_berkeley/openser/re_grp,
	  scripts/db_berkeley/openser/rls_presentity,
	  scripts/db_berkeley/openser/rls_watchers,
	  scripts/db_berkeley/openser/route_tree,
	  scripts/db_berkeley/openser/server_monitoring,
	  scripts/db_berkeley/openser/server_monitoring_agg,
	  scripts/db_berkeley/openser/silo,
	  scripts/db_berkeley/openser/sip_trace,
	  scripts/db_berkeley/openser/speed_dial,
	  scripts/db_berkeley/openser/subscriber,
	  scripts/db_berkeley/openser/trusted, scripts/db_berkeley/openser/uri,
	  scripts/db_berkeley/openser/usr_preferences,
	  scripts/db_berkeley/openser/usr_preferences_types,
	  scripts/db_berkeley/openser/version,
	  scripts/db_berkeley/openser/watchers,
	  scripts/db_berkeley/openser/xcap:
	  - add support for default values to db_berkeley database source

2007-11-15 13:23  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r3141] parser/parse_methods.c:
	  - fix parse_methods() issue with unknown methods
	  - the order of testing the valid character within the method was done
	  too early
	  - closes #1831969, reported by Ovidiu Sas

2007-11-15 11:00  Klaus Darilion, <klaus dot mailinglists at pernau dot at>

	* [r3140] modules/maxfwd/README, modules/maxfwd/doc/maxfwd_user.sgml:
	  - added doc

2007-11-15 09:30  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3139] modules/carrierroute/README,
	  modules/carrierroute/doc/carrierroute_user.sgml:
	  - extend documentation

2007-11-14 16:38  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3137] modules/carrierroute/carrier_tree.c,
	  modules/carrierroute/route_rule.c:
	  - fix possible errors (similar to the str comparison fixed in r3126)
	  for carrier tree fixup and host matching, use the function from ut.h

2007-11-14 12:31  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3136] doc/authors.xml:
	  - add authors.xml file for usage with svn2cl tool

2007-11-14 12:30  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3135] ChangeLog:
	  - update Changelog for 1.3.0 release
	  due the huge number of changes the new entries were created with the
	  svn2cl tool, with the command line:
	  svn2cl -i -r HEAD:1826 --authors=doc/authors.xml --break-before-msg
	  --linelen=80

2007-11-14 11:33  Anca Vamanu, <anca at voice-system dot ro>

	* [r3134] modules/pua/send_subscribe.c:
	  - fixed substraction between an unsigned int and int which might have
	  a negative value

2007-11-14 11:14  Anca Vamanu, <anca at voice-system dot ro>

	* [r3133] modules/pua/hash.h, modules/pua/send_publish.c,
	  modules/pua/send_subscribe.c:
	  - applied the fix for expires parameter on fail retry for send_publish
	  also
	  - included compulsory Max_Forward header in Subscribe and Publish
	  requests

2007-11-14 10:09  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3132] db/schema/aliases.xml, db/schema/lcr.xml,
	  db/schema/location.xml, scripts/db_berkeley/openser/xcap,
	  scripts/dbtext/openser/aliases, scripts/dbtext/openser/lcr,
	  scripts/dbtext/openser/location, scripts/mysql/lcr-create.sql,
	  scripts/mysql/registrar-create.sql, scripts/mysql/usrloc-create.sql,
	  scripts/postgres/lcr-create.sql,
	  scripts/postgres/registrar-create.sql,
	  scripts/postgres/usrloc-create.sql:
	  - fixed DB schema:
	  1) domain column may be NULL in location and aliases tables (if
	  use_domain=0)
	  2) prefix column may be NULL in lcr table
	  Closes bug report: 1829179

2007-11-14 09:07  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3131] modules/carrierroute/route_rule.c:
	  - decrease log level for two messages during fixup, this is not an
	  error

2007-11-14 08:58  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3130] modules/carrierroute/README,
	  modules/carrierroute/carrierroute.c,
	  modules/carrierroute/doc/carrierroute_user.sgml,
	  modules/carrierroute/route_func.c, modules/carrierroute/route_func.h:
	  - remove not used and obselete (commented out) rewrite_branches
	  functionality

2007-11-13 22:03  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3129] modules/cpl-c/cpl.c, modules/cpl-c/cpl_db.c,
	  modules/cpl-c/cpl_loader.c, modules/cpl-c/cpl_log.c,
	  modules/cpl-c/cpl_nonsig.c, modules/cpl-c/cpl_parser.c:
	  - more porting to LM_* logging

2007-11-13 21:19  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3128] modules/cpl-c/cpl.c, modules/cpl-c/cpl_db.c,
	  modules/cpl-c/cpl_db.h:
	  - fixed bogus table version checking:
	  - need to be done before the set_table(), otherwise the "version"
	  table will remain set
	  - do it only one at init module and not for each process

2007-11-13 18:29  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3127] modules/carrierroute/README,
	  modules/carrierroute/doc/carrierroute_user.sgml:
	  - extend documentation for the database tables

2007-11-13 18:23  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3126] modules/carrierroute/carrier_tree.c:
	  - replace sleep with portable sleep_us from ut.h
	  - replace (not correct working) str comparison with the one from ut.h
	  - remove some commented out code

2007-11-13 17:35  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3125] modules/carrierroute/route_func.c:
	  - an index of zero is not an error, so no need to bail out in
	  tree_route_uri
	  - fix error msgs in this case, report the real id and not some pointer
	  - Many thanks to Daryl G. Jurbala, daryl at introspect dot net, for
	  debugging this problem

2007-11-13 17:19  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3124] modules/nathelper/README,
	  modules/nathelper/doc/nathelper_user.sgml,
	  modules/nathelper/nathelper.c:
	  - fixed the handling of the 'l' flag (force lookup) in
	  force_rtp_proxy(), better description of the flag.
	  Closes bug 1815162.

2007-11-13 16:34  Anca Vamanu, <anca at voice-system dot ro>

	* [r3123] modules/presence/notify.c, modules/presence/subscribe.c:
	  - changed to include body with presence state for Notifies with
	  state="terminated", reason="timeout" and subscription state=
	  authorized.

2007-11-13 16:34  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3122] modules/carrierroute/route_func.c:
	  - don't free a local variable, reported from DarylVoip on IRC
	  - small indention fix

2007-11-13 15:42  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3121] resolve.c:
	  - by default disable dns_try_ipv6 as it is a un-necessary penalty
	  (IPv6 is not often use).
	  Closes bug report #1808170

2007-11-13 15:37  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3120] resolve.c:
	  - as there was a lot of confusion about this, the dns_blacklist is by
	  default turned off.
	  Part of bug report #1808170

2007-11-13 11:26  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3118] modules/carrierroute/route_func.c:
	  - fix wrong error message, reported from Mark Baker, bakermd at gmail
	  dot com

2007-11-13 09:55  Anca Vamanu, <anca at voice-system dot ro>

	* [r3117] modules/pua/send_subscribe.c:
	  - proper fix for expires field for send_subscribe request generated on
	  fail (reported by Reinhold Buchinger <reinhold.buchinger@gmail.com>)

2007-11-13 09:03  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3114] modules/textops/textops.c, re.c:
	  - test the results of regexp matchings to avoid empty string results
	  -> infinite looping.
	  Credits go to Alexander Bergolth (SF bergolth)

2007-11-13 08:13  Will Quan, <wiquan at employees dot org>

	* [r3113] modules/db_berkeley/bdb_lib.c, modules/db_berkeley/bdb_lib.h,
	  scripts/openserdbctl.db_berkeley:
	  add support for default values on table columns

2007-11-12 16:35  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3112] scripts/openserctl:
	  - activate reload for DBTEXT database
	  Patch provided from Ovidiu Sas
	  closes patch #1829175

2007-11-12 16:25  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3109] modules/group/group.c, modules/group/re_group.c,
	  modules/group_radius/group.c:
	  - fixed crash while checking the group for an URI with no username
	  part.

2007-11-12 16:08  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3108] Makefile:
	  - remove 'dbinstall' target
	  this is not functional anymore with the new integrated dbctl scripts

2007-11-12 16:00  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3105] modules/textops/textops.c, re.c:
	  - additional fix related to matching sequential lines (matched string
	  may be zero).
	  Closes bug #1819248.
	  Credits go to Alexander Bergolth (SF bergolth)

2007-11-12 14:40  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3103] test/2.sh, test/3.sh, test/6.sh:
	  - add test for bug 1829002, config check
	  - fix test 2, extend comment in 3

2007-11-12 14:40  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3102] modules/seas/seas.c:
	  - fixed free of bogus pointer in a "destroy without init" scenario.
	  Closes bug #1829002.

2007-11-12 14:24  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3098] scripts/openserdbctl.dbtext:
	  - bugfix in openserdbctl for dbtext
	  if we create a directory with parent dirs, then we should also
	  remove the whole directory

2007-11-12 14:15  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3096] modules/textops/textops.c, re.c:
	  - bug fixed in multiple matching on complete lines.
	  Closes bug #1819248.
	  Credits go to Alexander Bergolth (SF bergolth)

2007-11-12 09:21  Anca Vamanu, <anca at voice-system dot ro>

	* [r3095] modules/pua/send_subscribe.c:
	  - fixed to include the case in which an initial subscribe with
	  expires= 0 is desired and it first due to a wrong match

2007-11-09 23:55  Will Quan, <wiquan at employees dot org>

	* [r3094] scripts/openserdbctl.db_berkeley:
	  Add openserdbctl commands for db_berkeley: export and import. These
	  help move data between different versions of berkeley db (eg 4.5 to
	  4.6).

2007-11-09 18:09  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3093] test/register.sip, test/unregister.sip:
	  - commit missing SIP test messages

2007-11-09 18:05  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3092] test/11.cfg, test/11.sh, test/8.sh:
	  - fix output for test 8
	  - add a test for persistent registrar for mysql

2007-11-09 17:08  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3091] test/10.sh:
	  - openserctl test for dbtext

2007-11-09 17:04  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3090] test/3.sh, test/8.sh, test/9.sh:
	  - openserdbctl test for dbtext
	  - openserctl test for mysql

2007-11-09 16:47  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3089] scripts/openserctl.dbtext:
	  - fix dbtext openserctl script
	  Patch provided from Ovidiu Sas

2007-11-09 16:39  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3088] Makefile:
	  - don't exclude test directory in make dist
	  Reported from Dan Pascu

2007-11-09 16:33  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r3087] modules/mi_xmlrpc/Makefile:
	  - extended CROSS_COMPILE option to this module

2007-11-09 16:27  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3086] test/5.cfg, test/5.sh, test/7.cfg, test/7.sh:
	  - add a test for the openser default config
	  - add a test for a bigger config, generated from sipwise wizard

2007-11-09 16:27  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3085] test/2.cfg, test/2.sh:
	  - use the dispatcher file from etch dir

2007-11-09 16:19  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r3084] modules/postgres/Makefile:
	  - disable library autodetection if CROSS_COMPILE is set

2007-11-09 16:15  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r3083] scripts/openserdbctl.dbtext:
	  - added missing } at end of the function (reported by Ovidiu Sas)

2007-11-09 16:05  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r3082] Makefile.defs, modules/mysql/Makefile:
	  - ability to cross compile the mysql module (patch by Ovidiu Sas,
	  closes #1795761)

2007-11-09 15:49  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r3081] modules/dbtext/dbt_base.c, modules/dbtext/dbt_tb.c:
	  - propagate type from colum definition when inserting or updating, not
	  from value parameters

2007-11-09 15:26  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r3080] pvar.c:
	  - fixed PV extra lookup (patch by Phil D'Amore, closes #1828493)

2007-11-09 15:18  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r3079] modules/dbtext/dbt_base.c, modules/dbtext/dbt_file.c,
	  modules/dbtext/dbt_lib.c, modules/dbtext/dbt_lib.h,
	  modules/dbtext/dbt_res.c, modules/dbtext/dbt_res.h,
	  modules/dbtext/dbt_tb.c:
	  - redesign of the internal locking system to make it suitable for
	  db_mode=1 (non-caching) -- should fix dbtext blocking related bugs on
	  the tracker

2007-11-09 13:34  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3078] test/3.sh:
	  - don' run test that depends on the db root password if this is not
	  available

2007-11-09 13:02  Dan Pascu, <dan at ag-projects dot com>

	* [r3077] scripts/openserdbctl.base:
	  Fixed some variables that couldn't be overwritten from openserctlrc

2007-11-09 12:36  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3076] scripts/openserdbctl.base:
	  - use the shorter and cleaner bash syntax for variable initialization
	  in the whole db script as suggested by Dan Pascu on the devel list

2007-11-09 10:53  Anca Vamanu, <anca at voice-system dot ro>

	* [r3075] db/schema/pr_xcap.xml, scripts/db_berkeley/openser/xcap,
	  scripts/mysql/presence-create.sql,
	  scripts/postgres/presence-create.sql:
	  - extended xcap table key to include 'doc_uri' as there can be more
	  documents of the same type (suggested by Adrian Georgescu)

2007-11-09 09:23  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3073] modules/cpl-c/cpl.c:
	  - fixe the initialization of the location set for the outgoing call
	  processing
	  Reported by Daniel Grotti <daniel.grotti at unibo dot it>

2007-11-09 08:44  Anca Vamanu, <anca at voice-system dot ro>

	* [r3072] modules/presence/event_list.c:
	  - fixed search event function to look for strict parameters match

2007-11-08 17:48  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r3071] modules/tm/dlg.c:
	  - onother use lr attribute of sip_uri struct instead of parsing again
	  uri parameters; lr is set automatically by parse_uri

2007-11-08 17:32  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r3069] modules/seas/seas_action.c:
	  - use lr attribute of sip_uri struct instead of parsing again uri
	  parameters; lr is set automatically by parse_uri

2007-11-08 17:23  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3068] test/2.cfg:
	  fix config for test 2

2007-11-08 17:16  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3067] test/3.sh:
	  - fix output of script

2007-11-08 16:58  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3066] Makefile, test, test/1.sh, test/2.cfg, test/2.sh, test/3.sh,
	  test/4.sh, test/Makefile, test/README:
	  - really small framework for 'smoke tests' for openser, to test basic
	  functionality of server and some tools after a build
	  - add a 'make test' case to the main Makefile

2007-11-08 16:42  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3065] modules/lcr/README, modules/lcr/doc/lcr_user.sgml:
	  - remove some linefeeds from documentation

2007-11-08 15:55  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3064] scripts/openserdbctl.base:
	  - fix the bug in the script that makes it impossible to override the
	  'ask'
	  setting in the openserctlrc file

2007-11-08 15:54  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3063] scripts/openserdbctl.mysql:
	  - add a outcommented variable to the the root password for script
	  runs without user prompt and some documentation

2007-11-08 15:51  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3062] scripts/openserdbctl.mysql:
	  - mysql db setup script now work completely with an empty a db root
	  password, db_charset_test check this now too

2007-11-08 13:37  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3061] scripts/openserctlrc:
	  - some small indention changes

2007-11-08 13:25  Dan Pascu, <dan at ag-projects dot com>

	* [r3060] modules/mediaproxy/README,
	  modules/mediaproxy/doc/mediaproxy_user.sgml:
	  Added module dependencies in documentation

2007-11-08 13:06  Dan Pascu, <dan at ag-projects dot com>

	* [r3059] modules/permissions/permissions.c:
	  Fixed spelling

2007-11-08 12:50  Dan Pascu, <dan at ag-projects dot com>

	* [r3058] modules/mediaproxy/README,
	  modules/mediaproxy/doc/mediaproxy_user.sgml,
	  modules/mediaproxy/mediaproxy.c:
	  Use full avp specification instead of just inner avp names for
	  module's avp parameters

2007-11-08 09:41  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3057] modules/imc/README, modules/imc/doc/imc_user.sgml,
	  modules/pdt/README, modules/pdt/doc/pdt_user.sgml, modules/pdt/pdt.c:
	  - pdt uses the the default db url defined in config.h
	  - adjust the documentation accordingly
	  - small doc fix in imc

2007-11-08 09:19  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3056] modules/dialog/dlg_timer.c:
	  - some identation clearing

2007-11-08 09:19  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3055] main.c:
	  - moved the creating of the module processes (extra processes
	  requested by modules) before forking the TCP main process; this must
	  be the last as it need to know all the fds used for TCP inter-process
	  communication.

2007-11-08 09:17  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3054] tcp_main.c:
	  - made an error log a bit more verbose

2007-11-08 09:17  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3053] pt.c:
	  - set the fd used for TCP inter-process comunication both in parent
	  and child to avoid any races (while init-ing the TCP main process)

2007-11-08 09:11  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3052] modules/imc/README, modules/imc/doc/imc_user.sgml,
	  modules/imc/imc.c:
	  - add default db URL to imc module
	  - update configuration accordingly

2007-11-08 09:09  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3051] doc/entities.sgml:
	  - add some entities for default db URLs

2007-11-08 06:54  Dan Pascu, <dan at ag-projects dot com>

	* [r3050] modules/auth/README, modules/auth/doc/auth_user.sgml:
	  Fixed typo in doc

2007-11-07 17:32  Will Quan, <wiquan at employees dot org>

	* [r3049] modules/db_berkeley/bdb_val.c:
	  Add function bdb_time2str

2007-11-07 17:09  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3048] tcp_main.c:
	  - fixed bug in handling the inter-process management of the TCP fds.
	  Closes 1822085.
	  Reported by Juha Heinanen <jh at tutpro dot com>

2007-11-07 16:40  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3047] pt.c:
	  - updated some comment

2007-11-07 16:37  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3046] modules/nathelper/nathelper.c, modules/nathelper/nathelper.h:
	  - bug fixed : as the list of rtpproxies was moved into shm mem, the
	  file descriptors used of rtpproxy control were shared between
	  processes. Now each process has a private array with fds.
	  Reported by Inaki Baz Castillo <ibc@in.ilimit.es>

2007-11-07 16:19  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3045] scripts/openserdbctl:
	  - don't use a fixed file name for copy operation, this is unsafe
	  use mktemp to generate a random tmp file

2007-11-07 15:39  Dan Pascu, <dan at ag-projects dot com>

	* [r3044] db/schema/acc.xml, db/schema/address.xml,
	  db/schema/aliases.xml, db/schema/cpl.xml, db/schema/dbaliases.xml,
	  db/schema/dispatcher.xml, db/schema/domain.xml,
	  db/schema/domainpolicy.xml, db/schema/grp.xml, db/schema/gw.xml,
	  db/schema/gw_grp.xml, db/schema/imc_members.xml,
	  db/schema/imc_rooms.xml, db/schema/lcr.xml, db/schema/location.xml,
	  db/schema/missed_calls.xml, db/schema/pdt.xml,
	  db/schema/pr_active_watchers.xml, db/schema/pr_presentity.xml,
	  db/schema/pr_pua.xml, db/schema/pr_watchers.xml,
	  db/schema/pr_xcap.xml, db/schema/re_grp.xml,
	  db/schema/rls_presentity.xml, db/schema/rls_watchers.xml,
	  db/schema/silo.xml, db/schema/sip_trace.xml, db/schema/speed_dial.xml,
	  db/schema/subscriber.xml, db/schema/trusted.xml, db/schema/uri.xml,
	  db/schema/usr_preferences.xml, db/schema/version.xml:
	  Use consistent indentation in xml files

2007-11-07 15:28  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3043] main.c:
	  - fixed shutdown when during children init, a sub-process fails.
	  Originally there was a race between the generation of SIGCHLD signal
	  and the pause() in the main process -> if the signal was received
	  before, the main process will remain stucked in pause() for ever...

2007-11-07 15:23  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3042] db/db_ut.c:
	  - some doxygen documentation for db_ut.h

2007-11-07 15:03  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3041] db/db_ut.c:
	  - revert commit in revision 3022
	  - this commit misses a variable assignment that causes an error
	  - even if this is fixed, then mysql don't like unquoted time values
	  on insertion
	  - prober quoting of the time should be done in val2str, but this
	  requires probably a interface change in time2str
	  - for this changes we're to late in the release process, error should
	  be changed in the db_berkeley module

2007-11-07 14:32  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r3040] pvar.c, transformations.c:
	  - fixed issue with cascading transformations (reported by Dan Pascu)
	  - better debug messages

2007-11-07 13:55  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3039] main.c, tcp_main.c, timer.c:
	  - fixed the cleanup process when initialization of one of the forked
	  processes goes wrong

2007-11-07 13:15  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3038] Makefile.defs:
	  - enable by default the memory debuger while in testing phase; to be
	  removed when the release is out

2007-11-07 00:59  Will Quan, <wiquan at employees dot org>

	* [r3037] Makefile:
	  Reverting Makefile

2007-11-07 00:44  Will Quan, <wiquan at employees dot org>

	* [r3036] Makefile, modules/db_berkeley/Makefile,
	  modules/db_berkeley/README, modules/db_berkeley/bdb_lib.c,
	  modules/db_berkeley/bdb_lib.h, modules/db_berkeley/bdb_mi.c,
	  modules/db_berkeley/bdb_mi.h, modules/db_berkeley/bdb_res.c,
	  modules/db_berkeley/bdb_res.h, modules/db_berkeley/bdb_util.c,
	  modules/db_berkeley/bdb_util.h, modules/db_berkeley/bdb_val.c,
	  modules/db_berkeley/bdb_val.h, modules/db_berkeley/db_berkeley.c,
	  modules/db_berkeley/db_berkeley.h,
	  modules/db_berkeley/doc/db_berkeley_user.sgml,
	  scripts/openserctl.db_berkeley, scripts/openserctlrc,
	  scripts/openserdbctl, scripts/openserdbctl.base,
	  scripts/openserdbctl.db_berkeley, scripts/openserdbctl.dbtext,
	  utils/db_berkeley/bdb_recover.c:
	  -fix memory leak in 'bdb_insert'
	  -fix memory scribbler in '_bdb_delete_cursor'
	  -renamed function prefixes from 'sc_' to 'bdb_'
	  -added mi command for bdb_reload (added openserctl.db_berkeley)
	  -globally replaced openserctlrc parameter 'DBTEXT_PATH' with 'DB_PATH'
	  so db_berkeley can use it too.
	  -modified openserdbctl to print error when invoking serweb with DBTEXT
	  or DB_BERKELEY
	  -update docs for db_berkeley

2007-11-06 15:37  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3034] modules/gflags/gflags.c:
	  - revert wrong commit in r3029 after discussion on list

2007-11-06 15:35  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3033] modules/gflags/README, modules/gflags/doc/gflags_user.sgml:
	  - extend documentation somewhat

2007-11-06 14:46  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3032] modules/dbtext/README, modules/dbtext/doc/dbtext_user.sgml:
	  - add some notes about limitation of this module, default values
	  are ignored

2007-11-06 11:08  Anca Vamanu, <anca at voice-system dot ro>

	* [r3031] modules/rls/README, modules/rls/doc/rls_user.sgml:
	  - added pua module dependency in documentation

2007-11-06 10:28  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3029] modules/gflags/gflags.c:
	  - fix gflag fifo commands, we need to covert the flag index to bitmap
	  Reported from "Piotr Sobolewski", sobolewski at gmail dot com

2007-11-06 09:52  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3028] modules/gflags/README, modules/gflags/doc/gflags_user.sgml:
	  - fix spelling errors in gflag documentation

2007-11-06 09:08  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3027] modules/postgres/dbase.c:
	  - remove unused connect and disconnect methods for postgresql
	  there were commented out over a year ago, after the rewrite that
	  happens then they are not needed anymore.

2007-11-06 08:35  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3026] doc/dbschema/dtd/dbschema.dtd, doc/dbschema/xsl/common.xsl,
	  doc/dbschema/xsl/db_berkeley.xsl, doc/dbschema/xsl/dbtext.xsl,
	  doc/dbschema/xsl/oracle.xsl, doc/dbschema/xsl/sql.xsl:
	  - fix DTD file, indexes are missing, remove not needed stuff for value
	  insertion
	  - remove not needed stuff from XSL scripts for user and value
	  insertion. We're doing this at the moment in the DB setup scripts,
	  as we don't need to insert that much data into the tables as SER.
	  - If we need this at one point in the future, then we could merge this
	  back.

2007-11-06 08:31  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3025] db/schema/acc.xml, db/schema/address.xml,
	  db/schema/aliases.xml, db/schema/carrierroute.xml, db/schema/cpl.xml,
	  db/schema/dbaliases.xml, db/schema/dialog.xml,
	  db/schema/dispatcher.xml, db/schema/domain.xml,
	  db/schema/domainpolicy.xml, db/schema/grp.xml, db/schema/gw.xml,
	  db/schema/gw_grp.xml, db/schema/imc_members.xml,
	  db/schema/imc_rooms.xml, db/schema/lcr.xml, db/schema/location.xml,
	  db/schema/missed_calls.xml, db/schema/pdt.xml,
	  db/schema/pr_active_watchers.xml, db/schema/pr_presentity.xml,
	  db/schema/pr_pua.xml, db/schema/pr_watchers.xml,
	  db/schema/pr_xcap.xml, db/schema/re_grp.xml,
	  db/schema/rls_presentity.xml, db/schema/rls_watchers.xml,
	  db/schema/route_tree.xml, db/schema/silo.xml, db/schema/sip_trace.xml,
	  db/schema/speed_dial.xml, db/schema/subscriber.xml,
	  db/schema/template.xml, db/schema/trusted.xml, db/schema/uri.xml,
	  db/schema/usr_preferences.xml, db/schema/version.xml,
	  doc/dbschema/dtd/dbschema.dtd, doc/dbschema/xsl/db_berkeley.xsl:
	  - use 'natural' instead of naturalkey, the primary and unique indexes
	  keywords are 'primary' and 'unique' too

2007-11-05 15:19  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3022] db/db_ut.c:
	  - The function db_time2str() should not include the single-quotes.
	  - Fixes a core dump for db_berkeley module, noticed by Will Quan

2007-11-05 14:59  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3021] scripts/openserctl:
	  - apply small patch to improve help messages for dbtext
	  Provided by Ovidiu Sas, closes #1824695

2007-11-05 14:16  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r3020] parser/parse_param.c:
	  - reset the output to NULL if error while parsing params (related to
	  #1825081 reported by Dan Pascu)

2007-11-05 13:42  Bastian Friedrich, <bastian dot friedrich at collax dot com>

	* [r3019] modules/perl/README, modules/perl/doc/perl_faq.sgml:
	  Adding FAQ section "Known bugs"
	  (fixup problem; thread safety, esp. in DBI::*)

2007-11-05 13:18  Bastian Friedrich, <bastian dot friedrich at collax dot com>

	* [r3018] modules/perl/openserxs.xs:
	  Use LM_WARN instead of LM_ERR for a fixup warning
	  (wrong commit in 3016 -- sorry)

2007-11-05 13:14  Bastian Friedrich, <bastian dot friedrich at collax dot com>

	* [r3017] modules/perl/openserxs.xs:
	  Fixing usage of fixup function for zero-parameter functions
	  Should be (and now is) "fixup(0,0);" instead of some weird code...

2007-11-05 13:12  Bastian Friedrich, <bastian dot friedrich at collax dot com>

	* [r3016] modules/perl/openserxs.xs:
	  Migrating LOG(L_*...) style logging to new LM_* scheme

2007-11-05 13:08  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3015] main.c:
	  - doxygen documentation for main.c

2007-11-05 12:11  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3014] db/schema/template.xml:
	  - add 'naturalkey' to template file

2007-11-05 12:01  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3013] db/schema/acc.xml, db/schema/address.xml,
	  db/schema/aliases.xml, db/schema/carrierroute.xml, db/schema/cpl.xml,
	  db/schema/dbaliases.xml, db/schema/dialog.xml,
	  db/schema/dispatcher.xml, db/schema/domain.xml,
	  db/schema/domainpolicy.xml, db/schema/grp.xml, db/schema/gw.xml,
	  db/schema/gw_grp.xml, db/schema/imc_members.xml,
	  db/schema/imc_rooms.xml, db/schema/lcr.xml, db/schema/location.xml,
	  db/schema/missed_calls.xml, db/schema/openser-acc.xml,
	  db/schema/openser-alias_db.xml, db/schema/openser-auth_db.xml,
	  db/schema/openser-avpops.xml, db/schema/openser-carrierroute.xml,
	  db/schema/openser-cpl.xml, db/schema/openser-dialog.xml,
	  db/schema/openser-dispatcher.xml, db/schema/openser-domain.xml,
	  db/schema/openser-domainpolicy.xml, db/schema/openser-extensions.xml,
	  db/schema/openser-group.xml, db/schema/openser-imc.xml,
	  db/schema/openser-lcr.xml, db/schema/openser-msilo.xml,
	  db/schema/openser-pdt.xml, db/schema/openser-permissions.xml,
	  db/schema/openser-presence.xml, db/schema/openser-registrar.xml,
	  db/schema/openser-rls.xml, db/schema/openser-serweb.xml,
	  db/schema/openser-siptrace.xml, db/schema/openser-speeddial.xml,
	  db/schema/openser-standard.xml, db/schema/openser-uri_db.xml,
	  db/schema/openser-usrloc.xml, db/schema/pdt.xml,
	  db/schema/pr_active_watchers.xml, db/schema/pr_presentity.xml,
	  db/schema/pr_pua.xml, db/schema/pr_watchers.xml,
	  db/schema/pr_xcap.xml, db/schema/re_grp.xml,
	  db/schema/rls_presentity.xml, db/schema/rls_watchers.xml,
	  db/schema/route_tree.xml, db/schema/silo.xml, db/schema/sip_trace.xml,
	  db/schema/speed_dial.xml, db/schema/subscriber.xml,
	  db/schema/sw_active_sessions.xml, db/schema/sw_admin_privileges.xml,
	  db/schema/sw_pending.xml, db/schema/sw_phonebook.xml,
	  db/schema/sw_server_monitoring.xml,
	  db/schema/sw_server_monitoring_agg.xml,
	  db/schema/sw_usr_preferences_type.xml, db/schema/template.xml,
	  db/schema/trusted.xml, db/schema/uri.xml,
	  db/schema/usr_preferences.xml, db/schema/version.xml,
	  doc/dbschema/catalog.xml:
	  - increase openser DTD version after 'naturalkey' addition

2007-11-05 11:46  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3012] scripts/openserdbctl.db_berkeley, scripts/openserdbctl.dbtext:
	  - remove all serweb related code for dbtext and db_berkeley
	  - SERWEB will never work with dbtext
	  - no driver for berkeley db in SERWEB, not sure if this could work at
	  all

2007-11-05 11:36  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3011] db/schema/acc.xml, db/schema/address.xml,
	  db/schema/aliases.xml, db/schema/carrierroute.xml, db/schema/cpl.xml,
	  db/schema/dbaliases.xml, db/schema/dialog.xml,
	  db/schema/dispatcher.xml, db/schema/domain.xml,
	  db/schema/domainpolicy.xml, db/schema/grp.xml, db/schema/gw.xml,
	  db/schema/gw_grp.xml, db/schema/imc_members.xml,
	  db/schema/imc_rooms.xml, db/schema/lcr.xml, db/schema/location.xml,
	  db/schema/missed_calls.xml, db/schema/pdt.xml,
	  db/schema/pr_active_watchers.xml, db/schema/pr_presentity.xml,
	  db/schema/pr_pua.xml, db/schema/pr_watchers.xml,
	  db/schema/pr_xcap.xml, db/schema/re_grp.xml,
	  db/schema/rls_presentity.xml, db/schema/rls_watchers.xml,
	  db/schema/route_tree.xml, db/schema/silo.xml, db/schema/sip_trace.xml,
	  db/schema/speed_dial.xml, db/schema/subscriber.xml,
	  db/schema/trusted.xml, db/schema/uri.xml,
	  db/schema/usr_preferences.xml, db/schema/version.xml,
	  doc/dbschema/dtd/dbschema.dtd, doc/dbschema/xsl/db_berkeley.xsl,
	  scripts/db_berkeley/openser/active_sessions,
	  scripts/db_berkeley/openser/active_watchers,
	  scripts/db_berkeley/openser/address,
	  scripts/db_berkeley/openser/admin_privileges,
	  scripts/db_berkeley/openser/aliases,
	  scripts/db_berkeley/openser/carrierroute,
	  scripts/db_berkeley/openser/dbaliases,
	  scripts/db_berkeley/openser/dispatcher,
	  scripts/db_berkeley/openser/domain,
	  scripts/db_berkeley/openser/domainpolicy,
	  scripts/db_berkeley/openser/grp, scripts/db_berkeley/openser/gw,
	  scripts/db_berkeley/openser/gw_grp, scripts/db_berkeley/openser/lcr,
	  scripts/db_berkeley/openser/location, scripts/db_berkeley/openser/pdt,
	  scripts/db_berkeley/openser/pending,
	  scripts/db_berkeley/openser/presentity,
	  scripts/db_berkeley/openser/pua, scripts/db_berkeley/openser/re_grp,
	  scripts/db_berkeley/openser/rls_presentity,
	  scripts/db_berkeley/openser/rls_watchers,
	  scripts/db_berkeley/openser/route_tree,
	  scripts/db_berkeley/openser/server_monitoring,
	  scripts/db_berkeley/openser/sip_trace,
	  scripts/db_berkeley/openser/speed_dial,
	  scripts/db_berkeley/openser/subscriber,
	  scripts/db_berkeley/openser/usr_preferences,
	  scripts/db_berkeley/openser/version,
	  scripts/db_berkeley/openser/watchers,
	  scripts/db_berkeley/openser/xcap:
	  - add 'naturalkey' column to OpenSER tables to fix the db_berkeley
	  index problem
	  Patch provided by Will Quan <wiquan@employees.org>

2007-11-04 14:27  Dan Pascu, <dan at ag-projects dot com>

	* [r3010] modules/registrar/sip_msg.c:
	  Use default_expires instead of hardcoded value

2007-11-02 09:39  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3009] db/schema/Makefile:
	  - don't iterate during version table generation over the version
	  table..
	  - head with negative index is not available on *BSD, use positive
	  instead

2007-10-31 16:11  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3008] modules/carrierroute/README,
	  modules/carrierroute/doc/carrierroute_user.sgml:
	  - extend documentation, explain the differences and use cases of
	  the config file mode and db mode better

2007-10-31 15:19  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3007] modules/cfgutils/cfgutils.c:
	  - bugfix in set_prob, don't allow hexadecimal values

2007-10-31 07:18  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3006] modules/dialog/dlg_db_handler.c,
	  modules/dialog/dlg_handlers.c, modules/dialog/dlg_hash.c,
	  modules/dialog/dlg_hash.h:
	  - fixed the removel of the dialogs from DB; previously there was some
	  delay (with no state update) in removing the dialogs for the very
	  short call (because the dialog was still kept in mem as referenced by
	  the INVITE transaction).
	  Closes 1808421.

2007-10-31 00:13  Di-Shi Sun, <di-shi at transnexus dot com>

	* [r3005] modules/osp/etc/sample-osp-openser.cfg:
	  Added log messages

2007-10-30 15:21  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3004] db/db_ut.c:
	  - moved variable declaration at the beginning of the function
	  - replaced the c++ like comments with standard C one

2007-10-30 15:13  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r3002] resolve.c:
	  - fixed bug in dns failover machanism (bogus condition was pushing
	  resolver in un-allocated memory
	  Closes 1820323.

2007-10-30 10:58  Anca Vamanu, <anca at voice-system dot ro>

	* [r3001] modules/pua/send_publish.c:
	  - fixed a deadlock bug (reported by Schumann Sebastian
	  <Sebastian.Schumann@t-com.sk>)

2007-10-30 08:58  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r3000] modules/uri_db/README, modules/uri_db/doc/uri_db_user.sgml:
	  - extend documentation a little bit

2007-10-30 05:45  Di-Shi Sun, <di-shi at transnexus dot com>

	* [r2998] modules/osp/usage.c:
	  Modified to reduce race condition.

2007-10-29 14:55  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2997] doc/dbschema/xsl/common.xsl, doc/dbschema/xsl/mysql.xsl,
	  doc/dbschema/xsl/postgres.xsl, doc/dbschema/xsl/sql.xsl:
	  - remove all the outcommented and unneeded stuff in the XSL scripts
	  - usermanagement is handled by the setup script
	  - vendor controlled fields are not used at all
	  - insert with ignore is not used

2007-10-29 14:51  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2996] doc/dbschema/xsl/db_berkeley.xsl,
	  scripts/db_berkeley/openser/acc,
	  scripts/db_berkeley/openser/active_sessions,
	  scripts/db_berkeley/openser/active_watchers,
	  scripts/db_berkeley/openser/address,
	  scripts/db_berkeley/openser/admin_privileges,
	  scripts/db_berkeley/openser/aliases,
	  scripts/db_berkeley/openser/carrierroute,
	  scripts/db_berkeley/openser/cpl,
	  scripts/db_berkeley/openser/dbaliases,
	  scripts/db_berkeley/openser/dialog,
	  scripts/db_berkeley/openser/dispatcher,
	  scripts/db_berkeley/openser/domain,
	  scripts/db_berkeley/openser/domainpolicy,
	  scripts/db_berkeley/openser/grp, scripts/db_berkeley/openser/gw,
	  scripts/db_berkeley/openser/gw_grp,
	  scripts/db_berkeley/openser/imc_members,
	  scripts/db_berkeley/openser/imc_rooms,
	  scripts/db_berkeley/openser/lcr, scripts/db_berkeley/openser/location,
	  scripts/db_berkeley/openser/missed_calls,
	  scripts/db_berkeley/openser/pdt, scripts/db_berkeley/openser/pending,
	  scripts/db_berkeley/openser/phonebook,
	  scripts/db_berkeley/openser/presentity,
	  scripts/db_berkeley/openser/pua, scripts/db_berkeley/openser/re_grp,
	  scripts/db_berkeley/openser/rls_presentity,
	  scripts/db_berkeley/openser/rls_watchers,
	  scripts/db_berkeley/openser/route_tree,
	  scripts/db_berkeley/openser/server_monitoring,
	  scripts/db_berkeley/openser/server_monitoring_agg,
	  scripts/db_berkeley/openser/silo,
	  scripts/db_berkeley/openser/sip_trace,
	  scripts/db_berkeley/openser/speed_dial,
	  scripts/db_berkeley/openser/subscriber,
	  scripts/db_berkeley/openser/trusted, scripts/db_berkeley/openser/uri,
	  scripts/db_berkeley/openser/usr_preferences,
	  scripts/db_berkeley/openser/usr_preferences_types,
	  scripts/db_berkeley/openser/watchers,
	  scripts/db_berkeley/openser/xcap:
	  - improve index generation for db_berkley schemas:
	  - disable the index generation for the id column
	  - include all linkends for an index
	  - Remainung issue: a few indexes are double generated

2007-10-29 13:09  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2995] db/schema/aliases.xml:
	  - extend documentation a little bit, this table vs. dbaliases

2007-10-29 12:50  Juha Heinanen, <jh at tutpro dot com>

	* [r2994] modules/lcr/README, modules/lcr/doc/lcr_user.sgml:
	  * Fixed example (domain module does not have rpid_avp param). Reported
	  by Inaki Baz.

2007-10-29 11:45  Anca Vamanu, <anca at voice-system dot ro>

	* [r2993] modules/pua/hash.c, modules/pua/pua.c:
	  - fixed search function for the case when there is no etag
	  restriction(closes openser-Bugs-1821002)

2007-10-26 09:59  Dan Pascu, <dan at ag-projects dot com>

	* [r2992] scripts/openserdbctl.db_berkeley, scripts/openserdbctl.dbtext,
	  scripts/openserdbctl.mysql, scripts/openserdbctl.pgsql:
	  Install rls-presence tables too if the user chooses to install
	  presence related tables

2007-10-26 09:55  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2991] modules/ldap/ld_session.c:
	  - bug fixed - uninitalized struct (next field) leads to broken links
	  in the connection list.

2007-10-26 09:38  Dan Pascu, <dan at ag-projects dot com>

	* [r2990] db/schema/openser-presence.xml, db/schema/pr_xcap.xml,
	  db/schema/pr_xcap_xml.xml, modules/presence_xml/README,
	  modules/presence_xml/doc/presence_xml_user.sgml,
	  scripts/dbtext/openser/xcap_xml, scripts/openserdbctl.dbtext,
	  scripts/openserdbctl.pgsql:
	  Fixed leftover name inconsistencies after the renaming of the xcap_xml
	  table to xcap

2007-10-26 09:17  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2989] modules/avpops/avpops_impl.c, modules/avpops/avpops_parse.c:
	  - proper propagation of avp name type in avpops db load (reported by
	  Dan Pascu, closes 1819309)

2007-10-26 08:17  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2988] pvar.c:
	  - make sure all headers are parsed when trying to get an arbritary
	  header (reported by Adrian Georgescu)

2007-10-26 06:50  Juha Heinanen, <jh at tutpro dot com>

	* [r2987] modules/textops/textops.c:
	  * filter_body() now removes possible leading LF/CR chars from the
	  selected body part.

2007-10-25 08:45  Anca Vamanu, <anca at voice-system dot ro>

	* [r2985] db/schema/rls_watchers.xml, modules/rls/rls.c,
	  scripts/db_berkeley/openser/rls_watchers,
	  scripts/db_berkeley/openser/version,
	  scripts/dbtext/openser/rls_watchers, scripts/dbtext/openser/version,
	  scripts/mysql/rls-create.sql, scripts/postgres/rls-create.sql:
	  - applied changes suggested by Adrian Georgescu to maintain
	  consistency with presence database table definition

2007-10-24 15:48  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2984] packaging/debian-etch/changelog,
	  packaging/debian-sarge/changelog, packaging/debian/changelog:
	  - add a changelog entry for building from svn

2007-10-23 16:05  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2981] modules/dialog/dlg_handlers.c:
	  - call the callbacks for sequential requests for ACK too.
	  Closes bug #1791953
	  Credits go to Ovidiu Sas <sip.nslu@gmail.com>

2007-10-23 14:30  Anca Vamanu, <anca at voice-system dot ro>

	* [r2980] modules/presence/publish.c, modules/presence/subscribe.c,
	  modules/presence/utils_func.c, modules/presence/utils_func.h:
	  - fixed an error in the last commit

2007-10-23 13:06  Anca Vamanu, <anca at voice-system dot ro>

	* [r2978] modules/presence/README,
	  modules/presence/doc/presence_user.sgml,
	  modules/presence/presentity.c, modules/presence/presentity.h,
	  modules/presence/publish.c, modules/presence/subscribe.c,
	  modules/presence/utils_func.c, modules/presence/utils_func.h:
	  - removed 'return 0', that causes exiting the script, from
	  handle_subscribe and handle_publish (closes BUG 1814350 )
	  - modified to send stateless reply from the module in all cases
	  (success or error)

2007-10-23 06:28  Juha Heinanen, <jh at tutpro dot com>

	* [r2977] modules/lcr/lcr_mod.c:
	  * Fixed parameter name fr_timer => fr_inv_timer.

2007-10-22 18:18  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2974] modules/uac/auth_hdr.c:
	  - fixed lower/capital letter bug in detecting "FALSE" value for
	  "stale" auth parameter.
	  Credits go to Aki Rehn <aki.rehn@setera.fi>

2007-10-22 16:13  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2971] modules/registrar/README,
	  modules/registrar/doc/registrar_user.sgml:
	  - fixed bogus comment abbout default_q value.
	  Closes 1817384.
	  Reported by Inaki Baz Castillo <ibc@in.ilimit.es>

2007-10-22 12:18  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2967] packaging/debian-etch, packaging/debian-etch/control:
	  - copy debian directory from rev 2966 for debian stable - etch
	  - revert commit in rev 2910, use libsnmp9 again
	  - fix libbd version, on etch only 4.4 is available

2007-10-22 01:43  Di-Shi Sun, <di-shi at transnexus dot com>

	* [r2966] modules/osp/destination.c, modules/osp/destination.h,
	  modules/osp/globals.c, modules/osp/orig_transaction.c,
	  modules/osp/osp_mod.c, modules/osp/osptoolkit.c,
	  modules/osp/provider.c, modules/osp/sipheader.c,
	  modules/osp/sipheader.h, modules/osp/term_transaction.c,
	  modules/osp/tm.c, modules/osp/usage.c, modules/osp/usage.h:
	  1. Updated comments.
	  2. Reforamted code.

2007-10-21 04:34  Dan Pascu, <dan at ag-projects dot com>

	* [r2964] db/schema/domain.xml:
	  Reverted column id name as it gives an error of being redefined

2007-10-21 04:22  Dan Pascu, <dan at ag-projects dot com>

	* [r2963] modules/tm/t_hooks.c:
	  Fixed wrong call to a function placed at the toplevel of t_hooks.c,
	  outside any function, that prevented openser from compiling

2007-10-21 03:59  Dan Pascu, <dan at ag-projects dot com>

	* [r2962] db/schema/Makefile:
	  Call the db_berkeley_clean rule as well from the generic clean rule of
	  db/schema

2007-10-21 03:57  Dan Pascu, <dan at ag-projects dot com>

	* [r2961] db/schema/Makefile:
	  ... and another typo in the path of the db_berkeley clean rule

2007-10-21 03:54  Dan Pascu, <dan at ag-projects dot com>

	* [r2960] db/schema/Makefile:
	  Fixed path in db schema clean rules

2007-10-20 18:48  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2957] modules/flatstore/flatstore.c:
	  - fixed the log rotation during insertion. First rotate and then
	  aquire the file handler.
	  Closes 1810879.
	  Patch provided by Phil D\'Amore

2007-10-20 18:12  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2956] modules/dialog/dialog.c:
	  - fixed init of the DB connections.
	  Resolves item #2 of bug 1808421

2007-10-20 17:54  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2953] modules/tm/t_hooks.c:
	  - fixed possible change of T variable during running the callback.
	  Closes bug 1807667
	  Patch provided by Marcus Hunger <hunger@sipgate.de>

2007-10-20 17:35  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2952] modules/uac/auth_hdr.c:
	  - fixed quoting the values for qop, nc and algorithm parameters in the
	  auth response.
	  Closes bug 1813052.
	  Patch provided by Andreas Heise <aheise@gmx.de>

2007-10-20 16:28  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2951] modules/uac_redirect/rd_funcs.c,
	  modules/uac_redirect/rd_funcs.h, modules/uac_redirect/redirect.c:
	  - fixed the call of acc functions from the uac_redirect module
	  (protoype of acc functions has changed).
	  Fixes 1816765.

2007-10-20 05:27  Dan Pascu, <dan at ag-projects dot com>

	* [r2950] scripts/db_berkeley/openser/domain,
	  scripts/mysql/acc-create.sql, scripts/mysql/alias_db-create.sql,
	  scripts/mysql/auth_db-create.sql, scripts/mysql/cpl-create.sql,
	  scripts/mysql/dialog-create.sql, scripts/mysql/domain-create.sql,
	  scripts/mysql/group-create.sql, scripts/mysql/imc-create.sql,
	  scripts/mysql/lcr-create.sql, scripts/mysql/msilo-create.sql,
	  scripts/mysql/pdt-create.sql, scripts/mysql/permissions-create.sql,
	  scripts/mysql/presence-create.sql, scripts/mysql/registrar-create.sql,
	  scripts/mysql/rls-create.sql, scripts/mysql/siptrace-create.sql,
	  scripts/mysql/speeddial-create.sql, scripts/mysql/uri_db-create.sql,
	  scripts/mysql/usrloc-create.sql, scripts/postgres/acc-create.sql,
	  scripts/postgres/alias_db-create.sql,
	  scripts/postgres/auth_db-create.sql, scripts/postgres/cpl-create.sql,
	  scripts/postgres/dialog-create.sql,
	  scripts/postgres/domain-create.sql, scripts/postgres/group-create.sql,
	  scripts/postgres/imc-create.sql, scripts/postgres/lcr-create.sql,
	  scripts/postgres/msilo-create.sql, scripts/postgres/pdt-create.sql,
	  scripts/postgres/permissions-create.sql,
	  scripts/postgres/presence-create.sql,
	  scripts/postgres/registrar-create.sql,
	  scripts/postgres/rls-create.sql, scripts/postgres/siptrace-create.sql,
	  scripts/postgres/speeddial-create.sql,
	  scripts/postgres/uri_db-create.sql,
	  scripts/postgres/usrloc-create.sql:
	  Synced generated database schema files with the latest changes in the
	  xml schema description files

2007-10-20 04:48  Dan Pascu, <dan at ag-projects dot com>

	* [r2949] db/schema/aliases.xml:
	  Replaced a hardcoded value with a constant from entities

2007-10-20 04:44  Dan Pascu, <dan at ag-projects dot com>

	* [r2948] db/schema/acc.xml, db/schema/aliases.xml, db/schema/cpl.xml,
	  db/schema/dbaliases.xml, db/schema/dialog.xml, db/schema/domain.xml,
	  db/schema/grp.xml, db/schema/gw.xml, db/schema/imc_members.xml,
	  db/schema/imc_rooms.xml, db/schema/lcr.xml, db/schema/location.xml,
	  db/schema/missed_calls.xml, db/schema/pdt.xml,
	  db/schema/pr_active_watchers.xml, db/schema/pr_presentity.xml,
	  db/schema/pr_watchers.xml, db/schema/pr_xcap_xml.xml,
	  db/schema/re_grp.xml, db/schema/rls_presentity.xml,
	  db/schema/rls_watchers.xml, db/schema/silo.xml,
	  db/schema/sip_trace.xml, db/schema/speed_dial.xml,
	  db/schema/subscriber.xml, db/schema/trusted.xml, db/schema/uri.xml:
	  Use more consistent names for database indexes

2007-10-20 04:17  Dan Pascu, <dan at ag-projects dot com>

	* [r2947] db/schema/acc.xml, db/schema/aliases.xml,
	  db/schema/dbaliases.xml, db/schema/domain.xml, db/schema/entities.xml,
	  db/schema/grp.xml, db/schema/location.xml, db/schema/missed_calls.xml,
	  db/schema/pdt.xml, db/schema/re_grp.xml, db/schema/rls_watchers.xml,
	  db/schema/silo.xml, db/schema/speed_dial.xml,
	  db/schema/subscriber.xml, db/schema/uri.xml,
	  db/schema/usr_preferences.xml:
	  Some spell checking and repharasing for clarity in column descriptions

2007-10-20 03:49  Dan Pascu, <dan at ag-projects dot com>

	* [r2946] db/schema/acc.xml, db/schema/aliases.xml, db/schema/cpl.xml,
	  db/schema/dispatcher.xml, db/schema/gw.xml, db/schema/location.xml,
	  db/schema/pr_active_watchers.xml, db/schema/pr_presentity.xml,
	  db/schema/pr_pua.xml, db/schema/pr_watchers.xml,
	  db/schema/pr_xcap_xml.xml, db/schema/rls_presentity.xml,
	  db/schema/rls_watchers.xml, db/schema/silo.xml,
	  db/schema/sip_trace.xml, db/schema/trusted.xml, db/schema/uri.xml,
	  db/schema/usr_preferences.xml, db/schema/version.xml:
	  Fixed inconsistent use of mixed tabs and spaces for indenting db
	  schema files

2007-10-19 15:24  Anca Vamanu, <anca at voice-system dot ro>

	* [r2945] modules/xlog/xlog.c:
	  - retuned to previous version- eliminated erronated last commit
	  replace of LOG(L_ERR.. with LM_ERR(..

2007-10-19 15:21  Anca Vamanu, <anca at voice-system dot ro>

	* [r2944] modules/pua/pua.c:
	  - added safety initialization

2007-10-19 15:15  Anca Vamanu, <anca at voice-system dot ro>

	* [r2943] modules/rr/api.h, modules/rr/loose.c, modules/rr/record.c,
	  modules/rr/rr_cb.c, modules/rr/rr_mod.c, modules/seas/cluster.c,
	  modules/seas/encode_contact.c, modules/seas/encode_cseq.c,
	  modules/seas/encode_digest.c, modules/seas/encode_header.c,
	  modules/seas/encode_msg.c, modules/seas/encode_route.c,
	  modules/seas/encode_to_body.c, modules/seas/encode_uri.c,
	  modules/seas/encode_via.c, modules/seas/event_dispatcher.c,
	  modules/seas/ha.c, modules/seas/seas.c, modules/seas/seas_action.c,
	  modules/seas/statistics.c, modules/sms/libsms_getsms.c,
	  modules/sms/libsms_modem.c, modules/sms/libsms_putsms.c,
	  modules/sms/sms.c, modules/sms/sms_funcs.c, modules/sms/sms_report.c,
	  modules/snmpstats/hashTable.c,
	  modules/snmpstats/interprocess_buffer.c,
	  modules/snmpstats/network_stats.c, modules/snmpstats/openserObjects.c,
	  modules/snmpstats/openserSIPCommonObjects.c,
	  modules/snmpstats/openserSIPContactTable.c,
	  modules/snmpstats/openserSIPMethodSupportedTable.c,
	  modules/snmpstats/openserSIPPortTable.c,
	  modules/snmpstats/openserSIPRegUserLookupTable.c,
	  modules/snmpstats/openserSIPRegUserTable.c,
	  modules/snmpstats/openserSIPStatusCodesTable.c,
	  modules/snmpstats/snmpstats.c, modules/snmpstats/utilities.c,
	  modules/speeddial/sdlookup.c, modules/speeddial/speeddial.c,
	  modules/sst/sst.c, modules/sst/sst_handlers.c,
	  modules/statistics/statistics.c, modules/statistics/stats_funcs.c,
	  modules/tlsops/tls_select.c, modules/tlsops/tlsops.c,
	  modules/tm/callid.c, modules/tm/dlg.c, modules/tm/fix_lumps.h,
	  modules/tm/h_table.c, modules/tm/lock.c, modules/tm/lock.h,
	  modules/tm/mi.c, modules/tm/sip_msg.c, modules/tm/t_cancel.c,
	  modules/tm/t_fifo.c, modules/tm/t_funcs.c, modules/tm/t_funcs.h,
	  modules/tm/t_fwd.c, modules/tm/t_hooks.c, modules/tm/t_lookup.c,
	  modules/tm/t_msgbuilder.c, modules/tm/t_reply.c, modules/tm/timer.c,
	  modules/tm/tm.c, modules/tm/tm_load.h, modules/tm/uac.c,
	  modules/tm/ut.h, modules/uac_redirect/rd_filter.c,
	  modules/uac_redirect/rd_funcs.c, modules/uac_redirect/redirect.c,
	  modules/unixodbc/db_con.c, modules/unixodbc/dbase.c,
	  modules/unixodbc/list.c, modules/unixodbc/my_con.c,
	  modules/unixodbc/res.c, modules/unixodbc/row.c,
	  modules/unixodbc/val.c, modules/uri/checks.c, modules/uri/uri_mod.c,
	  modules/uri_radius/checks.c, modules/uri_radius/urirad_mod.c,
	  modules/usrloc/dlist.c, modules/usrloc/hslot.c,
	  modules/usrloc/notify.c, modules/usrloc/ucontact.c,
	  modules/usrloc/udomain.c, modules/usrloc/ul_callback.c,
	  modules/usrloc/ul_callback.h, modules/usrloc/ul_mod.c,
	  modules/usrloc/urecord.c, modules/usrloc/usrloc.c,
	  modules/xlog/xlog.c, modules/xmpp/network.c, modules/xmpp/util.c,
	  modules/xmpp/xmpp.c, modules/xmpp/xmpp_api.c, modules/xmpp/xmpp_api.h,
	  modules/xmpp/xmpp_component.c, modules/xmpp/xmpp_server.c:
	  - changed LOG with LM_*

2007-10-19 10:56  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2941] modules/dispatcher/dispatch.c:
	  - do not allow to set a destination to probing-mode,
	  when it's disabled (subbmitted by Carsten Bock, closes #1816419)

2007-10-19 05:12  Dan Pascu, <dan at ag-projects dot com>

	* [r2940] parser/msg_parser.h:
	  Fixed typo

2007-10-18 20:58  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2939] modules/siptrace/siptrace.c:
	  - misused strcpy => strcat, fixing protocol printing issue (reported
	  by Dragos Oancea)

2007-10-18 10:14  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2938] Makefile.defs, modules/msilo/README,
	  modules/msilo/doc/msilo_user.sgml, modules/msilo/msilo.c:
	  - ability to use outbound_proxy to cope with deployments that do not
	  register SIP domain in DNS (closes bug #1764181 reported by lilichun)
	  - version spec updated from 'dev' to 'pre' as code is frozen

2007-10-18 09:53  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2937] modules/siptrace/siptrace.c:
	  - fixed missing sctp support
	  - coherence for from/to addresses (proto:ip:port)

2007-10-18 08:45  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2936] db/schema/openser-presence.xml:
	  - remove bogus comment end from xml spec

2007-10-18 04:43  Dan Pascu, <dan at ag-projects dot com>

	* [r2935] scripts/openserctlrc, scripts/openserdbctl.base,
	  scripts/openserdbctl.db_berkeley, scripts/openserdbctl.dbtext,
	  scripts/openserdbctl.mysql, scripts/openserdbctl.pgsql:
	  Allow openserdbctl to run unassisted by settings some variables that
	  describe what additional tables to install

2007-10-18 01:44  Di-Shi Sun, <di-shi at transnexus dot com>

	* [r2933] modules/osp/etc/sample-osp-openser.cfg, modules/osp/usage.c:
	  1. Changed TCCode from 10016 to 9016 for CDR of BYE without OSP info.
	  2. Changed error log messages for reporting setup usage.
	  3. Disabled DNS blacklist in sample configuration.

2007-10-17 17:07  Juha Heinanen, <jh at tutpro dot com>

	* [r2932] modules/lcr/lcr_mod.c:
	  * Fixed a typo (actually testing if svn commit works).

2007-10-17 14:57  Anca Vamanu, <anca at voice-system dot ro>

	* [r2931] modules/presence/publish.c:
	  - fixed error introduced from the last commit (reported by Dan Pascu)

2007-10-17 12:00  Anca Vamanu, <anca at voice-system dot ro>

	* [r2930] modules/presence/publish.c,
	  modules/presence_xml/notify_body.c:
	  - fixed to remove compile warnings - reported by Dan Pascu

2007-10-17 08:43  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2929] utils/db_berkeley:
	  - add svn:ignore properties for db_berkeley util dir

2007-10-16 18:24  Dan Pascu, <dan at ag-projects dot com>

	* [r2928] scripts/db_berkeley/openser/active_watchers,
	  scripts/db_berkeley/openser/version:
	  Table version should be in the version table...

2007-10-16 14:44  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2927] modules/carrierroute/route_func.c,
	  modules/carrierroute/route_rule.c:
	  - add and extend the error logging in tree_route_uri
	  - fix division by zero bug if probability is zero

2007-10-16 13:48  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2925] modules/registrar/common.c:
	  - bugfix in extract_aor, static char array must be filled with zeros
	  before use, otherwise in some cases old data is used

2007-10-16 13:46  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2924] modules/registrar/reg_mod.h:
	  - fix comment about db datatypes

2007-10-16 11:38  Anca Vamanu, <anca at voice-system dot ro>

	* [r2923] db/schema/pr_active_watchers.xml, db/schema/pr_watchers.xml,
	  modules/presence/notify.c, modules/presence/presence.c,
	  modules/presence/publish.c, modules/presence/subscribe.c,
	  modules/presence/subscribe.h,
	  scripts/db_berkeley/openser/active_watchers,
	  scripts/db_berkeley/openser/version,
	  scripts/db_berkeley/openser/watchers,
	  scripts/dbtext/openser/active_watchers,
	  scripts/dbtext/openser/version, scripts/dbtext/openser/watchers,
	  scripts/mysql/presence-create.sql,
	  scripts/postgres/presence-create.sql:
	  - followed the suggestions of Adrian Georgescu to use the same names
	  in equivalent columns from watchers and active_watchers database
	  tables

2007-10-16 07:02  Elena-Ramona Modroiu, <ramona at voice-system dot ro>

	* [r2922] modules/avpops/README, modules/avpops/doc/avpops_user.sgml:
	  - added note about AVPs in onreply_route (reported by Inaki Baz
	  Castillo)

2007-10-15 16:59  Dan Pascu, <dan at ag-projects dot com>

	* [r2921] packaging/debian-sarge/rules, packaging/debian/rules:
	  Do not include the INSTALL file in the debian package documentation to
	  avoid lintian warnings

2007-10-15 13:18  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2920] doc/doxygen/openser-doxygen:
	  - remove pa module and add new to doxygen config

2007-10-15 08:41  Anca Vamanu, <anca at voice-system dot ro>

	* [r2919] modules/presence_xml/presence_xml.c,
	  modules/presence_xml/xcap_auth.c:
	  - fixed a bug in pres_watcher_allowed() function

2007-10-14 22:06  Dan Pascu, <dan at ag-projects dot com>

	* [r2918] Makefile.rules:
	  Also clean utils/db_berkeley on make proper

2007-10-14 21:55  Dan Pascu, <dan at ag-projects dot com>

	* [r2917] scripts/db_berkeley/openser/acc,
	  scripts/db_berkeley/openser/active_sessions,
	  scripts/db_berkeley/openser/active_watchers,
	  scripts/db_berkeley/openser/address,
	  scripts/db_berkeley/openser/admin_privileges,
	  scripts/db_berkeley/openser/aliases,
	  scripts/db_berkeley/openser/carrierroute,
	  scripts/db_berkeley/openser/cpl,
	  scripts/db_berkeley/openser/dbaliases,
	  scripts/db_berkeley/openser/dialog,
	  scripts/db_berkeley/openser/dispatcher,
	  scripts/db_berkeley/openser/domain,
	  scripts/db_berkeley/openser/domainpolicy,
	  scripts/db_berkeley/openser/grp, scripts/db_berkeley/openser/gw,
	  scripts/db_berkeley/openser/gw_grp,
	  scripts/db_berkeley/openser/imc_members,
	  scripts/db_berkeley/openser/imc_rooms,
	  scripts/db_berkeley/openser/lcr, scripts/db_berkeley/openser/location,
	  scripts/db_berkeley/openser/missed_calls,
	  scripts/db_berkeley/openser/pdt, scripts/db_berkeley/openser/pending,
	  scripts/db_berkeley/openser/phonebook,
	  scripts/db_berkeley/openser/presentity,
	  scripts/db_berkeley/openser/pua, scripts/db_berkeley/openser/re_grp,
	  scripts/db_berkeley/openser/rls_presentity,
	  scripts/db_berkeley/openser/rls_watchers,
	  scripts/db_berkeley/openser/route_tree,
	  scripts/db_berkeley/openser/server_monitoring,
	  scripts/db_berkeley/openser/server_monitoring_agg,
	  scripts/db_berkeley/openser/silo,
	  scripts/db_berkeley/openser/sip_trace,
	  scripts/db_berkeley/openser/speed_dial,
	  scripts/db_berkeley/openser/subscriber,
	  scripts/db_berkeley/openser/trusted, scripts/db_berkeley/openser/uri,
	  scripts/db_berkeley/openser/usr_preferences,
	  scripts/db_berkeley/openser/usr_preferences_types,
	  scripts/db_berkeley/openser/version,
	  scripts/db_berkeley/openser/watchers,
	  scripts/db_berkeley/openser/xcap:
	  Synchronized db_berkeley database files with the ones generated from
	  the latest db schema

2007-10-14 21:49  Dan Pascu, <dan at ag-projects dot com>

	* [r2916] Makefile.rules, db/schema/Makefile:
	  Remove autogenerated db schema files to make sure the source tree is
	  in the same state as the original after a make proper

2007-10-14 09:19  Juha Heinanen, <jh at tutpro dot com>

	* [r2915] modules/mi_xmlrpc/xr_parser.c,
	  modules/presence_mwi/add_events.c:
	  * Added missing newline conversion function call in 
	  mi_xmlrpc/xr_parser.c.
	  * Improved error message in presence_mwi/add_events.c.

2007-10-13 22:56  Dan Pascu, <dan at ag-projects dot com>

	* [r2914] scripts/openserdbctl.db_berkeley:
	  Removed shebang line from non-script to avoid lintian warnings

2007-10-13 15:36  Dan Pascu, <dan at ag-projects dot com>

	* [r2913] packaging/debian/control:
	  Replaced deprecated Source-Version

2007-10-12 15:12  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2912] modules/db_berkeley/db_berkeley.c:
	  - remove raw_query module export, this is not implemented anyway

2007-10-12 10:34  Dan Pascu, <dan at ag-projects dot com>

	* [r2910] packaging/debian/control:
	  Debian unstable has libsnmp-dev now which replaces all previous
	  libsnmpNN-dev

2007-10-12 10:33  Dan Pascu, <dan at ag-projects dot com>

	* [r2909] packaging/debian-sarge/control, packaging/debian/control:
	  Removed redundant dependencies (they are added by shlib:Depends
	  automatically)

2007-10-12 08:29  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2908] doc/dbschema/xsl/sql.xsl:
	  - uncommend out not needed stuff in sql.xsl

2007-10-12 08:25  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2907] modules/carrierroute/route_func.c:
	  - fix some comments
	  - add more error logging for rewrite_uri_recursor

2007-10-12 07:35  Juha Heinanen, <jh at tutpro dot com>

	* [r2906] modules/lcr/lcr_mod.c:
	  * Added null test on socket before trying to convert it into str.

2007-10-11 08:37  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2903] modules/dbtext/doc/dbtext.cfg:
	  - fix dbtext config, break->exit

2007-10-11 08:24  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2902] modules/acc/README, modules/acc/doc/acc_user.sgml,
	  modules/auth_diameter/README,
	  modules/auth_diameter/doc/auth_diameter_user.sgml,
	  modules/dbtext/README, modules/msilo/README,
	  modules/permissions/README,
	  modules/permissions/doc/permissions_user.sgml, modules/sms/README,
	  modules/sms/doc/sms_user.sgml, modules/uac_redirect/README,
	  modules/uac_redirect/doc/uac_redirect_user.sgml:
	  - documentation fix
	  replace more breaks with exit

2007-10-11 08:21  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2901] modules/rls:
	  - add missing svn:ignore property to directory

2007-10-11 08:08  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2898] modules/pike/README, modules/pike/doc/pike_user.sgml:
	  - fixed example (break replaced with exit)
	  Credits go to Iñaki Baz Castillo <ibc@in.ilimit.es>

2007-10-10 16:07  Anca Vamanu, <anca at voice-system dot ro>

	* [r2896] modules/presence/presence.c, modules/presence/subscribe.c,
	  modules/presence/subscribe.h, modules/rls/doc/rls_user.sgml,
	  modules/rls/resource_notify.c, modules/rls/rls.c:
	  - fixed presence exported function 'update_db_subs' -removed
	  dependency to presence module database connection to make it usable
	  when presence module works in library mode.(reported by Reinhold
	  Buchinger)
	  - updated rls module to the change

2007-10-10 13:04  Dan Pascu, <dan at ag-projects dot com>

	* [r2895] modules/uri_db/checks.c, modules/uri_db/uridb_mod.c:
	  Migrated to LM_xxx logging functions

2007-10-10 12:53  Dan Pascu, <dan at ag-projects dot com>

	* [r2894] modules/group/README, modules/group/doc/group_user.sgml:
	  Fixed typo

2007-10-10 09:13  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2893] db/schema/carrierroute.xml, db/schema/route_tree.xml:
	  - fix IDs of the tables

2007-10-10 07:53  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2892] scripts/openserctl, scripts/openserdbctl,
	  scripts/openserdbctl.dbtext:
	  - remove serweb specific options for dbtext, serweb needs a external
	  db, so this will never work
	  - deactivate dbtext migration command

2007-10-10 04:11  Dan Pascu, <dan at ag-projects dot com>

	* [r2891] modules/mediaproxy/mediaproxy.c:
	  Adjusted some comments

2007-10-09 15:45  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2890] modules/uri_db/README, modules/uri_db/doc/uri_db_user.sgml:
	  - fix uri_db documentation
	  This module don't work anymore without a database connection.
	  If no database URL is specified, the default URL is used.

2007-10-09 10:38  Anca Vamanu, <anca at voice-system dot ro>

	* [r2889] modules/pua_usrloc/ul_publish.c:
	  - modified to send Publish with no body when a Register for update is
	  received to avoid the problems discussed in thread '[OpenSER-Users]
	  [wiki] Adding page about SIP devices supporting presence PUBLISH'.

2007-10-08 17:20  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2888] modules/mi_xmlrpc/Makefile:
	  - version detection ported from bash specific tests to awk-based tests
	  -> more portable across different kind of shells.
	  Reported by Henning Westerholt <henning.westerholt@1und1.de>
	  Credits go to Dragos Oancea <dragos@voice-system.ro>

2007-10-08 12:07  Anca Vamanu, <anca at voice-system dot ro>

	* [r2886] modules/presence/README,
	  modules/presence/doc/presence_user.sgml, modules/presence/presence.c,
	  modules/presence/subscribe.c:
	  - fixed using current Subscribe record route set in the subsequent
	  Notify message (closes bug 1801898)
	  - updated documentation

2007-10-08 11:53  Juha Heinanen, <jh at tutpro dot com>

	* [r2885] modules/textops/README:
	  * Forgot to generate new README file after textops_user.sgml fix.

2007-10-08 11:29  Juha Heinanen, <jh at tutpro dot com>

	* [r2884] modules/textops/doc/textops_user.sgml,
	  modules/textops/textops.c:
	  * Fixed filter_body example (cannot assign to $cT).
	  * Added missing return 1, when filtering succeeded.

2007-10-08 08:32  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2883] modules/mi_xmlrpc/xr_parser.c,
	  modules/mi_xmlrpc/xr_parser_lib.h:
	  -fixed some compile errors for OLD VERSION of xmlrpc-c3
	  -fixed warnings about uninitialized vars
	  Reported by Juha Heinanen <jh@tutpro.com>

2007-10-08 08:20  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2882] pvar.c:
	  fixed uninitialized variable

2007-10-08 07:52  Juha Heinanen, <jh at tutpro dot com>

	* [r2881] modules/textops/README, modules/textops/doc/textops_user.sgml,
	  modules/textops/textops.c:
	  * Added filter_body function (not tested yet due to broken trunk).

2007-10-08 07:13  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2880] main.c:
	  - small formatting changes in version output
	  patch provided from Andreas Heise

2007-10-07 09:00  Juha Heinanen, <jh at tutpro dot com>

	* [r2879] parser/parse_content.c, parser/parse_content.h:
	  * Added "mixed" mime subtype, but was not able to test it due to
	  problems with mi_xmlrpc module that prevented openser from starting.

2007-10-05 16:38  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2878] doc/dbschema/xsl/dbtext.xsl, scripts/dbtext/openser/acc,
	  scripts/dbtext/openser/active_sessions,
	  scripts/dbtext/openser/active_watchers,
	  scripts/dbtext/openser/address,
	  scripts/dbtext/openser/admin_privileges,
	  scripts/dbtext/openser/aliases, scripts/dbtext/openser/carrierroute,
	  scripts/dbtext/openser/cpl, scripts/dbtext/openser/dbaliases,
	  scripts/dbtext/openser/dialog, scripts/dbtext/openser/dispatcher,
	  scripts/dbtext/openser/domain, scripts/dbtext/openser/domainpolicy,
	  scripts/dbtext/openser/grp, scripts/dbtext/openser/gw,
	  scripts/dbtext/openser/gw_grp, scripts/dbtext/openser/imc_members,
	  scripts/dbtext/openser/imc_rooms, scripts/dbtext/openser/lcr,
	  scripts/dbtext/openser/location, scripts/dbtext/openser/missed_calls,
	  scripts/dbtext/openser/pdt, scripts/dbtext/openser/pending,
	  scripts/dbtext/openser/phonebook, scripts/dbtext/openser/presentity,
	  scripts/dbtext/openser/pua, scripts/dbtext/openser/re_grp,
	  scripts/dbtext/openser/rls_presentity,
	  scripts/dbtext/openser/rls_watchers,
	  scripts/dbtext/openser/route_tree,
	  scripts/dbtext/openser/server_monitoring,
	  scripts/dbtext/openser/server_monitoring_agg,
	  scripts/dbtext/openser/silo, scripts/dbtext/openser/sip_trace,
	  scripts/dbtext/openser/speed_dial, scripts/dbtext/openser/subscriber,
	  scripts/dbtext/openser/trusted, scripts/dbtext/openser/uri,
	  scripts/dbtext/openser/usr_preferences,
	  scripts/dbtext/openser/usr_preferences_types,
	  scripts/dbtext/openser/version, scripts/dbtext/openser/watchers,
	  scripts/dbtext/openser/xcap:
	  - dbtext used now also STRING instead of STR, change xsl script and
	  actual database
	  - some small formatting changes in xsl script

2007-10-05 16:25  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2877] modules/dbtext/dbt_api.c, modules/dbtext/dbt_res.c:
	  - more on conversion of returned value types

2007-10-05 16:03  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2876] modules/uac/README, modules/uac/auth.c,
	  modules/uac/auth_hdr.c, modules/uac/auth_hdr.h,
	  modules/uac/doc/uac_user.sgml:
	  - support for qop auth

2007-10-05 15:38  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2875] scripts/openserctl, scripts/openserctl.dbtext:
	  - merge patch for dbtext support from tracker #1707527
	  - Patch provided from Ovidiu Sas.

2007-10-05 15:15  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2874] modules/dbtext/dbt_base.c, modules/dbtext/dbt_file.c,
	  modules/dbtext/dbt_tb.c:
	  - support for string, blob and time (yet limited to be like an
	  integer)
	  - need testing on it

2007-10-05 15:11  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2873] modules/tm/t_cancel.h, modules/tm/t_fwd.c:
	  - fixed cancel processing - follow the RFC3261 indication and do all
	  the
	  time hop by hop cancelling (even for generating the CANCELS).
	  Now, when a CANCEL is received, it will simply be replied (no fwd) and
	  then all branched of the corresponding INVITE transaction will be 
          locally cancelled. This will fix the auto-from-fixing (when doing
	  uac_replace_from()) of the CANCEL requests.
	  Known issue (so far): accouting of CANCEL transactions will fail as
	  they are not fwd, but locally replied.

2007-10-05 14:50  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2872] proxy.c, proxy.h:
	  - add mk_proxy and free_proxy function that work over shared memory
	  - there exist already similar functions for the hostent
	  - tested internally, small adaptions for trunk carried out

2007-10-05 14:32  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2871] db/db_col.c, db/db_col.h, db/db_res.c, db/db_res.h,
	  db/db_ut.c, modules/db_berkeley/bdb_res.c,
	  modules/db_berkeley/bdb_res.h, modules/db_berkeley/db_berkeley.c,
	  modules/dbtext/dbt_api.c, modules/dbtext/dbt_api.h,
	  modules/mysql/dbase.c, modules/mysql/res.c, modules/mysql/res.h,
	  modules/postgres/db_res.c, modules/postgres/dbase.c,
	  modules/postgres/dbase.h, modules/unixodbc/dbase.c,
	  modules/unixodbc/res.c, modules/unixodbc/res.h:
	  - move new_result and free_columns function to db directory
	  - remove the implementation of this functions in all database modules
	  - still missing
	  - postgresql and db_berkeley implement different, more thouroughly
	  free methods for colums and such
	  - review if we can use the common functions like the other three
	  modules

2007-10-05 14:19  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2870] modules/mi_xmlrpc/Makefile, modules/mi_xmlrpc/mi_xmlrpc.c,
	  modules/mi_xmlrpc/xr_parser.c, modules/mi_xmlrpc/xr_parser_lib.h,
	  modules/mi_xmlrpc/xr_server.c, modules/mi_xmlrpc/xr_server.h:
	  - added support for newer versions of libxmlrpc-c3 (currently tested
	  against 1.06.18 - 1.03.10 )
	  - support for autodetection of header path and libraries for compile
	  Credits go to Dragos Oancea <dragos@voice-system.ro>

2007-10-05 13:46  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2869] modules/mi_fifo/README, modules/mi_fifo/doc/mi_fifo_user.sgml:
	  - fixed the "get_statistics" example
	  Credits go to Tim Madorma <tmadorma@gmail.com>

2007-10-05 13:29  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2868] modules/xlog/xlog.c:
	  - re-enabled force color parameter (old style was deprecated by the PV
	  refurbishment done few weeks ago)

2007-10-05 13:01  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2867] modules/sl/README, modules/sl/doc/sl_user.sgml,
	  modules/sl/sl.c:
	  - revert commit from rev 2835 after discussion on the devel list
	  we don't understand the full implications of this change at the moment

2007-10-05 12:40  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2866] Makefile, packaging/debian-sarge/control,
	  packaging/debian-sarge/rules, packaging/debian/control,
	  packaging/debian/rules:
	  - remove the not needed stuff altogether from Makefile, fix the build
	  - fix the db_berkeley database files installation
	  - add db_berkeley to debian packaging
	  - remove redundant libconfuse0 build dependency from packaging

2007-10-05 11:51  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2865] main.c, modules/diversion/diversion.c,
	  modules/maxfwd/maxfwd.c, modules/mysql/db_mod.c,
	  modules/mysql/my_con.c, modules/siptrace/siptrace.c,
	  modules/textops/textops.c, modules/uac/uac.c, modules/xlog/xlog.c:
	  - apply patch #1807792, migrate more code to LM_* format
	  Patch provided by Andreas Heise

2007-10-05 11:07  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2864] Makefile, utils/db_berkeley/Makefile:
	  - don't try to install the openserctl.db_berkeley, this is not
	  available for now
	  - only compile the db_berkeley utils if there are included in the
	  Makefile

2007-10-05 10:53  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2863] db/schema/Makefile, doc/dbschema/xsl/db_berkeley.xsl:
	  - first version of (almost) working xsl script for db_berkeley module
	  the index creation don't work for some tables yet

2007-10-05 10:50  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2862] scripts/dbtext/openser/server_monitoring,
	  scripts/mysql/serweb-create.sql, scripts/postgres/serweb-create.sql:
	  - move id column to first place in serweb table, like in the other
	  tables

2007-10-05 10:48  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2861] doc/dbschema/xsl/common.xsl, doc/dbschema/xsl/sql.xsl:
	  - small formatting changes

2007-10-05 10:47  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2860] db/schema/domain.xml, db/schema/sw_server_monitoring.xml:
	  - small formatting changes

2007-10-05 10:16  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2859] modules/textops/textops.c:
	  - free fixup for header names

2007-10-05 08:49  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2858] modules/tm/t_reply.c, modules/tm/tm.c:
	  - replace direct flag usage with predefined macro

2007-10-05 08:48  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2857] modules/acc/acc_mod.c:
	  - added free fixup function

2007-10-05 08:39  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2856] modules/gflags/gflags.c:
	  - comments about the fixup function to know what does, for proper
	  usage from external APIs, like perl scripts

2007-10-05 07:52  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2855] cfg.y, main.c:
	  - printing the cfg script was moved on EXTRA_DEBUG (to verbose for
	  debug)
	  - replaced some DBG with LM_DBG

2007-10-04 14:54  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2854] modules/msilo/msilo.c:
	  - force order by column when loading records to be dumped (reported by
	  Cesar Troncoso)

2007-10-04 13:43  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2853] Makefile:
	  - fix modules tools install for berkeley db
	  Thanks to Norman Brandiger for debugging help

2007-10-04 13:22  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2852] pvar.c, pvar.h:
	  - new PV: $adu - auth digest uri - the uri from auth credentials
	  - useful to tighten the security checks (can be now compared with
	  To/R-URI to see if it is intended destination used to compose the
	  digest response)
	  - reported by Radu State

2007-10-04 12:28  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2851] modules/db_berkeley/bdb_lib.c, modules/db_berkeley/bdb_res.c,
	  modules/db_berkeley/bdb_val.c, modules/db_berkeley/db_berkeley.c:
	  - port to new logging system
	  - increase log level for messages in db operation errors

2007-10-04 11:48  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2850] utils/db_berkeley/Makefile:
	  - disabled the utility compiling as it requires external libs.
	  Need to find a way to compile it or not

2007-10-04 11:46  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2849] mod_fix.c, mod_fix.h:
	  - added mod_fix.c which includes the common fixup-related functions
	  - were migrated from mod_fix.h as the file is getting bigger and makes
	  no sense to duplicate the objects in all modules using these functions

2007-10-04 11:35  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2848] modules/domain/domain_mod.c:
	  - fixed missing initializer in the mod export struct

2007-10-04 11:31  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2847] Makefile:
	  - added "db_berkeley" to the exclude_module list as requires external
	  libs.

2007-10-04 11:23  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2846] modules/db_berkeley/db_berkeley.c:
	  - updated the cmd_export_t according to latest structure

2007-10-04 11:21  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2845] Makefile.defs, mod_fix.h, modules/acc/acc_mod.c,
	  modules/alias_db/alias_db.c, modules/auth/auth_mod.c,
	  modules/auth_db/authdb_mod.c, modules/auth_diameter/auth_diameter.c,
	  modules/auth_radius/authrad_mod.c, modules/avp_radius/avp_radius.c,
	  modules/avpops/avpops.c, modules/benchmark/benchmark.c,
	  modules/carrierroute/carrierroute.c, modules/cfgutils/cfgutils.c,
	  modules/cpl-c/cpl.c, modules/dbtext/dbtext.c, modules/dialog/dialog.c,
	  modules/dispatcher/dispatcher.c, modules/diversion/diversion.c,
	  modules/domain/domain_mod.c, modules/domainpolicy/domainpolicy_mod.c,
	  modules/enum/enum_mod.c, modules/exec/exec_mod.c,
	  modules/flatstore/flatstore_mod.c, modules/gflags/gflags.c,
	  modules/group/group_mod.c, modules/group_radius/grouprad_mod.c,
	  modules/h350/h350_mod.c, modules/imc/imc.c, modules/jabber/jabber.c,
	  modules/lcr/lcr_mod.c, modules/ldap/ldap_mod.c,
	  modules/mangler/mangler.c, modules/maxfwd/maxfwd.c,
	  modules/mediaproxy/mediaproxy.c, modules/msilo/msilo.c,
	  modules/mysql/db_mod.c, modules/nathelper/nathelper.c,
	  modules/options/mod_options.c, modules/osp/osp_mod.c,
	  modules/path/path_mod.c, modules/pdt/pdt.c, modules/perl/perl.c,
	  modules/perlvdb/perlvdb.c, modules/permissions/permissions.c,
	  modules/pike/pike.c, modules/postgres/db_mod.c,
	  modules/presence/presence.c, modules/presence_mwi/presence_mwi.c,
	  modules/pua/pua.c, modules/pua_bla/pua_bla.c,
	  modules/pua_usrloc/pua_usrloc.c, modules/pua_xmpp/pua_xmpp.c,
	  modules/registrar/reg_mod.c, modules/rls/rls.c, modules/rr/rr_mod.c,
	  modules/seas/seas.c, modules/siptrace/siptrace.c, modules/sl/sl.c,
	  modules/sms/sms.c, modules/speeddial/speeddial.c, modules/sst/sst.c,
	  modules/statistics/statistics.c, modules/textops/textops.c,
	  modules/tlsops/tlsops.c, modules/tm/tm.c, modules/uac/uac.c,
	  modules/uac_redirect/redirect.c, modules/unixodbc/db_mod.c,
	  modules/uri/uri_mod.c, modules/uri_db/uridb_mod.c,
	  modules/uri_radius/urirad_mod.c, modules/usrloc/ul_mod.c,
	  modules/xcap_client/xcap_client.c, modules/xlog/xlog.c,
	  modules/xmpp/xmpp.c, sr_module.h:
	  - cmd_export_t has a new field: free_fixup
	  - it is the function to be called if you want to free the structure
	  resulted after calling the fixup function
	  - to be used in dynamic environments, like perl scripts, where you
	  have to call fixup function every time you call a function exported by
	  modules
	  - for the future, a better cleanup of used memory can be achived by
	  freeing fixed structured in config file
	  - fixup functions in core got the free_fixup pair if is the case
	  - textops has some free_fixup functions set
	  - dev version increased

2007-10-04 11:15  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2844] Makefile, modules/db_berkeley, modules/db_berkeley/Makefile,
	  modules/db_berkeley/README, modules/db_berkeley/bdb_lib.c,
	  modules/db_berkeley/bdb_lib.h, modules/db_berkeley/bdb_res.c,
	  modules/db_berkeley/bdb_res.h, modules/db_berkeley/bdb_util.c,
	  modules/db_berkeley/bdb_util.h, modules/db_berkeley/bdb_val.c,
	  modules/db_berkeley/bdb_val.h, modules/db_berkeley/db_berkeley.c,
	  modules/db_berkeley/db_berkeley.h, modules/db_berkeley/doc,
	  modules/db_berkeley/doc/db_berkeley.sgml,
	  modules/db_berkeley/doc/db_berkeley_devel.sgml,
	  modules/db_berkeley/doc/db_berkeley_faq.sgml,
	  modules/db_berkeley/doc/db_berkeley_user.sgml, scripts/db_berkeley,
	  scripts/db_berkeley/openser, scripts/db_berkeley/openser/acc,
	  scripts/db_berkeley/openser/active_sessions,
	  scripts/db_berkeley/openser/active_watchers,
	  scripts/db_berkeley/openser/address,
	  scripts/db_berkeley/openser/admin_privileges,
	  scripts/db_berkeley/openser/aliases,
	  scripts/db_berkeley/openser/carrierroute,
	  scripts/db_berkeley/openser/cpl,
	  scripts/db_berkeley/openser/dbaliases,
	  scripts/db_berkeley/openser/dialog,
	  scripts/db_berkeley/openser/dispatcher,
	  scripts/db_berkeley/openser/domain,
	  scripts/db_berkeley/openser/domainpolicy,
	  scripts/db_berkeley/openser/grp, scripts/db_berkeley/openser/gw,
	  scripts/db_berkeley/openser/gw_grp,
	  scripts/db_berkeley/openser/imc_members,
	  scripts/db_berkeley/openser/imc_rooms,
	  scripts/db_berkeley/openser/lcr, scripts/db_berkeley/openser/location,
	  scripts/db_berkeley/openser/missed_calls,
	  scripts/db_berkeley/openser/pdt, scripts/db_berkeley/openser/pending,
	  scripts/db_berkeley/openser/phonebook,
	  scripts/db_berkeley/openser/presentity,
	  scripts/db_berkeley/openser/pua, scripts/db_berkeley/openser/re_grp,
	  scripts/db_berkeley/openser/rls_presentity,
	  scripts/db_berkeley/openser/rls_watchers,
	  scripts/db_berkeley/openser/route_tree,
	  scripts/db_berkeley/openser/server_monitoring,
	  scripts/db_berkeley/openser/server_monitoring_agg,
	  scripts/db_berkeley/openser/silo,
	  scripts/db_berkeley/openser/sip_trace,
	  scripts/db_berkeley/openser/speed_dial,
	  scripts/db_berkeley/openser/subscriber,
	  scripts/db_berkeley/openser/trusted, scripts/db_berkeley/openser/uri,
	  scripts/db_berkeley/openser/usr_preferences,
	  scripts/db_berkeley/openser/usr_preferences_types,
	  scripts/db_berkeley/openser/version,
	  scripts/db_berkeley/openser/watchers,
	  scripts/db_berkeley/openser/xcap, scripts/openserdbctl,
	  scripts/openserdbctl.db_berkeley, utils/db_berkeley,
	  utils/db_berkeley/Makefile, utils/db_berkeley/bdb_recover.c,
	  utils/db_berkeley/bdb_recover.h:
	  - import berkeley database module into trunk
	  - Many thanks to William Quan from Cisco Systems for the contribution
	  - based on patch #1803180, renamed from berkely_db to db_berkeley
	  - Some work still remains:
	  - build berkley_db as own debian package
	  - add berkley_db to the xml database creation process to generate the
	  content in scripts/db_berkley/openser like the dbtext stuff
	  - evaluate if its possible to use the db_free_row and db_free_rows
	  functions for this module
	  - port to new logging system

2007-10-04 11:10  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2843] modules/dialog/dialog.c:
	  - fixed crash due inconsistent configuration : DB persistency enabled,
	  but no DB URL set.
	  Close bug #1802190.

2007-10-04 11:01  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2842] modules/dialog/README, modules/dialog/dialog.c,
	  modules/dialog/dlg_req_within.c, modules/dialog/dlg_req_within.h,
	  modules/dialog/doc/dialog_user.sgml:
	  - added new module parameter "dlg_extra_hdrs" for adding custom
	  headers for
	  the BYE requests generated by the module
	  - the MI "terminate_dialog" take a third optiona parameter
	  "extra_hdrs" to
	  add various extra hdrs in BYEs
	  - some clenaup and extra checks
	  - fixed some bugs related to mem handling

2007-10-04 09:19  Elena-Ramona Modroiu, <ramona at voice-system dot ro>

	* [r2841] modules/xlog/xlog.c:
	  - check whether the log message is going to be printed out before
	  building it internally

2007-10-04 07:35  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2840] modules/uac/auth.c, modules/uac/auth_hdr.c,
	  modules/uac/from.c, modules/uac/uac.c:
	  - applied patch #1807210 for migrating to LM_*
	  Contributed by Andreas Heise

2007-10-03 17:34  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2839] modules/usrloc/README, modules/usrloc/dlist.c,
	  modules/usrloc/doc/usrloc_user.sgml, modules/usrloc/ul_mod.c,
	  modules/usrloc/ul_mod.h:
	  - reverted patch #1689180 (see rev 2824):
	  instead of using the SQL function for geting the date, use the openser
	  internal function to print the current time -> got rid of the module
	  parameter "getdate_sql"
	  For the future, the raw sql query can be converted to a standard SQL
	  query.

2007-10-03 10:44  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2838] modules/siptrace/siptrace.c:
	  - support to store ACKs to negative replies filtered by sl module

2007-10-03 10:19  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2837] Makefile.defs, action.c, cfg.lex, cfg.y,
	  modules/avpops/README, modules/avpops/avpops.c,
	  modules/avpops/avpops_impl.c, modules/avpops/avpops_impl.h,
	  modules/avpops/doc/avpops_user.sgml, modules/tm/dlg.c, route_struct.h:
	  - avp_printf() moved in core and aliased as pv_printf() (avp_printf()
	  can be used, too)
	  - the first parameter can be now any writable PV (avp, var, ru, du,
	  ...)
	  - avp_printf() still documented in avpops, but note added about
	  migration to core
	  - tm: init the value of rs val
	  - dev version increased

2007-09-30 17:46  Juha Heinanen, <jh at tutpro dot com>

	* [r2836] modules/permissions/README,
	  modules/permissions/doc/permissions_user.sgml,
	  modules/permissions/mi.c, modules/permissions/mi.h,
	  modules/permissions/permissions.c, modules/permissions/permissions.h:
	  * Introduced mew MI function called allow_uri that allows MI user to
	  make an allow test similar to the one performed by allow_uri function.

2007-09-28 11:26  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2835] modules/sl/README, modules/sl/doc/sl_user.sgml,
	  modules/sl/sl.c:
	  - activate sl_send_reply also for ONREPLY_ROUTEs

2007-09-28 10:59  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2834] modules/sl/sl.c:
	  - make "sl_send_reply" conform to RFC 3261
	  Patch provided from Andreas Heise, aheise at users.sourceforge.net
	  closes 1800406

2007-09-28 09:45  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2833] modules/carrierroute/README,
	  modules/carrierroute/carrier_tree.c,
	  modules/carrierroute/carrier_tree.h,
	  modules/carrierroute/carrierroute.c,
	  modules/carrierroute/doc/carrierroute_user.sgml,
	  modules/carrierroute/route_func.c:
	  - cr_tree_rewrite_uri evaluates now pseudo-variables
	  Many thanks to Carsten Bock, <lists at bock dot info> for the patch.
	  This closes bug #1803444
	  - add documentation about this change

2007-09-27 15:53  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2831] scripts/dbtext/openser/xcap:
	  - add missing table xcap to dbtext

2007-09-27 15:53  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2830] db/schema/carrierroute.xml,
	  modules/carrierroute/carrier_tree.c,
	  modules/carrierroute/route_func.c,
	  scripts/dbtext/openser/carrierroute,
	  scripts/mysql/carrierroute-create.sql,
	  scripts/postgres/carrierroute-create.sql:
	  - fix strip column datatype
	  - fix cr_tree_rewrite function, use the specfified tree instead of the
	  default
	  closes Bug #1803444
	  - add a comment about the difference between internal and external IDs

2007-09-27 14:05  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2829] modules/carrierroute/route_func.c:
	  - add a missing release_data(rd)
	  Found by Carsten Bock, lists at bock dot info
	  - add a note about the AVP implementation

2007-09-27 14:02  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2828] modules/carrierroute/README,
	  modules/carrierroute/carrier_tree.c,
	  modules/carrierroute/carrier_tree.h,
	  modules/carrierroute/doc/carrierroute_user.sgml,
	  modules/carrierroute/route.h, modules/carrierroute/route_config.c,
	  modules/carrierroute/route_fifo.c, modules/carrierroute/route_func.c,
	  modules/carrierroute/route_rule.c, modules/carrierroute/route_rule.h,
	  modules/carrierroute/route_tree.c, modules/carrierroute/route_tree.h:
	  - rename max_locdb to max_targets

2007-09-27 11:07  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2827] db/schema/carrierroute.xml, modules/carrierroute/README,
	  modules/carrierroute/carrierroute.c,
	  modules/carrierroute/carrierroute.h,
	  modules/carrierroute/doc/carrierroute_user.sgml,
	  modules/carrierroute/route_db.c, modules/carrierroute/route_func.c,
	  modules/carrierroute/route_func.h,
	  scripts/dbtext/openser/carrierroute,
	  scripts/mysql/carrierroute-create.sql,
	  scripts/postgres/carrierroute-create.sql:
	  - fix the confusing mismatch between config and db mode in
	  carrierroute, now both modes only use 'domain' in documentation and
	  source
	  - adjust database scripts too

2007-09-27 09:05  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2825] etc/openser.cfg:
	  - add a hint about the automatically auto blacklisting and ipv6 lookup
	  to the config file

2007-09-27 08:49  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2824] modules/usrloc/README, modules/usrloc/dlist.c,
	  modules/usrloc/doc/usrloc_user.sgml, modules/usrloc/ul_mod.c,
	  modules/usrloc/ul_mod.h:
	  - merge patch #1689180
	  add usrloc parameter to pick the getdate SQL function to use

2007-09-27 07:51  Di-Shi Sun, <di-shi at transnexus dot com>

	* [r2823] modules/osp/usage.c:
	  Added usage report for BYE without OSP info.

2007-09-26 11:34  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2822] modules/carrierroute/README,
	  modules/carrierroute/doc/carrierroute_user.sgml:
	  - improve documentation
	  add a better openser.cfg example
	  extend the script functions explanation

2007-09-26 08:48  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2821] modules/carrierroute/README,
	  modules/carrierroute/doc/carrierroute_user.sgml:
	  - improve carrierroute documentation
	  add some notes about the prob values if there don't add to 100%
	  extend config file example
	  for config file mode explain that domain = level and show limitations

2007-09-26 07:14  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2820] modules/carrierroute/README,
	  modules/carrierroute/doc/carrierroute_user.sgml:
	  - fix parameter type documentation for use_domain and fallback_default
	  Thanks to 'stimpie' from #openser

2007-09-26 06:56  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2818] modules/avpops/README:
	  - check in the correct README content

2007-09-26 06:53  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2817] modules/avpops/README, modules/avpops/doc/avpops_user.sgml:
	  - add a note about variable escaping in db_query
	  related to bug #1802421

2007-09-25 10:44  Juha Heinanen, <jh at tutpro dot com>

	* [r2816] modules/auth/rpid.c:
	  * Forgot to apply is_e164 fix also to trunk.

2007-09-25 09:38  Juha Heinanen, <jh at tutpro dot com>

	* [r2815] branches/1.1/modules/auth/rpid.c,
	  branches/1.1/modules/enum/enum.c, branches/1.2/modules/auth/rpid.c,
	  branches/1.2/modules/enum/enum.c, modules/auth/rpid.c,
	  modules/enum/enum.c:
	  * Fixed bug in is_e164 function that accepted invalid E.164 numbers.
	  * In trunk, made is_rpid_user_e164 function independent of URI scheme.

2007-09-22 06:32  Juha Heinanen, <jh at tutpro dot com>

	* [r2814] modules/permissions/permissions.c:
	  * Made permissions module less noisy by turning INFOs to DBGs.

2007-09-22 05:54  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2813] modules/pa:
	  - PA module purged

2007-09-21 20:29  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2812] modules/snmpstats/interprocess_buffer.c,
	  modules/snmpstats/network_stats.c, modules/snmpstats/openserObjects.c,
	  modules/snmpstats/openserSIPRegUserTable.c,
	  modules/snmpstats/snmpstats.c, modules/xmpp/xmpp_api.c:
	  - fixed several "warning: old-style function definition"

2007-09-21 20:24  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2811] modules/perl/perl.c, modules/presence_mwi/add_events.c:
	  - fixed several "warning: old-style function definition"

2007-09-21 20:13  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2810] modules/mi_xmlrpc/mi_xmlrpc.c:
	  - fixed bogus LM_ message

2007-09-21 20:10  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2809] modules/ldap/ld_session.c, modules/ldap/ldap_exp_fn.c:
	  - fixed several "warning: old-style function definition"

2007-09-21 20:08  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2808] modules/cpl-c/cpl_db.c, modules/cpl-c/cpl_log.c,
	  modules/cpl-c/cpl_time.c:
	  - fixed several "warning: old-style function definition"

2007-09-21 20:03  Juha Heinanen, <jh at tutpro dot com>

	* [r2807] tls/tls_server.c:
	  * Fixed more typos.

2007-09-21 19:59  Juha Heinanen, <jh at tutpro dot com>

	* [r2806] tls/tls_server.c:
	  * Fixed typo.

2007-09-21 16:21  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2804] modules/usrloc/hslot.c, modules/usrloc/hslot.h,
	  modules/usrloc/ul_mod.c:
	  -BUG fixed: as the a lock is used to access from multiple process the
	  location cache, when the worker processed were killed, it is possible
	  (very rare) that one of the process to die having the lock taken.
	  Then, at shutdown, the main process is not able to acquire this lock 
          and to do the dumping and just block.

2007-09-21 15:45  Juha Heinanen, <jh at tutpro dot com>

	* [r2803] modules/presence_mwi/add_events.c:
	  * Fixed typo (credits to Norm Brandinger).

2007-09-21 14:11  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2802] modules/auth_radius/authorize.c,
	  modules/auth_radius/authrad_mod.c, modules/auth_radius/sterman.c,
	  modules/gflags/gflags.c, modules/mi_datagram/datagram_fnc.c,
	  modules/mi_datagram/mi_datagram.c,
	  modules/mi_datagram/mi_datagram_parser.c,
	  modules/mi_datagram/mi_datagram_writer.c,
	  modules/mi_xmlrpc/mi_xmlrpc.c, modules/mi_xmlrpc/xr_parser.c,
	  modules/mi_xmlrpc/xr_parser_lib.h, modules/mi_xmlrpc/xr_server.c,
	  modules/mi_xmlrpc/xr_writer.c, modules/msilo/ms_msg_list.c,
	  modules/msilo/msfuncs.c, modules/msilo/msilo.c,
	  modules/nathelper/nathelper.c, modules/nathelper/nhelpr_funcs.c,
	  modules/nathelper/sip_pinger.h, modules/options/mod_options.c,
	  modules/osp/destination.c, modules/osp/orig_transaction.c,
	  modules/osp/osp_mod.c, modules/osp/osptoolkit.c,
	  modules/osp/provider.c, modules/osp/sipheader.c,
	  modules/osp/term_transaction.c, modules/osp/tm.c, modules/osp/usage.c,
	  modules/path/path.c, modules/path/path_mod.c, modules/pdt/domains.c,
	  modules/pdt/pdt.c, modules/pdt/pdtree.c, modules/perl/perl.c,
	  modules/perl/perlfunc.c, modules/perlvdb/perlvdb.c,
	  modules/perlvdb/perlvdb_conv.c, modules/perlvdb/perlvdb_oohelpers.c,
	  modules/perlvdb/perlvdbfunc.c, modules/permissions/address.c,
	  modules/permissions/hash.c, modules/permissions/mi.c,
	  modules/permissions/parse_config.c, modules/permissions/permissions.c,
	  modules/permissions/rule.c, modules/permissions/trusted.c,
	  modules/pike/ip_tree.c, modules/pike/pike.c,
	  modules/pike/pike_funcs.c, modules/pike/pike_mi.c,
	  modules/pike/timer.c, modules/postgres/db_mod.c,
	  modules/postgres/db_res.c, modules/postgres/db_val.c,
	  modules/postgres/dbase.c, modules/postgres/pg_con.c,
	  modules/presence_mwi/add_events.c,
	  modules/presence_mwi/presence_mwi.c, modules/registrar/common.c,
	  modules/registrar/lookup.c, modules/registrar/path.c,
	  modules/registrar/reg_mod.c, modules/registrar/reply.c,
	  modules/registrar/save.c, modules/registrar/sip_msg.c,
	  parser/case_sip.h, parser/hf.c, parser/msg_parser.c,
	  parser/msg_parser.h, parser/parse_allow.c, parser/parse_content.c,
	  parser/parse_cseq.c, parser/parse_disposition.c,
	  parser/parse_diversion.c, parser/parse_event.c,
	  parser/parse_expires.c, parser/parse_fline.c, parser/parse_from.c,
	  parser/parse_methods.c, parser/parse_nameaddr.c, parser/parse_pai.c,
	  parser/parse_param.c, parser/parse_ppi.c, parser/parse_privacy.c,
	  parser/parse_refer_to.c, parser/parse_rpid.c, parser/parse_rr.c,
	  parser/parse_sipifmatch.c, parser/parse_sst.c,
	  parser/parse_supported.c, parser/parse_to.c, parser/parse_uri.c,
	  parser/parse_via.c, tls/tls_domain.c, tls/tls_init.c,
	  tls/tls_server.c:
	  - more log messages migrated to LM_* format
	  credits go to Ancuta Onofrei <ancuta@voice-system.ro>

2007-09-21 07:53  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2800] Makefile.defs, parser/parse_rr.c:
	  - free partial-built data in case of error when duplicating RR

2007-09-21 07:02  Juha Heinanen, <jh at tutpro dot com>

	* [r2799] modules/avp_radius/avp_radius.c:
	  * Fixed LM typo.

2007-09-21 06:53  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2798] modules/dispatcher/dispatch.c,
	  modules/dispatcher/dispatcher.c:
	  - fixed destroy module - check if the module was really initialized
	  before trying to destroy the internal structures.
	  Reported by Juha Heinanen <jh@tutpro.com>

2007-09-20 10:08  Anca Vamanu, <anca at voice-system dot ro>

	* [r2797] modules/presence/notify.c, modules/presence/presence.c,
	  modules/presence/presentity.c:
	  - fixed a bug in update_pw_dialogs function
	  - added some debug messages

2007-09-20 09:16  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2796] db/schema/openser-carrierroute.xml:
	  - fix wrong name in database documentation

2007-09-20 08:23  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2795] modules/mi_fifo/fifo_fnc.c, modules/mi_fifo/fifo_fnc.h,
	  modules/mi_fifo/mi_parser.c, modules/mi_fifo/mi_writer.c:
	  - port to new logging system

2007-09-20 08:00  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2794] modules/dispatcher/dispatch.c,
	  modules/dispatcher/dispatcher.c,
	  modules/dispatcher/doc/dispatcher_user.sgml:
	  Applied patch for reloading the dispatch data from text file also.
	  Credits go to Carsten Bock <bock@basis-audionet.de>
	  Closes patch 1796205

2007-09-20 07:47  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2793] modules/acc/acc.c, modules/acc/acc_extra.c,
	  modules/acc/acc_logic.c, modules/acc/acc_mod.c,
	  modules/acc/diam_avp.c, modules/acc/diam_message.c,
	  modules/acc/diam_tcp.c, modules/alias_db/alias_db.c,
	  modules/alias_db/alookup.c, modules/auth/api.c,
	  modules/auth/auth_mod.c, modules/auth/challenge.c,
	  modules/auth/common.c, modules/auth/nonce.c, modules/auth/rpid.c,
	  modules/auth_db/aaa_avps.h, modules/auth_db/authdb_mod.c,
	  modules/auth_db/authorize.c, modules/auth_diameter/auth_diameter.c,
	  modules/auth_diameter/authorize.c, modules/auth_diameter/avp.c,
	  modules/auth_diameter/message.c, modules/auth_diameter/tcp_comm.c,
	  modules/auth_diameter/user_in.c, modules/avp_radius/avp_radius.c,
	  modules/avpops/avpops.c, modules/avpops/avpops_db.c,
	  modules/avpops/avpops_impl.c, modules/avpops/avpops_parse.c,
	  modules/cpl-c/cpl.c, modules/dbtext/dbt_api.c,
	  modules/dbtext/dbt_base.c, modules/dbtext/dbt_file.c,
	  modules/dbtext/dbt_lib.c, modules/dbtext/dbt_res.c,
	  modules/dbtext/dbt_tb.c, modules/dbtext/dbtext.c,
	  modules/dispatcher/dispatcher.c, modules/diversion/diversion.c,
	  modules/domainpolicy/domainpolicy.c,
	  modules/domainpolicy/domainpolicy_mod.c, modules/exec/exec.c,
	  modules/exec/exec_hf.c, modules/exec/exec_mod.c, modules/exec/kill.c,
	  modules/flatstore/flat_con.c, modules/flatstore/flat_id.c,
	  modules/flatstore/flat_pool.c, modules/flatstore/flatstore.c,
	  modules/flatstore/flatstore_mod.c, modules/gflags/gflags.c,
	  modules/group/group.c, modules/group/group_mod.c,
	  modules/group/re_group.c, modules/group_radius/group.c,
	  modules/group_radius/grouprad_mod.c, modules/imc/imc.c,
	  modules/imc/imc_cmd.c, modules/imc/imc_mng.c, modules/jabber/jabber.c,
	  modules/jabber/xjab_base.c, modules/jabber/xjab_jcon.c,
	  modules/jabber/xjab_jconf.c, modules/jabber/xjab_load.c,
	  modules/jabber/xjab_presence.c, modules/jabber/xjab_presence.h,
	  modules/jabber/xjab_util.c, modules/jabber/xjab_wlist.c,
	  modules/jabber/xjab_worker.c, modules/lcr/mi.c,
	  modules/ldap/ldap_connect.c, modules/mangler/contact_ops.c,
	  modules/mangler/mangler.c, modules/mangler/sdp_mangler.c,
	  modules/mangler/utils.c:
	  -more modules migrated to LM_* logging format

2007-09-20 07:39  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2791] modules/usrloc/usrloc.c:
	  - fix small typo in log message
	  patch provided from Matthew M. Boedicker, <matthewm at boedicker dot
	  org>

2007-09-18 15:36  Anca Vamanu, <anca at voice-system dot ro>

	* [r2789] modules/pua_mi/pua_mi.c:
	  - fixed variable initialization and removed compilation warning

2007-09-18 08:26  Anca Vamanu, <anca at voice-system dot ro>

	* [r2788] modules/presence/notify.c, modules/presence/subscribe.c:
	  - properly fixed a duble free on the same pointer(reported by Juha
	  Heinanen <jh@tutpro.com>)

2007-09-18 08:00  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2787] modules/carrierroute/carrier_tree.c,
	  modules/carrierroute/route_func.c, modules/carrierroute/route_rule.c,
	  modules/carrierroute/route_tree.c:
	  - fix a potential mem leak in one error case in add_route_tree
	  - decrease log level for msg rewrite, add and extend some log messages
	  - add some memsets and NULLs after memory allocation, just to be safe

2007-09-17 17:11  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2786] mi/fmt.h:
	  - typo fixed

2007-09-17 17:07  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2785] mem/f_malloc.c, mem/mem.c, mem/mem.h, mem/q_malloc.c,
	  mem/shm_mem.c, mem/vq_malloc.c, mi/attr.c, mi/fmt.c, mi/fmt.h,
	  mi/mi.c, mi/mi_core.c, mi/tree.c, route.c, route_struct.c,
	  script_cb.c, script_var.c, sctp_server.c, serialize.c, socket_info.c,
	  socket_info.h, statistics.c, strcommon.c, tcp_conn.h, tcp_main.c,
	  tcp_read.c, tsend.c, udp_server.c, usr_avp.c:
	  -more log messages ported to LM_* format
	  credits go to Ancuta Onofrei <ancuta@voice-system.ro>

2007-09-17 13:02  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2784] modules/tm/README, modules/tm/doc/tm_user.sgml:
	  - small spelling fix in documentation

2007-09-17 09:07  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2783] transformations.c:
	  - port to new logging system

2007-09-17 08:59  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2782] cfg.lex, cfg.y:
	  - port to new logging system

2007-09-17 08:36  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2781] Makefile.defs:
	  - remove the now unecessary link to math lib after bogdan change

2007-09-17 08:29  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2780] INSTALL:
	  - add a short note about necessary libs for carrierroute module

2007-09-17 06:39  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2777] modules/permissions/rule.c:
	  - fixed rule evaluation (looks like a typo).
	  Credits go to Giovanni Coriasco <giovanni.coriasco@csp.it>

2007-09-16 09:16  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2776] prime_hash.c:
	  - fixed compile error due usage of powl() function which is not POSIX
	  compliant -> replaced it with successive 10 multiplications.
	  Close bug 1795542.

2007-09-15 12:14  Juha Heinanen, <jh at tutpro dot com>

	* [r2775] modules/enum/enum.c, modules/enum/enum_mod.c:
	  * Migrated to LM logging/debugging.
	  * add_uri_param now takes uri scheme into account.

2007-09-14 18:41  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2774] modules/sl/sl_funcs.c:
	  - SL modules trigger the callbakcs when local AKCs are filtered out.

2007-09-14 18:31  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2773] modules/siptrace/siptrace.c, modules/sl/sl_cb.c,
	  modules/sl/sl_cb.h, modules/sl/sl_funcs.c:
	  - added support for multiple types of SL callbacks. This is the first
	  step for adding SL callback for incoming ACKs.
	  - siptrace module updated

2007-09-14 17:59  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2772] modules/dialog/README, modules/dialog/dialog.c,
	  modules/dialog/dlg_req_within.c, modules/dialog/dlg_req_within.h,
	  modules/dialog/doc/dialog_user.sgml:
	  - added new MI command to terminate an ongoing dialog by sending BYE
	  requests in both directions.

2007-09-14 15:27  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2770] io_wait.h, pass_fd.c:
	  - some syntax errors fixed (due LM translation)

2007-09-14 15:13  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2769] blacklists.c, crc.c, daemonize.c, data_lump.c,
	  data_lump_rpl.c, dset.c, errinfo.c, error.c, flags.c, forward.c,
	  forward.h, io_wait.c, io_wait.h, ip_addr.c, ip_addr.h, lock_alloc.h,
	  lock_ops.h, modparam.c, modules/presence/notify.c, msg_translator.c,
	  name_alias.h, parser/parse_rr.c, pass_fd.c, proxy.c, pvar.c, radius.h,
	  re.c, receive.c, resolve.c, route.c, transformations.c:
	  - lots of LM_* translation, thanks to Ancuta Onofrei
	  (ancuta@voice-system.ro)

2007-09-14 15:07  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2768] modules/mysql/dbase.c, parser/parse_rr.c:
	  - some text and comments fixups

2007-09-14 14:35  Anca Vamanu, <anca at voice-system dot ro>

	* [r2767] modules/presence/presence.h, modules/presence/subscribe.c:
	  - fixed a bug that generated running free on the same pointer
	  twice(reported by Juha Heinanen <jh@tutpro.com>)

2007-09-14 10:52  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2765] utils/openserunix/openserunix.c:
	  - fix socket errors in openserunix
	  Patch provided from Patrick Miccio <pmiccio at upcbroadband dot com>

2007-09-14 09:26  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2764] modules/dialog/dialog.c, modules/dialog/dlg_cb.c,
	  modules/dialog/dlg_db_handler.c, modules/dialog/dlg_db_handler.h,
	  modules/dialog/dlg_handlers.c, modules/dialog/dlg_hash.c,
	  modules/dialog/dlg_hash.h, modules/dialog/dlg_load.h,
	  modules/dialog/dlg_timer.c, modules/dialog/doc/dialog_user.sgml:
	  - fixed some bugs in dumping cache into DV during shutdown.
	  - migrated to LM_*

2007-09-14 08:55  Klaus Darilion, <klaus dot mailinglists at pernau dot at>

	* [r2762] modules/enum/enum.c:
	  - fixed bug in ienum lookup

2007-09-14 08:53  Anca Vamanu, <anca at voice-system dot ro>

	* [r2761] modules/pua/hash.c, modules/pua/send_publish.c,
	  modules/pua/send_subscribe.c:
	  - fixed a bug in publish callback function (reported by Norm
	  Brandinger; closes 1794411)

2007-09-13 20:24  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2760] modules/nathelper/README,
	  modules/nathelper/doc/nathelper_user.sgml,
	  modules/nathelper/nathelper.c:
	  - applied patch for spoofing the natping's source-ip address.
	  part of a patch from Marcus Hunger <hunger@sipgate.de>
	  See Patch ID 1671611.
	  Still hold back the "udpping_from_path" option for futher
	  investigation

2007-09-13 18:24  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2759] Makefile.defs, action.c, cfg.lex, cfg.y, globals.h, route.c,
	  route_struct.c, route_struct.h:
	  - introduced "while" statement
	  - max_while_loops parameter to limit the numbers of loops within a
	  while (default 100)
	  - dev version increased

2007-09-13 15:56  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2758] modules/nathelper/nathelper.c, modules/nathelper/sip_pinger.h:
	  - SIP ping requests obey the registered PATH array.
	  based on a patch from Marcus Hunger <hunger@sipgate.de>
	  See Patch ID 1671611.

2007-09-13 15:51  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2757] modules/registrar/lookup.c, modules/registrar/path.c,
	  modules/registrar/path.h, parser/parse_rr.c, parser/parse_rr.h:
	  - moved "get_path_dst_uri" from register module to core rr parser to
	  make it accessible from outher modules also

2007-09-13 15:04  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2756] modules/usrloc/ul_mod.c:
	  - fixed bug in pre-loading the contact in WRITE_BACK mode

2007-09-13 14:47  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2755] modules/mediaproxy/functions.h, modules/nathelper/nathelper.c,
	  modules/usrloc/dlist.c:
	  - get_all_contacts() function extened to return also the path string
	  based on a patch from Marcus Hunger <hunger@sipgate.de>
	  See Patch ID 1671611.
	  Still to integrate to nathelper to be used in SIP-based pings.

2007-09-13 08:04  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2754] modules/nathelper/nathelper.c:
	  - distribute the nat ping in time (~uniform) across the
	  natping_interval (instead of sending all of them at a certain second).
	  Now we have load balance across several processes and distribution in
	  time.

2007-09-12 20:20  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2753] modules/nathelper/README,
	  modules/nathelper/doc/nathelper_user.sgml,
	  modules/nathelper/nathelper.c:
	  - multiple nat ping processes for distributing the nat ping load
	  - new module parameter "natping_processes" to configure how many nat
	  ping timer processes to be created - default only 1.
	  - still to do: find a way to have an offset between the processes to
	  get a uniform distribution of the pings in time (and not only over
	  processes)

2007-09-12 18:26  Juha Heinanen, <jh at tutpro dot com>

	* [r2752] modules/domain/domain.c, modules/domain/domain_mod.c,
	  modules/domain/hash.c, modules/domain/mi.c:
	  * Converted the rest of domain module to LM logging/debugging.

2007-09-12 16:48  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2751] modules/mediaproxy/functions.h, modules/nathelper/nathelper.c,
	  modules/usrloc/dlist.c, modules/usrloc/dlist.h:
	  - added partitioning support for fetching all contacts from usrloc.
	  this will be used by nathelper module for having multiple processes
	  performing NAT ping.
	  (still work on progress)

2007-09-12 16:39  Juha Heinanen, <jh at tutpro dot com>

	* [r2750] modules/domain/domain_mod.c:
	  * Started migration of domain module logging to LM version.

2007-09-12 15:39  Anca Vamanu, <anca at voice-system dot ro>

	* [r2749] db/schema/pr_active_watchers.xml, modules/presence/presence.c,
	  scripts/dbtext/openser/version, scripts/mysql/presence-create.sql,
	  scripts/postgres/presence-create.sql:
	  - increased table version for presence active_watchers table

2007-09-12 15:20  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2748] timer.c:
	  - fixed the timer value (jiffies) - due a bug in multiple timer
	  processes, all timer processes were updating one value .
	  Fix:
	  - first timer process (normally th generic one) takes care to
	  update the jiffies
	  - rest of the timer processes use a local jiffie (ony for them).
	  Reported by Henning Westerholt <henning.westerholt@1und1.de>

2007-09-12 14:54  Anca Vamanu, <anca at voice-system dot ro>

	* [r2747] modules/xcap_client/README,
	  modules/xcap_client/doc/xcap_client_user.sgml:
	  - fixed some errors in documentation

2007-09-12 12:55  Anca Vamanu, <anca at voice-system dot ro>

	* [r2746] Makefile:
	  - added rls in exclude modules list

2007-09-12 12:14  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2745] modules/auth/doc/auth_user.sgml, modules/auth/nonce.c,
	  modules/carrierroute/doc/carrierroute.sgml,
	  modules/carrierroute/doc/carrierroute_devel.sgml,
	  modules/carrierroute/doc/carrierroute_faq.sgml,
	  modules/carrierroute/doc/carrierroute_user.sgml:
	  - add missing svn:keywords to carrierroute documentation
	  - add a note to the secret value parameter and extend a comment in
	  auth

2007-09-12 09:29  Anca Vamanu, <anca at voice-system dot ro>

	* [r2744] modules/rls/notify.c, modules/rls/notify.h,
	  modules/rls/resource_notify.c, modules/rls/resource_notify.h,
	  modules/rls/rls.c, modules/rls/rls.h, modules/rls/subscribe.c,
	  modules/rls/subscribe.h:
	  - replaced some left LOG/DBG with LM_

2007-09-12 09:20  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2743] pvar.c:
	  - include socket_info.h to get rid of compiling warning

2007-09-12 08:59  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2741] db/db_ut.c, db/doc/db-api.txt, sr_module.c:
	  - extends one comments in sr_module.c
	  - unify db-api documentation
	  - fix one error message in db_ut.c

2007-09-12 08:46  Anca Vamanu, <anca at voice-system dot ro>

	* [r2740] modules/presence/README,
	  modules/presence/doc/presence_user.sgml, modules/presence/subscribe.c,
	  modules/presence/subscribe.h:
	  - updated documentation
	  - added an extra parameter to extract_sdialog_info function

2007-09-12 08:44  Anca Vamanu, <anca at voice-system dot ro>

	* [r2739] db/schema/Makefile, db/schema/openser-rls.xml,
	  db/schema/pr_active_watchers.xml, db/schema/rls_presentity.xml,
	  db/schema/rls_watchers.xml, modules/rls, modules/rls/Makefile,
	  modules/rls/README, modules/rls/doc, modules/rls/doc/rls.sgml,
	  modules/rls/doc/rls_devel.sgml, modules/rls/doc/rls_faq.sgml,
	  modules/rls/doc/rls_user.sgml, modules/rls/notify.c,
	  modules/rls/notify.h, modules/rls/resource_notify.c,
	  modules/rls/resource_notify.h, modules/rls/rls.c, modules/rls/rls.h,
	  modules/rls/subscribe.c, modules/rls/subscribe.h,
	  scripts/dbtext/openser/rls_presentity,
	  scripts/dbtext/openser/rls_watchers, scripts/dbtext/openser/version,
	  scripts/mysql/presence-create.sql, scripts/mysql/rls-create.sql,
	  scripts/postgres/presence-create.sql, scripts/postgres/rls-create.sql:
	  - new module: Resource List Server (implements the specifications in
	  RFC 4662 and RFC 4826)
	  - requires 2 new databse tables - rls_presentity and rls_watchers
	  - works independent from presence server
	  - testing required

2007-09-11 21:06  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2738] Makefile.defs, action.c, cfg.y, pvar.c, pvar.h:
	  - writable PV are set via dedicated function in PV export structure
	  - $fs (force send socket) and $br (brach) become writable

2007-09-11 15:53  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2737] modules/tm/t_fwd.c:
	  - fixed msg flags propagation - upadate the flags stored in TM with
	  the changes from branch route.
	  Reported by Juha Heinanen <jh@tutpro.com>

2007-09-11 13:37  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2736] main.c, pt.c, tcp_main.c:
	  - fixed TCP initialization (got broken during the last changes in the
	  process management functionns)
	  - now aditional processes from timer / MI / module are automatically
	  initialized for TCP transport layer

2007-09-11 11:37  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2735] timer.c:
	  - removed some temporary debug messages

2007-09-11 11:27  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2734] md5utils.c:
	  - cleanup

2007-09-10 15:25  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2733] db/db.c, db/db_id.c, db/db_pool.c, db/db_res.c, db/db_row.c,
	  modules/mysql/db_con.c, modules/mysql/dbase.c, modules/mysql/my_con.c,
	  modules/mysql/res.c, modules/mysql/row.c, modules/mysql/val.c:
	  - port mysql driver and db API to new logging system

2007-09-10 13:36  Anca Vamanu, <anca at voice-system dot ro>

	* [r2732] modules/presence/presence.c:
	  - fixed an warning message due to already freed db result (reported by
	  Adrian Georgescu)

2007-09-10 12:56  Anca Vamanu, <anca at voice-system dot ro>

	* [r2731] modules/presence/README, modules/presence/bind_presence.c,
	  modules/presence/bind_presence.h,
	  modules/presence/doc/presence_devel.sgml,
	  modules/presence/event_list.h, modules/presence/hash.c,
	  modules/presence/hash.h, modules/presence/notify.c,
	  modules/presence/notify.h, modules/presence/subscribe.c,
	  modules/presence/subscribe.h:
	  - fixed getting request uri from first line
	  - generalized Subscribe message handling operations
	  - exported more functions to handle subscribe info

2007-09-10 11:53  Anca Vamanu, <anca at voice-system dot ro>

	* [r2730] modules/presence/presence.c:
	  - fixed a bug in update_watchers_status function (reported by Adrian
	  Georgescu)

2007-09-10 08:18  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2729] modules/xlog/xlog.c, pvar.c:
	  - proper parsing PVs in a row, used in printf functions
	  - color PV are exported by xlog module, the new format is $C(xy) (old
	  format was $Cxy)

2007-09-10 07:52  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2728] packaging/debian-sarge/control, packaging/debian/control,
	  packaging/netbsd/Makefile:
	  - add missing libconfuse-dev to build dependency
	  - add USE_TOOLS+= gmake to NetBSD packaging, as suggested by
	  'StyleWarz' on IRC

2007-09-10 07:34  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2727] pvar.c:
	  - commented some debug messages
	  - parsing hdr name requires to have semicolon (reported by Norman
	  Brandinger)

2007-09-10 07:20  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2726] modules/dialog/dlg_handlers.c:
	  - forgot to rename it_get_dlg_status in pv_get_dlg_status

2007-09-09 20:55  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2725] Makefile.defs, action.c, cfg.y, items.c, items.h,
	  items_extra.c, main.c, modules/acc/acc_extra.c,
	  modules/acc/acc_extra.h, modules/auth/auth_mod.c,
	  modules/auth/challenge.c, modules/auth/rpid.c,
	  modules/auth_db/aaa_avps.h, modules/auth_db/authdb_mod.c,
	  modules/auth_db/authorize.c, modules/auth_diameter/auth_diameter.c,
	  modules/auth_diameter/authorize.c, modules/auth_diameter/authorize.h,
	  modules/auth_radius/authorize.c, modules/auth_radius/authrad_mod.c,
	  modules/avpops/avpops.c, modules/avpops/avpops_db.c,
	  modules/avpops/avpops_db.h, modules/avpops/avpops_impl.c,
	  modules/avpops/avpops_impl.h, modules/avpops/avpops_parse.c,
	  modules/avpops/avpops_parse.h, modules/benchmark/benchmark.c,
	  modules/cfgutils/cfgutils.c, modules/cpl-c/cpl.c,
	  modules/dialog/dialog.c, modules/dialog/dlg_handlers.c,
	  modules/dialog/dlg_handlers.h, modules/dispatcher/dispatch.h,
	  modules/dispatcher/dispatcher.c, modules/domain/domain.c,
	  modules/domain/domain_mod.c, modules/exec/exec.c, modules/exec/exec.h,
	  modules/exec/exec_mod.c, modules/group/group.c, modules/group/group.h,
	  modules/group/group_mod.c, modules/h350/h350_exp_fn.c,
	  modules/h350/h350_exp_fn.h, modules/h350/h350_mod.c,
	  modules/lcr/lcr_mod.c, modules/ldap/ldap_exp_fn.c,
	  modules/ldap/ldap_exp_fn.h, modules/ldap/ldap_mod.c,
	  modules/msilo/msilo.c, modules/nathelper/nathelper.c,
	  modules/perl/openserxs.xs, modules/perl/perl.c,
	  modules/permissions/address.c, modules/permissions/hash.c,
	  modules/permissions/permissions.c, modules/permissions/permissions.h,
	  modules/presence/presence.c, modules/presence/publish.c,
	  modules/pua_xmpp/pua_xmpp.c, modules/pua_xmpp/request_winfo.c,
	  modules/registrar/reg_mod.c, modules/rr/rr_mod.c,
	  modules/siptrace/siptrace.c, modules/sl/sl.c,
	  modules/speeddial/sdlookup.c, modules/speeddial/speeddial.c,
	  modules/sst/sst.c, modules/sst/sst_handlers.c,
	  modules/sst/sst_handlers.h, modules/textops/textops.c,
	  modules/tlsops/tls_select.c, modules/tlsops/tls_select.h,
	  modules/tlsops/tlsops.c, modules/tm/t_fifo.c, modules/tm/t_funcs.c,
	  modules/tm/tm.c, modules/uac/auth.c, modules/uac/uac.c,
	  modules/uri/checks.c, modules/uri/uri_mod.c, modules/xlog/xl_lib.c,
	  modules/xlog/xl_lib.h, modules/xlog/xlog.c, pvar.c, pvar.h, re.c,
	  re.h, route.c, route.h, route_struct.h, sr_module.c, sr_module.h,
	  transformations.c, transformations.h:
	  - internal redesign of pseudo-variable (PV) model
	  - more compact and clear format for name and index
	  - naming format of structures and functions are prefixed with pv_
	  instead of xl_
	  - types of PV are prefixed with PVT_ instead of XL_
	  - PV spec formats:
	  - $class_name
	  - $class_name(inner_name)
	  - $(class_name[index])
	  - $(class_name(inner_name)[index])
	  - $(class_name{transformation})
	  - $(class_name(inner_name){transformation})
	  - $(class_name[index]{transformation})
	  - $(class_name(inner_name)[index]{transformation})
	  - NOTE: the index for avp and hdr has to be specified after the
	  pharantesis enclosing the name ( $avp(name[index]) =>
	  $(avp(name)[index]) )
	  - there are three classes that accept inner name: avp, hdr and var
	  - there are two classes that accept index: avp and hdr
	  - NOTE: color printing PV not yet migrated -- they will be introduced
	  as a new PV class exported by xlog module
	  - modules migrated to new PV model
	  - NOTE: avpsops need special attention -- it was prety much affected
	  - PV exporting by modules is done via a new simpler structure that
	  allows to add PV with inner name and index
	  - NEW FEATURE: inner_name and index for avp and hdr can be PV (
	  example: $(avp($var(avp_name))[$var(index)]) - name of avp is taken
	  from $var(avp_name) and the index from $var(index))
	  - dev version increased

2007-09-08 19:04  Juha Heinanen, <jh at tutpro dot com>

	* [r2724] modules/enum/enum.c:
	  * Made sure that is_from_user_enum() parses From header.

2007-09-07 16:23  Anca Vamanu, <anca at voice-system dot ro>

	* [r2723] db/schema/pr_xcap_xml.xml, modules/presence_xml/README,
	  modules/presence_xml/doc/presence_xml_user.sgml,
	  modules/presence_xml/presence_xml.c,
	  modules/presence_xml/presence_xml.h, modules/presence_xml/xcap_auth.c,
	  modules/xcap_client/README,
	  modules/xcap_client/doc/xcap_client_devel.sgml,
	  modules/xcap_client/doc/xcap_client_user.sgml,
	  modules/xcap_client/xcap_client.c, modules/xcap_client/xcap_client.h,
	  modules/xcap_client/xcap_functions.c,
	  modules/xcap_client/xcap_functions.h, scripts/dbtext/openser/version,
	  scripts/dbtext/openser/xcap_xml, scripts/mysql/presence-create.sql,
	  scripts/postgres/presence-create.sql:
	  - improved xcap_client module:
	  - added conditional queries
	  - possibility to configure a periodical query update method (works
	  with any xcap server)
	  - modified xcap table , added new columns and changed default name
	  (version increased)
	  - improved presence_xml - xcap_client interface
	  - updated documentation

2007-09-07 13:50  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2722] packaging/debian/rules:
	  - set svn:executable for debian/rules

2007-09-07 13:21  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2721] scripts/openserctlrc, scripts/openserdbctl:
	  - add db write password variable to openserctlrc file
	  - add more error reporting to openserdbctrl, give some hints when the
	  necessary files could not be sourced

2007-09-07 12:36  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2720] modules/carrierroute/README,
	  modules/carrierroute/doc/carrierroute_user.sgml,
	  modules/carrierroute/route_fifo.c, modules/carrierroute/route_rule.c:
	  - fix non working cr_add_host fifo command
	  - fix cr_add_host fifo command for hashless hosts
	  - proper free the memory if rule_fixup_recursor is called again
	  - extend documentation, fix logging output

2007-09-06 15:37  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2719] modules/carrierroute/README,
	  modules/carrierroute/carrier_tree.c,
	  modules/carrierroute/carrier_tree.h,
	  modules/carrierroute/doc/carrierroute_user.sgml,
	  modules/carrierroute/load_data.c, modules/carrierroute/route.h,
	  modules/carrierroute/route_config.c, modules/carrierroute/route_db.c,
	  modules/carrierroute/route_fifo.c, modules/carrierroute/route_fifo.h,
	  modules/carrierroute/route_func.c, modules/carrierroute/route_rule.c,
	  modules/carrierroute/route_rule.h, modules/carrierroute/route_tree.c,
	  modules/carrierroute/route_tree.h:
	  - fixed Problem with overloaded backup routes
	  - fixed bug with ignored status in crc hash mode
	  - added -t Parameter for backup route in deactivate_host
	  - port to new logging system, logging enchancements
	  - fix not working fifo help with "-?" parameter
	  - extend documentation for new functionality, some cleanups

2007-09-06 10:22  Anca Vamanu, <anca at voice-system dot ro>

	* [r2718] modules/presence/README,
	  modules/presence/doc/presence_user.sgml:
	  - added documentation for MI refreshWatchers command

2007-09-05 15:37  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2717] modules/carrierroute/README,
	  modules/carrierroute/carrier_tree.c,
	  modules/carrierroute/doc/carrierroute_user.sgml,
	  modules/carrierroute/route_db.c:
	  - fix crash if carriers from route_tree table are omitted in
	  carrierroute table
	  create an empty carrier tree in this situation
	  - update documentation

2007-09-05 15:33  Anca Vamanu, <anca at voice-system dot ro>

	* [r2716] modules/presence/bind_presence.c,
	  modules/presence/bind_presence.h, modules/presence/hash.c,
	  modules/presence/hash.h, modules/presence/notify.c,
	  modules/presence/presence.c, modules/presence/subscribe.c:
	  - exported subs table handling functions

2007-09-05 15:31  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2715] action.c, items.c:
	  - propagate the value of return code
	  - string representation of an integer $var(x) is now printed with sign

2007-09-05 14:22  Anca Vamanu, <anca at voice-system dot ro>

	* [r2714] modules/presence/bind_presence.c, modules/presence/presence.c,
	  modules/presence/presence.h:
	  - added an extra parameter to presence MI command refeshWatchers to
	  allow refreshing when the published state changes in addition to
	  refresh when a change in watchers authorization occurs

2007-09-05 11:57  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2713] modules/carrierroute/README,
	  modules/carrierroute/doc/carrierroute_user.sgml:
	  - further documentation fixes for carrierroute

2007-09-05 09:41  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2712] modules/carrierroute/README,
	  modules/carrierroute/doc/carrierroute_user.sgml:
	  - fix error in carrierroute documentation, wrong placement of
	  max_locdb param

2007-09-04 14:40  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2711] db/schema/openser-uri_db.xml, modules/auth/README,
	  modules/auth/doc/auth_user.sgml, modules/auth_db/README,
	  modules/auth_db/doc/auth_db_user.sgml, modules/auth_diameter/README,
	  modules/auth_diameter/doc/auth_diameter_user.sgml,
	  modules/auth_radius/README,
	  modules/auth_radius/doc/auth_radius_user.sgml:
	  - improve diplayed doc name of uri-db
	  - spelling fix in auth* modules

2007-09-04 10:56  Anca Vamanu, <anca at voice-system dot ro>

	* [r2710] parser/parse_rr.c:
	  - fixed a bug in print_rr_body function

2007-09-04 08:30  Anca Vamanu, <anca at voice-system dot ro>

	* [r2709] db/schema/pr_xcap_xml.xml,
	  modules/presence_xml/presence_xml.c, scripts/dbtext/openser/version,
	  scripts/dbtext/openser/xcap_xml, scripts/mysql/presence-create.sql,
	  scripts/postgres/presence-create.sql:
	  - added a new column in presence xcap_table - etag, needed by an
	  integrated xcap server (version increased)

2007-09-04 07:25  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2707] modules/tm/h_table.c:
	  - merged two if statements having same condition (following the fix
	  for #1768774)

2007-09-04 07:19  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2706] Makefile.defs, items.c:
	  - check if host part of uri exists, if not, return null (part of fix
	  for tel uri reported by axlh, #1762016)

2007-09-03 15:51  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2705] modules/nathelper/nathelper.c:
	  - nathelper module requests from timer core a separate process for
	  doing ping
	  To be extended to support multiple timer procs doing NAT ping.

2007-09-03 15:49  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2704] timer.c, timer.h:
	  -improved the multi-process support for timer : allow the additional
	  timer processes to run the init_child(TIMER_PROC) to allow
	  initialization of depending modules.

2007-09-03 15:48  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2703] pt.c:
	  - smoother startup (from logging poitn of view)
	  - remove some time gap where pid was not displayed
	  - fix bogus pid display between 2 sequential forks

2007-09-03 14:08  Anca Vamanu, <anca at voice-system dot ro>

	* [r2702] modules/xcap_client/xcap_callbacks.c,
	  modules/xcap_client/xcap_client.c,
	  modules/xcap_client/xcap_functions.c:
	  - replaced LOG/DBG witl LM_

2007-09-03 13:47  Anca Vamanu, <anca at voice-system dot ro>

	* [r2701] modules/presence/hash.h, modules/pua/README,
	  modules/pua/add_events.c, modules/pua/doc/pua_devel.sgml,
	  modules/pua/event_list.c, modules/pua/hash.c, modules/pua/hash.h,
	  modules/pua/pidf.c, modules/pua/pua.c, modules/pua/pua_bind.c,
	  modules/pua/pua_callback.c, modules/pua/pua_callback.h,
	  modules/pua/send_publish.c, modules/pua/send_subscribe.c,
	  modules/pua_bla/notify.c, modules/pua_bla/pua_bla.c,
	  modules/pua_bla/registrar_cb.c, modules/pua_mi/mi_func.c,
	  modules/pua_mi/pua_mi.c, modules/pua_usrloc/pua_usrloc.c,
	  modules/pua_usrloc/ul_publish.c, modules/pua_xmpp/pua_xmpp.c,
	  modules/pua_xmpp/request_winfo.c, modules/pua_xmpp/simple2xmpp.c,
	  modules/pua_xmpp/xmpp2simple.c:
	  - replaced LOG/DBG with LM_

2007-09-03 13:41  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2700] re.c:
	  - return(-1) replaced with goto error - part of the previous fix

2007-09-03 13:35  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2699] re.c:
	  - validity test moved to the correct location

2007-09-03 11:07  Anca Vamanu, <anca at voice-system dot ro>

	* [r2698] modules/presence_xml/add_events.c,
	  modules/presence_xml/notify_body.c,
	  modules/presence_xml/presence_xml.c, modules/presence_xml/xcap_auth.c:
	  - replaced LOG/DBG with LM_

2007-09-03 09:45  Anca Vamanu, <anca at voice-system dot ro>

	* [r2697] modules/presence/bind_presence.c,
	  modules/presence/event_list.c, modules/presence/hash.c,
	  modules/presence/hash.h, modules/presence/notify.c,
	  modules/presence/presence.c, modules/presence/presentity.c,
	  modules/presence/publish.c, modules/presence/subscribe.c,
	  modules/presence/utils_func.c, modules/presence/utils_func.h:
	  - replaced LOG/DBG with LM_

2007-09-03 07:34  Juha Heinanen, <jh at tutpro dot com>

	* [r2696] modules/lcr/lcr_mod.c:
	  * Fixed load_gws/next_gws so that they don't loose any branch
	  information.
	  * Migrated to new logging macros.

2007-09-03 07:25  jerocu

	* [r2694] modules/seas/README:
	  Fix "addresses" description

2007-08-31 16:27  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2692] action.c:
	  - print cfg line in error messges of assign operation

2007-08-31 15:08  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2691] modules/mi_xmlrpc/xr_server.c, modules/mi_xmlrpc/xr_server.h:
	  - fixed some "old-style function definition" compile warnings

2007-08-31 14:56  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2689] modules/mi_xmlrpc/Makefile:
	  - fixed linking on non-debian platforms

2007-08-31 13:16  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2688] db/schema/acc.xml, db/schema/address.xml,
	  db/schema/aliases.xml, db/schema/cpl.xml, db/schema/dbaliases.xml,
	  db/schema/dialog.xml, db/schema/dispatcher.xml, db/schema/domain.xml,
	  db/schema/domainpolicy.xml, db/schema/entities.xml, db/schema/grp.xml,
	  db/schema/gw.xml, db/schema/gw_grp.xml, db/schema/imc_members.xml,
	  db/schema/imc_rooms.xml, db/schema/lcr.xml, db/schema/location.xml,
	  db/schema/missed_calls.xml, db/schema/pdt.xml,
	  db/schema/pr_active_watchers.xml, db/schema/pr_presentity.xml,
	  db/schema/pr_pua.xml, db/schema/pr_watchers.xml,
	  db/schema/pr_xcap_xml.xml, db/schema/re_grp.xml,
	  db/schema/route_tree.xml, db/schema/silo.xml, db/schema/sip_trace.xml,
	  db/schema/speed_dial.xml, db/schema/subscriber.xml,
	  db/schema/trusted.xml, db/schema/uri.xml,
	  db/schema/usr_preferences.xml:
	  - unifiy URLs in database docs, use an entity to make this
	  configurable

2007-08-31 12:00  Anca Vamanu, <anca at voice-system dot ro>

	* [r2687] modules/presence/event_list.c, modules/presence/publish.c:
	  - fixed not checking for null function (reported by Juha Heinanen)

2007-08-30 19:20  Christian Schlatter, <cs at unc dot edu>

	* [r2686] modules/h350/h350_exp_fn.c:
	  changed h350_exp_fn_init function declaration to make compiler happy

2007-08-30 19:19  Christian Schlatter, <cs at unc dot edu>

	* [r2685] modules/ldap/ldap_api_fn.c:
	  changed two lines to get rid of compiler warnings

2007-08-30 14:39  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2684] prime_hash.h:
	  - add some comments to prime_hash.h

2007-08-30 13:17  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2683] db/schema/openser-dispatcher.xml,
	  doc/dbschema/xsl/dbschema2docbook.xsl:
	  - documentation fixes, correct name of dispatcher module
	  index links are now properly followed, instead of the output the link
	  name

2007-08-30 12:39  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2682] Makefile.defs, cfg.y, modules/cpl-c/cpl.c,
	  modules/mi_datagram/mi_datagram.c, modules/mi_fifo/mi_fifo.c,
	  modules/mi_xmlrpc/mi_xmlrpc.c, modules/sms/sms.c,
	  modules/snmpstats/snmpstats.h, modules/xmpp/xmpp.c:
	  - remove redundant declaration in cfg.y
	  - add -Wmissing-field-initializers warning to Makefile.defs
	  - add additional warnings from previous commit also to x86_64 build
	  - fix missing initializer in some modules, mostly in proc_export_t
	  exports

2007-08-30 12:00  Anca Vamanu, <anca at voice-system dot ro>

	* [r2681] modules/presence/notify.c, modules/presence/publish.c,
	  modules/presence_xml/notify_body.c, modules/presence_xml/xcap_auth.c:
	  - fixed a bug of improper free in presence
	  - removed some redundant declarations in presence_xml files

2007-08-30 11:52  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2680] modules/carrierroute/README,
	  modules/carrierroute/doc/carrierroute_user.sgml:
	  - documentation update

2007-08-30 11:18  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2679] modules/siptrace/siptrace.c:
	  - fix data type for time value, this is a time_t and not an int
	  - Bug 1783705

2007-08-30 10:45  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2678] packaging/debian-sarge/control, packaging/debian-sarge/rules,
	  packaging/debian/control, packaging/debian/rules:
	  - add carrierroute module to debian build process as separate package

2007-08-30 09:14  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2677] modules/carrierroute/README,
	  modules/carrierroute/doc/carrierroute_user.sgml,
	  modules/carrierroute/route_config.c,
	  modules/carrierroute/route_fifo.c:
	  - added keyword "NULL" to specify an empty prefix for fifo cmds, like
	  in config
	  - extend documentation for config and mi commands
	  - add one more error logging message

2007-08-30 08:47  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2676] prime_hash.c:
	  - fix from header parsing in prime_hash, this could lead sometimes to
	  problems
	  - add two new error messages and port all to the new logging system

2007-08-30 08:33  Anca Vamanu, <anca at voice-system dot ro>

	* [r2675] modules/presence_xml/notify_body.c:
	  - corrected a wrong error message

2007-08-29 16:36  Anca Vamanu, <anca at voice-system dot ro>

	* [r2674] modules/presence/presence.c:
	  - deleted subscription record if status switches to terminated

2007-08-29 16:17  Jan Ondrej, <ondrejj at salstar dot sk>

	* [r2673] packaging/rpm/openser.spec.fedora:
	  openser.spec.fedora removed (confirmed by Peter Lemenkov)

2007-08-29 16:03  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2672] sr_module.c:
	  - LOG -> LM migration

2007-08-29 16:01  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2671] db/db_ut.c:
	  - add error handling for strptime and strftime in str2time and
	  time2str
	  - return an error if the time conversation fails
	  - port to new logging system

2007-08-29 15:47  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2670] daemonize.c, main.c:
	  - some fixs about logging at startup:
	  - all logs related to command line parameter go to stderr
	  - after the command line paeamter investigate, switch by default to
	  syslog logging if not otherwise configured.
	  - this is backward compatible
	  - more LOG -> LM

2007-08-29 15:41  Anca Vamanu, <anca at voice-system dot ro>

	* [r2669] modules/pua/add_events.c, modules/pua/add_events.h,
	  modules/pua/event_list.c, modules/pua/event_list.h,
	  modules/pua/hash.c, modules/pua/hash.h, modules/pua/pua.c,
	  modules/pua/pua_callback.c, modules/pua/pua_callback.h,
	  modules/pua_mi/pua_mi.c, modules/xcap_client/xcap_callbacks.c,
	  modules/xcap_client/xcap_callbacks.h,
	  modules/xcap_client/xcap_client.h,
	  modules/xcap_client/xcap_functions.c,
	  modules/xcap_client/xcap_functions.h:
	  - updated to avoid compile warnings due to the latest changes in
	  Makefile

2007-08-29 15:38  Anca Vamanu, <anca at voice-system dot ro>

	* [r2668] modules/presence/event_list.c, modules/presence/event_list.h,
	  modules/presence/hash.c, modules/presence/hash.h,
	  modules/presence/presence.c, modules/presence/presentity.c,
	  modules/presence/presentity.h, modules/presence/subscribe.c,
	  modules/presence/subscribe.h, modules/presence_xml/add_events.c,
	  modules/presence_xml/add_events.h,
	  modules/presence_xml/presence_xml.c, modules/presence_xml/xcap_auth.c:
	  - fixed refreshWatchers MI command exported from presence module

2007-08-29 15:03  Jan Ondrej, <ondrejj at salstar dot sk>

	* [r2667] packaging/fedora/openser.spec:
	  Spec file update from Peter Lemenkov.

2007-08-29 14:27  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2666] main.c, pt.c, timer.c, timer.h:
	  - support for multiple timer process added: a module can request a
	  separate
	  timer process for its timer functions.
	  - additional timer processes are register by core as standard timer
	  processes
	  - more LOG/DBG messages migrated to LM_*

2007-08-29 13:21  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2665] Makefile.defs, modules/carrierroute/carrierroute.c,
	  modules/carrierroute/route_func.c, modules/carrierroute/route_func.h,
	  modules/hash, prime_hash.c, prime_hash.h:
	  - delete hash module and integrate the needed parts into core
	  - add math library to Makefile.defs, needed for linking of the code
	  - remove now unneeded functions pointer init in carrierroute module

2007-08-29 12:42  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2664] modules/carrierroute/carrier_tree.c,
	  modules/carrierroute/carrier_tree.h,
	  modules/carrierroute/carrierroute.c,
	  modules/carrierroute/route_config.c, modules/carrierroute/route_db.c,
	  modules/carrierroute/route_fifo.c, modules/carrierroute/route_func.c,
	  modules/carrierroute/route_tree.c, modules/carrierroute/route_tree.h:
	  - fix some warnings about old function syntax
	  - move some headers to more appropriate places, delete unneeded
	  - rename functions pointer to prepare for hash module integration into
	  core

2007-08-29 11:25  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2663] modules/lcr/lcr_mod.c:
	  - remove unnecessary include of mysql/dbase.h from lcr, db/db.h is the
	  right one

2007-08-29 11:23  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2662] modules/dispatcher/dispatcher.c, modules/lcr/lcr_mod.c,
	  modules/mediaproxy/mediaproxy.c:
	  - remove another str2int fixup implementation in lcr, mediaproxy and
	  dispatcher
	  - use the one from mod_fix.h

2007-08-29 09:37  Anca Vamanu, <anca at voice-system dot ro>

	* [r2661] modules/pua/hash.c, modules/pua/send_publish.c:
	  - fixed a bug when calling pua_publish callback functions (reported by
	  Juha Heinanen )

2007-08-29 08:19  Jan Ondrej, <ondrejj at salstar dot sk>

	* [r2660] packaging/fedora, packaging/fedora/openser.init,
	  packaging/fedora/openser.spec:
	  Current OpenSER fedora init script and spec file.
	  May be packaging/rpm/openser.spec.fedora can be removed.

2007-08-28 16:28  Anca Vamanu, <anca at voice-system dot ro>

	* [r2659] db/schema/pr_watchers.xml, scripts/dbtext/openser/watchers,
	  scripts/mysql/presence-create.sql,
	  scripts/postgres/presence-create.sql:
	  - updated presence watchers table sql definition

2007-08-28 15:37  Anca Vamanu, <anca at voice-system dot ro>

	* [r2658] modules/presence/subscribe.c:
	  - fixed a not updated query to new column type

2007-08-28 15:03  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2657] Makefile.defs, blacklists.c, cfg.lex, daemonize.c, dprint.c,
	  dprint.h, dset.c, errinfo.c, flags.c, io_wait.c, items_extra.c,
	  main.c, md5.c, mem/mem.c, mem/shm_mem.c, mem/shm_mem.h, mi/mi.c,
	  mi/mi_core.c, modules/acc/acc.c, modules/acc/acc_extra.c,
	  modules/avpops/avpops_impl.c, modules/benchmark/benchmark.c,
	  modules/carrierroute/carrierroute.c, modules/carrierroute/load_data.c,
	  modules/carrierroute/load_data.h, modules/carrierroute/route_db.h,
	  modules/cfgutils/cfgutils.c, modules/cpl-c/cpl.c,
	  modules/dbtext/dbt_lib.c, modules/dialog/dialog.c,
	  modules/dialog/dlg_cb.c, modules/dialog/dlg_db_handler.c,
	  modules/dialog/dlg_handlers.c, modules/dialog/dlg_hash.c,
	  modules/dialog/dlg_timer.c, modules/dispatcher/dispatch.c,
	  modules/dispatcher/dispatcher.c, modules/domain/domain.c,
	  modules/domain/domain_mod.c, modules/domainpolicy/domainpolicy.c,
	  modules/exec/exec_mod.c, modules/exec/kill.c, modules/group/group.c,
	  modules/imc/imc_mng.c, modules/lcr/lcr_mod.c,
	  modules/mangler/mangler.c, modules/mangler/sdp_mangler.c,
	  modules/mi_datagram/datagram_fnc.c, modules/mi_datagram/mi_datagram.c,
	  modules/msilo/ms_msg_list.c, modules/nathelper/nathelper.c,
	  modules/nathelper/sip_pinger.h, modules/pdt/pdt.c,
	  modules/permissions/address.c, modules/permissions/permissions.c,
	  modules/permissions/trusted.c, modules/pike/ip_tree.c,
	  modules/rr/rr_cb.c, modules/rr/rr_mod.c, modules/seas/cluster.c,
	  modules/seas/event_dispatcher.c, modules/seas/ha.c,
	  modules/seas/seas.c, modules/seas/seas_action.c,
	  modules/seas/statistics.c, modules/siptrace/siptrace.c,
	  modules/sl/sl.c, modules/sl/sl_cb.c, modules/sl/sl_funcs.c,
	  modules/sms/sms.c, modules/sms/sms_report.c,
	  modules/snmpstats/snmpstats.c, modules/snmpstats/snmpstats.h,
	  modules/statistics/statistics.c, modules/statistics/stats_funcs.c,
	  modules/tm/h_table.c, modules/tm/lock.c, modules/tm/t_dlg.c,
	  modules/tm/t_fifo.c, modules/tm/t_funcs.c, modules/tm/t_fwd.c,
	  modules/tm/t_hooks.c, modules/tm/t_lookup.c, modules/tm/t_reply.c,
	  modules/tm/timer.c, modules/uac/auth.c, modules/uac/from.c,
	  modules/uac/uac.c, modules/uac_redirect/rd_filter.c,
	  modules/uri_db/checks.c, modules/usrloc/dlist.c,
	  modules/usrloc/hslot.c, modules/usrloc/ul_callback.c,
	  modules/usrloc/ul_mod.c, pt.c, pt.h, resolve.c, route.c, script_cb.c,
	  script_var.c, serialize.c, socket_info.c, socket_info.h, sr_module.c,
	  statistics.c, tcp_main.c, tcp_read.c, timer.c, udp_server.c,
	  usr_avp.c, ut.h:
	  - add -Wold-style-definition to Makefile.defs, to warn about ancient C
	  syntax
	  - fix old definitions in core and default modules (mostly add missing
	  void)
	  - change really old syntax in md5.c
	  - increase devel version

2007-08-28 14:32  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2656] scripts/mysql/presence-create.sql:
	  - update presence sql from schema source

2007-08-28 13:22  Anca Vamanu, <anca at voice-system dot ro>

	* [r2655] modules/presence/event_list.c, modules/presence/hash.c,
	  modules/presence/notify.c, modules/presence/subscribe.c:
	  - fixed some bugs in presence module

2007-08-28 10:54  Anca Vamanu, <anca at voice-system dot ro>

	* [r2654] modules/imc/imc_cmd.c, modules/pua/pua_callback.c,
	  modules/pua/send_publish.c:
	  - updated pua and imc modules to the fixup in tm for callback
	  parameter handling done

2007-08-28 09:46  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2651] modules/tm/uac.c:
	  -fixed callback parameter handling in all the req_* or uac_* TM API
	  functions; the parameter must not be freed as we have no information
	  about its type; the calling function should do it.
	  Reported by Daniel.

2007-08-28 09:35  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2648] modules/pike/pike_funcs.c:
	  - fixed missing unlock on an error branch (mem failure)
	  Credits go to Daniel.

2007-08-28 09:01  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2647] modules/usrloc/ul_mod.c:
	  - some cleanup in the init/destroy functions for the DB connections -
	  open only the strictly necessary connections

2007-08-28 08:12  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2646] main.c:
	  - fixed initialization of MAIN proc (got broken during the adding of
	  new forking function)

2007-08-27 14:58  Juha Heinanen, <jh at tutpro dot com>

	* [r2644] scripts/dbtext/openser/gw, scripts/mysql/lcr-create.sql,
	  scripts/postgres/lcr-create.sql:
	  * Forgot to remake dbschama after changes in gw table.

2007-08-27 14:44  Anca Vamanu, <anca at voice-system dot ro>

	* [r2643] db/schema/pr_active_watchers.xml, modules/presence/hash.c,
	  modules/presence/notify.c, modules/presence/notify.h,
	  modules/presence/presence.c, modules/presence/presentity.c,
	  modules/presence/subscribe.c, modules/presence_xml/xcap_auth.c,
	  scripts/dbtext/openser/active_watchers,
	  scripts/dbtext/openser/version, scripts/mysql/presence-create.sql,
	  scripts/postgres/presence-create.sql:
	  - fixed some bugs in presence modules (reported by Juha Heinanen)
	  - added a new column to active_watchers database table (version
	  increased )

2007-08-27 14:30  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2642] mod_fix.h:
	  - fix check for parameter number != 1 in fixup_str2regexp for textops
	  module, as reported from Ben Smithurst
	  - port mod_fix.h to new logging system

2007-08-27 14:05  Juha Heinanen, <jh at tutpro dot com>

	* [r2641] modules/lcr/README, modules/lcr/doc/lcr_user.sgml,
	  modules/lcr/lcr_mod.c:
	  * dm_flag is set or reset by from_gw() function if request came from a
	  gateway and that gateway supports directed media.

2007-08-27 13:30  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2640] packaging/debian-sarge/rules, packaging/debian/rules:
	  - add dbschema generation to debian package build process

2007-08-27 13:29  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2639] doc/dbschema/xsl/sql.xsl, scripts/mysql/acc-create.sql,
	  scripts/mysql/alias_db-create.sql, scripts/mysql/auth_db-create.sql,
	  scripts/mysql/avpops-create.sql,
	  scripts/mysql/carrierroute-create.sql, scripts/mysql/cpl-create.sql,
	  scripts/mysql/dialog-create.sql, scripts/mysql/dispatcher-create.sql,
	  scripts/mysql/domain-create.sql,
	  scripts/mysql/domainpolicy-create.sql,
	  scripts/mysql/extensions-create.sql, scripts/mysql/group-create.sql,
	  scripts/mysql/imc-create.sql, scripts/mysql/lcr-create.sql,
	  scripts/mysql/msilo-create.sql, scripts/mysql/pdt-create.sql,
	  scripts/mysql/permissions-create.sql,
	  scripts/mysql/presence-create.sql, scripts/mysql/registrar-create.sql,
	  scripts/mysql/serweb-create.sql, scripts/mysql/siptrace-create.sql,
	  scripts/mysql/speeddial-create.sql, scripts/mysql/standard-create.sql,
	  scripts/mysql/uri_db-create.sql, scripts/mysql/usrloc-create.sql,
	  scripts/openserdbctl.mysql, scripts/openserdbctl.pgsql,
	  scripts/postgres/acc-create.sql, scripts/postgres/alias_db-create.sql,
	  scripts/postgres/auth_db-create.sql,
	  scripts/postgres/avpops-create.sql,
	  scripts/postgres/carrierroute-create.sql,
	  scripts/postgres/cpl-create.sql, scripts/postgres/dialog-create.sql,
	  scripts/postgres/dispatcher-create.sql,
	  scripts/postgres/domain-create.sql,
	  scripts/postgres/domainpolicy-create.sql,
	  scripts/postgres/extensions-create.sql,
	  scripts/postgres/group-create.sql, scripts/postgres/imc-create.sql,
	  scripts/postgres/lcr-create.sql, scripts/postgres/msilo-create.sql,
	  scripts/postgres/pdt-create.sql,
	  scripts/postgres/permissions-create.sql,
	  scripts/postgres/presence-create.sql,
	  scripts/postgres/registrar-create.sql,
	  scripts/postgres/serweb-create.sql,
	  scripts/postgres/siptrace-create.sql,
	  scripts/postgres/speeddial-create.sql,
	  scripts/postgres/standard-create.sql,
	  scripts/postgres/uri_db-create.sql,
	  scripts/postgres/usrloc-create.sql:
	  - change dbschema xsl to not add one space char to files
	  - this prevents the generation of empty files, e.g.
	  openser-extensions.xml
	  - remove this empty files from mysql and postgresql
	  - fix extra modules generation in openserdbctl.mysql
	  - add openser-extensions table generation to .mysql and .psql db
	  scripts

2007-08-27 11:26  Juha Heinanen, <jh at tutpro dot com>

	* [r2638] db/schema/entities.xml, db/schema/gw.xml, modules/lcr/README,
	  modules/lcr/doc/lcr_user.sgml, modules/lcr/lcr_mod.c:
	  * Added a gateway attribute that can be used to indicate if a gateway
	  supports directed media (RFC 4145).

2007-08-26 17:37  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2637] modules/sl/sl_funcs.c:
	  - moved function to "static"

2007-08-26 17:36  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2636] modules/statistics/stats_funcs.c:
	  - fixed compile warning when STATISTICS is not defined

2007-08-26 17:33  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2635] statistics.h:
	  - added missing defined that failed SL module compiling when
	  STATISTICS
	  was not defined

2007-08-24 14:50  Anca Vamanu, <anca at voice-system dot ro>

	* [r2634] modules/presence/presence.c, modules/presence/subscribe.c:
	  - fixed a syntax error

2007-08-24 13:58  Anca Vamanu, <anca at voice-system dot ro>

	* [r2633] modules/presence/hash.c, modules/presence/notify.c,
	  modules/presence/presence.c, modules/presence/subscribe.c:
	  - fixed a bug in getting info from database in fallback2db=1 mode
	  (problems reported by Juha Heinanen)

2007-08-24 07:46  Anca Vamanu, <anca at voice-system dot ro>

	* [r2632] modules/presence_xml/presence_xml.c:
	  - removed the need to load xcap_client module if force_active is 1
	  (reported by Mircea Amarascu and Juha Heinanen)

2007-08-23 12:12  Anca Vamanu, <anca at voice-system dot ro>

	* [r2631] modules/presence_xml/presence_xml.c:
	  - fixed a lack of synchronization to presence functions naming bug

2007-08-23 08:22  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2630] Makefile, Makefile.defs, action.c, cfg.lex, cfg.y, route.c,
	  route_struct.h:
	  - new assign operator for avps ":=" (patch by Alex Herman)
	  - $avp(name) := value will overwride the value of any exiting
	  $avp(name), resulting in a new single $avp(name) (delete all
	  $avp(name), add $avp(name))
	  - in addition, $avp(name) := null will delete all existing $avp(name)

2007-08-22 13:36  Anca Vamanu, <anca at voice-system dot ro>

	* [r2629] modules/presence_mwi/xcap_auth.c,
	  modules/presence_mwi/xcap_auth.h:
	  - removed useless files due to the latest changes in presence

2007-08-22 13:32  Anca Vamanu, <anca at voice-system dot ro>

	* [r2628] db/schema/pr_watchers.xml, modules/presence/README,
	  modules/presence/bind_presence.c, modules/presence/bind_presence.h,
	  modules/presence/doc/presence_devel.sgml,
	  modules/presence/doc/presence_user.sgml,
	  modules/presence/event_list.c, modules/presence/event_list.h,
	  modules/presence/hash.c, modules/presence/hash.h,
	  modules/presence/notify.c, modules/presence/notify.h,
	  modules/presence/presence.c, modules/presence/presence.h,
	  modules/presence/presentity.c, modules/presence/publish.c,
	  modules/presence/publish.h, modules/presence/subscribe.c,
	  modules/presence/subscribe.h, modules/presence_mwi/add_events.c,
	  modules/presence_mwi/presence_mwi.c, modules/presence_xml/README,
	  modules/presence_xml/add_events.c,
	  modules/presence_xml/doc/presence_xml_devel.sgml,
	  modules/presence_xml/doc/presence_xml_user.sgml,
	  modules/presence_xml/notify_body.c,
	  modules/presence_xml/presence_xml.c,
	  modules/presence_xml/presence_xml.h, modules/presence_xml/xcap_auth.c,
	  modules/presence_xml/xcap_auth.h, scripts/mysql/presence-create.sql,
	  scripts/postgres/presence-create.sql:
	  - modified presence and presence_xml to allow using external XCAP
	  servers with the possibility to configure the mode of operation
	  through presence_xml module parameter 'integrated_xcap_server'

2007-08-22 13:27  Anca Vamanu, <anca at voice-system dot ro>

	* [r2627] modules/xcap_client, modules/xcap_client/Makefile,
	  modules/xcap_client/README, modules/xcap_client/doc,
	  modules/xcap_client/doc/xcap_client.sgml,
	  modules/xcap_client/doc/xcap_client_devel.sgml,
	  modules/xcap_client/doc/xcap_client_faq.sgml,
	  modules/xcap_client/doc/xcap_client_user.sgml,
	  modules/xcap_client/xcap_callbacks.c,
	  modules/xcap_client/xcap_callbacks.h,
	  modules/xcap_client/xcap_client.c, modules/xcap_client/xcap_client.h,
	  modules/xcap_client/xcap_functions.c,
	  modules/xcap_client/xcap_functions.h:
	  - added a xcap client for OpenSER module
	  (it retrieves info from XCAP servers using HTTP GET request; works
	  with libcurl library)

2007-08-21 18:50  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2626] modules/dispatcher/dispatch.c,
	  modules/dispatcher/dispatcher.c:
	  - fix when db_url is not set (reported by Borislav Ivandic)
	  - db connection is not needed in workers, just in mi processes

2007-08-21 16:17  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2625] modules/snmpstats/snmpstats.c, modules/snmpstats/snmpstats.h,
	  modules/snmpstats/sub_agent.c, modules/snmpstats/sub_agent.h:
	  - update module to use the module interface to create additional
	  processes.
	  - AgentX process moved as a module process
	  - TO FIX!
	  1) to do not spawn the process to check the system up time from
	  PROC_MAIN as this child do not exist in "fork=no"
	  2) maybe the "check time" process should be run from mod_init() to
	  prepare the file before all the other workers are forked.
	  3) maybe system() will be simpler than fork()+exec()

2007-08-21 16:11  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2624] modules/xmpp/xmpp.c:
	  - module migrated to the new interface for creating additional
	  processes
	  - fixed bug in creating the communication pipe between SIP workers and
	  XMPP processes

2007-08-21 16:08  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2623] modules/cpl-c/cpl.c, modules/sms/sms.c:
	  - updated module to make use of module interface for properly creating
	  additional processes

2007-08-21 16:06  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2622] modules/mi_datagram/mi_datagram.c,
	  modules/mi_xmlrpc/mi_xmlrpc.c:
	  - updated mi modules to use the module interface in order to properly
	  create the additional processes

2007-08-21 16:05  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2621] modules/mi_fifo/mi_fifo.c, sr_module.c, sr_module.h:
	  - module interface for additional processes extedned to make place for
	  pre and post fork functions.

2007-08-20 09:15  Anca Vamanu, <anca at voice-system dot ro>

	* [r2620] db/schema/pr_watchers.xml, scripts/mysql/presence-create.sql,
	  scripts/postgres/presence-create.sql:
	  - fixed a bug in index definition

2007-08-20 08:47  Anca Vamanu, <anca at voice-system dot ro>

	* [r2619] db/schema/pr_watchers.xml, modules/presence/presence.c,
	  modules/presence/subscribe.c, scripts/dbtext/openser/version,
	  scripts/dbtext/openser/watchers, scripts/mysql/presence-create.sql,
	  scripts/postgres/presence-create.sql:
	  - made changes in watchers table ( version increased )

2007-08-17 16:27  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2616] re.c:
	  - fixed replacement string handling, bug introduced in the last commit
	  (reported by Juha Heinanen)

2007-08-17 13:48  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2615] re.c, re.h:
	  - function split to allow independent parsing of replacement string
	  (credits to Ancuta Onofrei)

2007-08-17 11:28  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2614] Makefile.defs, db/db_ut.c, modules/mysql/dbase.c,
	  modules/postgres/dbase.c, modules/unixodbc/dbase.c:
	  - add space in front of "order by" (reported by Ben Smithurst and Anca
	  Vamanu)
	  - dev version increased

2007-08-17 08:02  Anca Vamanu, <anca at voice-system dot ro>

	* [r2613] scripts/dbtext/openser/active_watchers,
	  scripts/dbtext/openser/pua, scripts/dbtext/openser/version,
	  scripts/mysql/presence-create.sql,
	  scripts/postgres/presence-create.sql:
	  - updated presence sql scripts

2007-08-16 09:54  Anca Vamanu, <anca at voice-system dot ro>

	* [r2607] modules/presence/hash.c, modules/presence/hash.h:
	  - added 2 new files

2007-08-16 08:37  Anca Vamanu, <anca at voice-system dot ro>

	* [r2606] modules/presence/notify.c, parser/parse_event.c,
	  parser/parse_event.h:
	  - exported a function from parse event useful in presence module

2007-08-16 07:52  Anca Vamanu, <anca at voice-system dot ro>

	* [r2605] modules/pua/hash.c, modules/pua/pua.c,
	  modules/pua/send_publish.c, modules/pua/send_subscribe.c:
	  - fixed some bugs in the changes from the last commit(reported by
	  Reinhold Buchinger)

2007-08-16 07:35  Anca Vamanu, <anca at voice-system dot ro>

	* [r2604] db/schema/pr_active_watchers.xml, modules/presence/README,
	  modules/presence/bind_presence.c, modules/presence/bind_presence.h,
	  modules/presence/doc/presence_user.sgml,
	  modules/presence/event_list.c, modules/presence/event_list.h,
	  modules/presence/notify.c, modules/presence/notify.h,
	  modules/presence/presence.c, modules/presence/presence.h,
	  modules/presence/presentity.c, modules/presence/presentity.h,
	  modules/presence/publish.c, modules/presence/subscribe.c,
	  modules/presence/subscribe.h, modules/presence/utils_func.c,
	  modules/presence_mwi/add_events.c,
	  modules/presence_mwi/presence_mwi.c, modules/presence_mwi/xcap_auth.c,
	  modules/presence_xml/add_events.c, modules/presence_xml/notify_body.c,
	  modules/presence_xml/xcap_auth.c, modules/presence_xml/xcap_auth.h:
	  - included memory caching storage with the possibility to configure a
	  fallback to database mode

2007-08-15 08:11  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2603] modules/dispatcher/dispatch.c:
	  - try to avoid selecting inactive destination in round robin (reported
	  by Francisco Ivandic)

2007-08-14 13:14  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2601] Makefile.defs, items.c, modules/nathelper/nathelper.c,
	  transformations.c:
	  - fixed bug in returning param transformations (thanks to Andreas
	  Granig for reporting and testing)
	  - don't change port if is 0 (that means media channel is disabled,
	  reported by Aymeric Moizard)
	  - dev version increased

2007-08-14 09:20  Andreas Granig, <andreas dot granig at inode dot info>

	* [r2599] modules/path/path.c:
	  Fixed some memory problems.
	  Credits go to Marcus Hunger (hunger at sipgate de)

2007-08-13 17:07  Anca Vamanu, <anca at voice-system dot ro>

	* [r2597] db/schema/pr_pua.xml, modules/pua/hash.c, modules/pua/hash.h,
	  modules/pua/pua.c, modules/pua/send_publish.c,
	  modules/pua/send_subscribe.c:
	  - added 2 more columns to pua_table (increased table version)
	  - enabled refresh possiblity after server restart
	  - included event type in record identification

2007-08-13 12:40  Anca Vamanu, <anca at voice-system dot ro>

	* [r2596] modules/presence_mwi/add_events.c, modules/pua/hash.c,
	  modules/pua/hash.h, modules/pua/pua.c, modules/pua/pua.h,
	  modules/pua/pua_callback.h, modules/pua/send_publish.c,
	  modules/pua/send_publish.h, modules/pua/send_subscribe.c,
	  modules/pua/send_subscribe.h, modules/pua_mi/mi_func.c,
	  modules/pua_mi/mi_func.h, modules/pua_mi/pua_mi.c,
	  modules/pua_xmpp/pua_xmpp.c, modules/pua_xmpp/simple2xmpp.c,
	  modules/pua_xmpp/simple2xmpp.h:
	  - restructured the reply callback system for Publish to make it
	  simetric with the one for Subscribe
	  - updated the pua_xmpp and pua_mi to the changes
	  - enabled calling registered callback functions for FAKED_REPLY also
	  - updated the presence_mwi module to a previous change made in
	  presence

2007-08-13 08:55  Anca Vamanu, <anca at voice-system dot ro>

	* [r2595] modules/pua/pua.c, modules/pua/send_subscribe.c:
	  - saved extra_headers in hash table entry structure to be used when
	  refreshing request

2007-08-12 09:51  Juha Heinanen, <jh at tutpro dot com>

	* [r2594] scripts/openserdbctl.mysql:
	  * Script to create tables for all extra modules is
	  extensions-create.sql.

2007-08-12 06:16  Juha Heinanen, <jh at tutpro dot com>

	* [r2593] scripts/openserdbctl.mysql:
	  * Replaced fixed extra table list with $EXTRA_MODULES variable.

2007-08-10 14:02  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2592] modules/tm/h_table.c, modules/tm/uac.c:
	  - local generated messages do not inherit avps from the message
	  processed at that time
	  - closes #1768774

2007-08-10 13:38  Christian Schlatter, <cs at unc dot edu>

	* [r2591] Makefile, modules/h350, modules/h350/Makefile,
	  modules/h350/README, modules/h350/doc, modules/h350/doc/h350.sgml,
	  modules/h350/doc/h350_biblio.sgml, modules/h350/doc/h350_devel.sgml,
	  modules/h350/doc/h350_faq.sgml, modules/h350/doc/h350_user.sgml,
	  modules/h350/h350_exp_fn.c, modules/h350/h350_exp_fn.h,
	  modules/h350/h350_mod.c, modules/h350/h350_mod.h:
	  initial import of new H350 module

2007-08-10 12:27  Anca Vamanu, <anca at voice-system dot ro>

	* [r2589] modules/pua_usrloc/pua_usrloc.c,
	  modules/pua_usrloc/pua_usrloc.h, modules/pua_usrloc/ul_publish.c:
	  - register a post script callback to unset send_publish flag

2007-08-09 13:34  Anca Vamanu, <anca at voice-system dot ro>

	* [r2588] modules/presence_xml/add_events.c,
	  modules/presence_xml/notify_body.c,
	  modules/presence_xml/presence_xml.c,
	  modules/presence_xml/presence_xml.h:
	  - included the right headers after correcting the error in
	  presence_xml.h header file

2007-08-09 13:18  Anca Vamanu, <anca at voice-system dot ro>

	* [r2587] modules/presence_xml/presence_xml.h:
	  - corrected a typing error

2007-08-09 13:02  Anca Vamanu, <anca at voice-system dot ro>

	* [r2586] modules/pua/pua.c:
	  - updated the function to build the subscribe callbak parameter when
	  sending refresh request

2007-08-09 12:03  Anca Vamanu, <anca at voice-system dot ro>

	* [r2585] modules/presence/presentity.c, modules/presence/publish.c:
	  - fixed a bug in handling etag

2007-08-08 11:33  Anca Vamanu, <anca at voice-system dot ro>

	* [r2583] modules/presence/notify.c, modules/presence/presentity.c,
	  modules/presence/publish.c, modules/presence/subscribe.c,
	  modules/presence/subscribe.h:
	  - added remote_cseq and local_cseq fileds instead of cseq in subs_t
	  structure for more clarity

2007-08-07 16:04  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2582] modules/mi_datagram/mi_datagram.c:
	  - migrated process creation to module interface - use core support for
	  forking new processes, instead of doing it locally

2007-08-07 15:23  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2581] pt.c:
	  one more time trying to get the SVN ID to work

2007-08-07 15:19  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2580] pt.c:
	  one more time trying to get the SVN ID to work

2007-08-07 15:17  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2579] pt.c:
	  - fixed the SVN ID line

2007-08-07 15:17  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2578] main.c, mi/mi_core.c, modules/mi_fifo/mi_fifo.c, pt.c, pt.h,
	  sr_module.c, sr_module.h, tcp_main.c:
	  - new wrapper function openser_fork() over the fork() lib function in
	  order to guarante proper & simpler process initialization
	  - got rid of the "bastard" children (processes created directly by
	  modules); these processes, not being created by main core process,
	  could not be properly controlled and terminated.
	  - openser core creates (on demand, via the module interface) processes
	  for the modules.
	  - reduce the complexity and code duplication in modules that need to
	  create additional processes.
	  - cleanup in the process forking sequence at startup
	  - MI_FIFO module updated to use the process creation via the module
	  interface
	  - fixed some SCTP problems in process management
	  (still work on progress)

2007-08-07 12:17  Anca Vamanu, <anca at voice-system dot ro>

	* [r2577] modules/presence/README, modules/presence/bind_presence.c,
	  modules/presence/bind_presence.h,
	  modules/presence/doc/presence_devel.sgml,
	  modules/presence/doc/presence_user.sgml,
	  modules/presence/event_list.c, modules/presence/event_list.h,
	  modules/presence/presence.c, modules/presence/presence.h,
	  modules/presence/publish.c, modules/presence/subscribe.c,
	  modules/presence/subscribe.h:
	  - enabled a 'library' like functioning mode - if the db_url module
	  parameter is not set, no messages are processed and the exported
	  functions can be used by other modules.'
	  - added a event specific parameter 'default expires'
	  - exported 2 new event list handling functions

2007-08-07 10:16  Elena-Ramona Modroiu, <ramona at voice-system dot ro>

	* [r2576] modules/pdt/domains.c, modules/pdt/pdt.c,
	  modules/pdt/pdtree.c:
	  - bug fix closes bug item #1765525 reported by Norm Brandinger

2007-08-07 09:32  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2575] modules/dispatcher/dispatch.c, modules/dispatcher/dispatch.h,
	  modules/dispatcher/dispatcher.c:
	  - migrated to new process initialization model (credits to Ancuta
	  Onofrei)

2007-08-03 13:38  Anca Vamanu, <anca at voice-system dot ro>

	* [r2574] modules/presence_xml/presence_xml.c:
	  - corrected a typing error (reported by Babon Frederic
	  frederic.babon@thomson.net)

2007-08-03 12:00  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2573] modules/carrierroute/carrierroute.c:
	  - add missing mi_child_init function for reload_routes function

2007-08-03 10:19  Anca Vamanu, <anca at voice-system dot ro>

	* [r2572] modules/pua/hash.c, modules/pua/pua.c,
	  modules/pua/pua_callback.h, modules/pua/send_subscribe.c:
	  - fixed bug of not updated PUACB_MAX macro value
	  - enabled the usage of record id for subscribe requests also

2007-08-03 08:58  Juha Heinanen, <jh at tutpro dot com>

	* [r2571] scripts/openserctl:
	  * Added /etc/openser as directory from which to look for openserctl rc
	  file (like it was in 1.2 mysqldb.sh).

2007-08-02 08:53  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2569] INSTALL:
	  - add a note about necessary libs and header for ldap module

2007-08-02 08:42  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2568] INSTALL:
	  - notes about SCTP

2007-08-02 08:01  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2567] modules/hash/README:
	  - add a note to the README about the module status as discussed on the
	  list

2007-08-01 21:40  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2565] Makefile.defs, cfg.lex, cfg.y, config.h, forward.c, forward.h,
	  globals.h, ip_addr.h, main.c, msg_translator.c, parser/parse_via.c,
	  resolve.c, route.c, sctp_server.c, sctp_server.h, socket_info.c,
	  socket_info.h, udp_server.h, version.h:
	  - support for SCTP (patch by Glenn Marmon gmarmon@conncoll.edu)
	  - to enable it: SCTP=1 make ...
	  - requires SCTP support in kernel and libsctp-dev

2007-08-01 18:24  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2564] crc.c, crc.h, modules/hash, modules/hash/Makefile,
	  modules/hash/README, modules/hash/hash.c, modules/hash/hash.h:
	  - add a hash module, a dependency of the carrierroute module
	  - this module provides different hash from various sources
	  - TODO: probably its make sense to change the dispatcher module to use
	  this  module too, this way each loadbalancer use the same hash source
	  - add a crc function that returns unsigned integer, needed by the hash
	  module

2007-08-01 18:19  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2563] db/schema/Makefile, scripts/dbtext/openser/carrierroute,
	  scripts/dbtext/openser/pua, scripts/dbtext/openser/route_tree,
	  scripts/dbtext/openser/version, scripts/mysql/carrierroute-create.sql,
	  scripts/mysql/presence-create.sql,
	  scripts/postgres/carrierroute-create.sql,
	  scripts/postgres/presence-create.sql:
	  - add carrierroute tables to Makefile in db/schema
	  - add actual SQL code for this tables
	  - update SQL with the last changes in schema files

2007-08-01 18:18  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2562] Makefile, db/schema/carrierroute.xml,
	  db/schema/openser-carrierroute.xml, db/schema/route_tree.xml,
	  modules/carrierroute, modules/carrierroute/Makefile,
	  modules/carrierroute/README, modules/carrierroute/carrier_tree.c,
	  modules/carrierroute/carrier_tree.h,
	  modules/carrierroute/carrierroute.c,
	  modules/carrierroute/carrierroute.h, modules/carrierroute/doc,
	  modules/carrierroute/doc/carrierroute.sgml,
	  modules/carrierroute/doc/carrierroute_devel.sgml,
	  modules/carrierroute/doc/carrierroute_faq.sgml,
	  modules/carrierroute/doc/carrierroute_user.sgml,
	  modules/carrierroute/load_data.c, modules/carrierroute/load_data.h,
	  modules/carrierroute/route.h, modules/carrierroute/route_config.c,
	  modules/carrierroute/route_config.h, modules/carrierroute/route_db.c,
	  modules/carrierroute/route_db.h, modules/carrierroute/route_fifo.c,
	  modules/carrierroute/route_fifo.h, modules/carrierroute/route_func.c,
	  modules/carrierroute/route_func.h, modules/carrierroute/route_rule.c,
	  modules/carrierroute/route_rule.h, modules/carrierroute/route_tree.c,
	  modules/carrierroute/route_tree.h, scripts/openserctlrc,
	  scripts/openserdbctl.base:
	  - add carrierroute module
	  - Credits go to Jonas Appel, <jonas dot appel at schlund dot de>
	  - add module to exclude_modules var in Makefile
	  - add database schemas for two necessary tables
	  - add database tables to extra tables definition in openserdbctl

2007-08-01 11:55  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2561] modules/benchmark:
	  - set svn:ignore property on benchmark dir

2007-08-01 11:27  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2560] scripts/openserdbctl:
	  - fix string comparison for dbtext in openserdbctl
	  Thanks to Norman Brandinger for the report

2007-08-01 10:48  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2559] scripts/openserdbctl:
	  - fix extra tables generation for dbtext database

2007-08-01 08:59  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2558] modules/benchmark/benchmark.c:
	  - fix small error in mi_cmds[] initialization for benchmark module

2007-07-31 18:55  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2557] mi/attr.c, modules/mi_xmlrpc/xr_parser_lib.h,
	  modules/pua_mi/mi_func.c:
	  - fixed couple of compile warnings

2007-07-31 17:55  Dan Pascu, <dan at ag-projects dot com>

	* [r2556] modules/mediaproxy/doc/mediaproxy_user.sgml,
	  modules/mediaproxy/functions.h:
	  Made indenting consistent

2007-07-31 13:30  Dan Pascu, <dan at ag-projects dot com>

	* [r2555] modules/mediaproxy/README,
	  modules/mediaproxy/doc/mediaproxy_user.sgml,
	  modules/mediaproxy/mediaproxy.c:
	  Added support for specifying the domain to use for selecting the
	  mediaproxies (based on a patch by Kobi Eshun <kobi@sightspeed.com>)

2007-07-31 13:01  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2554] modules/acc/acc_mod.c, modules/alias_db/alias_db.c,
	  modules/auth/auth_mod.c, modules/auth_db/authdb_mod.c,
	  modules/auth_diameter/auth_diameter.c,
	  modules/auth_radius/authrad_mod.c, modules/avp_radius/avp_radius.c,
	  modules/avpops/avpops.c, modules/benchmark/benchmark.c,
	  modules/cfgutils/cfgutils.c, modules/cpl-c/cpl.c,
	  modules/dbtext/dbtext.c, modules/dialog/dialog.c,
	  modules/dispatcher/dispatcher.c, modules/diversion/diversion.c,
	  modules/domain/domain_mod.c, modules/domainpolicy/domainpolicy_mod.c,
	  modules/enum/enum_mod.c, modules/exec/exec_mod.c,
	  modules/flatstore/flatstore_mod.c, modules/gflags/gflags.c,
	  modules/group/group_mod.c, modules/group_radius/grouprad_mod.c,
	  modules/imc/imc.c, modules/jabber/jabber.c, modules/lcr/lcr_mod.c,
	  modules/ldap/ldap_mod.c, modules/mangler/mangler.c,
	  modules/maxfwd/maxfwd.c, modules/mediaproxy/mediaproxy.c,
	  modules/mi_datagram/mi_datagram.c, modules/mi_fifo/mi_fifo.c,
	  modules/mi_xmlrpc/mi_xmlrpc.c, modules/msilo/msilo.c,
	  modules/mysql/db_mod.c, modules/nathelper/nathelper.c,
	  modules/options/mod_options.c, modules/osp/osp_mod.c,
	  modules/pa/pa_mod.c, modules/path/path_mod.c, modules/pdt/pdt.c,
	  modules/perl/perl.c, modules/perlvdb/perlvdb.c,
	  modules/permissions/permissions.c, modules/pike/pike.c,
	  modules/postgres/db_mod.c, modules/presence/presence.c,
	  modules/presence_mwi/presence_mwi.c,
	  modules/presence_xml/presence_xml.c, modules/pua/pua.c,
	  modules/pua_bla/pua_bla.c, modules/pua_mi/pua_mi.c,
	  modules/pua_usrloc/pua_usrloc.c, modules/pua_xmpp/pua_xmpp.c,
	  modules/registrar/reg_mod.c, modules/rr/rr_mod.c, modules/seas/seas.c,
	  modules/siptrace/siptrace.c, modules/sl/sl.c, modules/sms/sms.c,
	  modules/snmpstats/snmpstats.h, modules/speeddial/speeddial.c,
	  modules/sst/sst.c, modules/statistics/statistics.c,
	  modules/textops/textops.c, modules/tlsops/tlsops.c, modules/tm/tm.c,
	  modules/uac/uac.c, modules/uac_redirect/redirect.c,
	  modules/unixodbc/db_mod.c, modules/uri/uri_mod.c,
	  modules/uri_db/uridb_mod.c, modules/uri_radius/urirad_mod.c,
	  modules/usrloc/ul_mod.c, modules/xlog/xlog.c, modules/xmpp/xmpp.c,
	  sr_module.h:
	  - added new field in the module interface - list of the additional
	  processes to be created (work on progress)

2007-07-31 12:32  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2553] Makefile.defs:
	  - option to define TIMING_INFO removed

2007-07-30 19:55  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2551] main.c, modules/domain/domain_mod.c,
	  modules/flatstore/flatstore_mod.c, modules/mi_fifo/mi_fifo.c,
	  modules/permissions/trusted.c, modules/tm/t_msgbuilder.c, sr_module.c,
	  sr_module.h, version.h:
	  - last UNIXODBC stuff removed
	  - renamed some defines and variables
	  - some LOG/DBG migrated
	  - first steps in extending module interface for aux. processes

2007-07-30 17:04  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2550] modules/dispatcher/dispatcher.c:
	  - fix small error in dispatcher modul: return code 0 on ds_load_list
	  is success

2007-07-30 16:27  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2549] modules/cfgutils/cfgutils.c:
	  - use now again rand() instead of drand48(), with the new seeding
	  enchancements in the core this is probably good enough

2007-07-30 16:24  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2548] main.c, tcp_main.c, ut.c, ut.h:
	  - seed the random generator in the core for timer, tcp_main,
	  udp_listener and
	  tcp_listener processes
	  - now all processer using a different random state for the generation
	  of pseudo random numbers
	  - previously every processes used the same state, this could lead to
	  security problems
	  - initalization of the random generator used with 'rand()' in the
	  modules is now not needed anymore
	  - if other random generators (e.g. random(), drand48()) are needed,
	  then the current functions needs to be extended
	  - add a small utility function for seeding to ut.{c,h}
	  - port ut.{c,h} to the new logging infrastructure

2007-07-30 12:14  Anca Vamanu, <anca at voice-system dot ro>

	* [r2547] db/schema/pr_pua.xml, modules/pua/pua.c:
	  - added a new column to pua table - contact (increased version)

2007-07-30 11:52  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2546] modules/auth/README, modules/auth/auth_mod.c,
	  modules/auth/doc/auth_user.sgml:
	  - don't seed the random generator for the auth module initialization
	  from the system time, this is unsafe as this source provides not
          enough entropy.
	  - The random generator is seeded in the core from /dev/urandom, if
	  this device is available.
	  - adapted from SER:
	  http://lists.iptel.org/pipermail/serdev/2006-November/008477.html

2007-07-30 10:57  Dan Pascu, <dan at ag-projects dot com>

	* [r2545] modules/mediaproxy/config/README,
	  modules/mediaproxy/config/Readme,
	  modules/mediaproxy/config/openser.cfg,
	  modules/mediaproxy/config/ser.cfg:
	  Renamed example ser.cfg to openser.cfg and Readme to README

2007-07-30 10:50  Dan Pascu, <dan at ag-projects dot com>

	* [r2544] modules/mediaproxy/functions.h,
	  modules/mediaproxy/mediaproxy.c:
	  Updated the code to use the new LM_XXX logging functions and adjusted
	  the log messages a bit

2007-07-30 10:06  Anca Vamanu, <anca at voice-system dot ro>

	* [r2543] db/schema/pr_presentity.xml:
	  - removed unecessary ude_presentity index (reported by Juha
	  Heinanen<jh@tutpro.com>)

2007-07-30 09:22  Anca Vamanu, <anca at voice-system dot ro>

	* [r2542] modules/pua/hash.c, modules/pua/hash.h, modules/pua/pua.c,
	  modules/pua/pua_bind.c, modules/pua/pua_bind.h,
	  modules/pua/send_subscribe.c, modules/pua/send_subscribe.h:
	  - added a new source flag RLS_SUBSCRIBE
	  - added a new field to subs_info_t structure - extra_headers, to be
	  added when sending the Subscribe request
	  - exported a new function get_record_id
	  - fixed a bug in sending refresh for Subscribe - used the same contact
	  as in the first request

2007-07-28 18:37  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2541] modules/benchmark, modules/benchmark/Makefile,
	  modules/benchmark/README, modules/benchmark/benchmark.c,
	  modules/benchmark/benchmark.h, modules/benchmark/benchmark_api.h,
	  modules/benchmark/doc, modules/benchmark/doc/benchmark.sgml,
	  modules/benchmark/doc/benchmark_devel.sgml,
	  modules/benchmark/doc/benchmark_faq.sgml,
	  modules/benchmark/doc/benchmark_user.sgml:
	  - new module allowing benchmarking of the configuration file
	  - development started from the contribution on the tracker of Bastian
	  Friederich
	  - incorporates the old code from the core used for benchmarking 1.2
	  - by default has microsecond accuracy
	  - compiled with -DBM_CLOCK_REALTIME will give nanoseconds accuracy
	  - support for unlimited number of timers identified by string name
	  - internal API to be used from other modules
	  - set of global statistics per timer (stored in shared memory)
	  - the difference of time is computed per process (it is not shared as
	  it will produce unpredictible results due to races)
	  - should help to identify in a nice manner the slow parts of the
	  configuration file
	  - closes #1698400

2007-07-28 17:34  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2540] ut.h:
	  - functions for time diff measurement removed (to be included in a new
	  module)

2007-07-28 13:03  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2539] action.c, cfg.lex, cfg.y:
	  - more timing info code removed

2007-07-28 13:02  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2538] modules/usrloc/udomain.c:
	  - removed timing info defined code

2007-07-27 16:56  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2537] modules/dialog/dialog.c, modules/dialog/dlg_db_handler.c,
	  modules/dialog/dlg_db_handler.h:
	  - fixed the mixing of DB connections across processes.

2007-07-27 13:55  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2536] dprint.h:
	  - fixed bogus macro for suncc

2007-07-27 11:45  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2534] Makefile.defs, scripts/dbtext/openser/dispatcher,
	  scripts/dbtext/openser/version, scripts/mysql/dispatcher-create.sql,
	  scripts/openserdbctl.base, scripts/postgres/dispatcher-create.sql:
	  - compiled version for dispatcher table
	  - included in default db creation
	  - dev version increased

2007-07-27 11:41  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2533] db/schema/Makefile, db/schema/dispatcher.xml,
	  db/schema/openser-dispatcher.xml:
	  - table definition for dispatcher module
	  - credits to Ancuta Onofrei for DB support in dispatcher

2007-07-27 11:38  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2532] modules/dispatcher/README, modules/dispatcher/dispatch.c,
	  modules/dispatcher/dispatch.h, modules/dispatcher/dispatcher.c,
	  modules/dispatcher/doc/dispatcher_user.sgml:
	  - migrated to new debug functions
	  - some global variables renamed to avoid mistaken overlaping
	  - new random selection algorithm (6)
	  - support for loading destination list from database
	  - ability to reload the destination list from database upon a mi
	  command
	  - documentation updated

2007-07-27 09:38  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2531] modules/cpl-c/cpl.c, modules/mi_datagram/mi_datagram.c,
	  modules/mi_fifo/mi_fifo.c:
	  - added missing \n for some log messages

2007-07-27 09:37  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2530] main.c:
	  - fixed log messages

2007-07-27 01:48  Christian Schlatter, <cs at unc dot edu>

	* [r2529] modules/ldap/Makefile, modules/ldap/api.h,
	  modules/ldap/ld_session.c, modules/ldap/ldap_api_fn.c,
	  modules/ldap/ldap_connect.c, modules/ldap/ldap_connect.h,
	  modules/ldap/ldap_exp_fn.c, modules/ldap/ldap_mod.c:
	  replaced all LOG() calls with the new LM_<LEVEL> macro call

2007-07-26 21:24  Christian Schlatter, <cs at unc dot edu>

	* [r2528] modules/ldap/doc/ldap_devel.sgml,
	  modules/ldap/doc/ldap_user.sgml:
	  wrapped long lines; modified example code to use new LM_<LEVEL>
	  logging

2007-07-26 15:14  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2527] db/schema/template.xml:
	  - fix small error in template.xml

2007-07-26 15:00  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2526] main.c:
	  - port main.c to the new logging system
	  - change loglevel in two cases from info to notice, otherwise they
	  will be not visible because of the default loglevel of notice prior
          the cfg file parsing
	  - extend the logging for the PRNG seed process a little bit
	  - TODO: port of 'memlog' functionality to the new system still missing

2007-07-26 01:49  Di-Shi Sun, <di-shi at transnexus dot com>

	* [r2525] modules/osp/etc/sample-osp-openser.cfg, modules/osp/globals.c,
	  modules/osp/orig_transaction.c, modules/osp/osp_mod.c,
	  modules/osp/osp_mod.h, modules/osp/sipheader.c,
	  modules/osp/sipheader.h:
	  Added redirection_uri_format option in openser.cfg to work with Cisco
	  2600 IP-IP gateway.

2007-07-25 15:13  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2523] modules/domainpolicy/domainpolicy.c,
	  modules/domainpolicy/regexp.c, modules/domainpolicy/regexp.h,
	  modules/enum/enum.c, modules/enum/regexp.c, modules/enum/regexp.h,
	  regexp.c, regexp.h:
	  - move module specific regexp implementation in enum and domainpolicy
	  module to common file
	  - port regexp implementation to new log infrastructure
	  - TODO: compare to the re.c implementation for further matches

2007-07-25 14:17  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2520] tcp_conn.h, tcp_read.c:
	  Fixed integer overflow in reading TCP packages

2007-07-25 13:26  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2519] Makefile, Makefile.rules, scripts, scripts/dbtext,
	  scripts/dbtext/openser, scripts/dbtext/openser/acc,
	  scripts/dbtext/openser/active_sessions,
	  scripts/dbtext/openser/active_watchers,
	  scripts/dbtext/openser/address,
	  scripts/dbtext/openser/admin_privileges,
	  scripts/dbtext/openser/aliases, scripts/dbtext/openser/cpl,
	  scripts/dbtext/openser/dbaliases, scripts/dbtext/openser/dialog,
	  scripts/dbtext/openser/domain, scripts/dbtext/openser/domainpolicy,
	  scripts/dbtext/openser/grp, scripts/dbtext/openser/gw,
	  scripts/dbtext/openser/gw_grp, scripts/dbtext/openser/imc_members,
	  scripts/dbtext/openser/imc_rooms, scripts/dbtext/openser/lcr,
	  scripts/dbtext/openser/location, scripts/dbtext/openser/missed_calls,
	  scripts/dbtext/openser/pdt, scripts/dbtext/openser/pending,
	  scripts/dbtext/openser/phonebook, scripts/dbtext/openser/presentity,
	  scripts/dbtext/openser/pua, scripts/dbtext/openser/re_grp,
	  scripts/dbtext/openser/server_monitoring,
	  scripts/dbtext/openser/server_monitoring_agg,
	  scripts/dbtext/openser/silo, scripts/dbtext/openser/sip_trace,
	  scripts/dbtext/openser/speed_dial, scripts/dbtext/openser/subscriber,
	  scripts/dbtext/openser/trusted, scripts/dbtext/openser/uri,
	  scripts/dbtext/openser/usr_preferences,
	  scripts/dbtext/openser/usr_preferences_types,
	  scripts/dbtext/openser/version, scripts/dbtext/openser/watchers,
	  scripts/dbtext/openser/xcap_xml, scripts/mysql,
	  scripts/mysql/acc-create.sql, scripts/mysql/alias_db-create.sql,
	  scripts/mysql/auth_db-create.sql, scripts/mysql/avpops-create.sql,
	  scripts/mysql/cpl-create.sql, scripts/mysql/dialog-create.sql,
	  scripts/mysql/domain-create.sql,
	  scripts/mysql/domainpolicy-create.sql,
	  scripts/mysql/extensions-create.sql, scripts/mysql/group-create.sql,
	  scripts/mysql/imc-create.sql, scripts/mysql/lcr-create.sql,
	  scripts/mysql/msilo-create.sql, scripts/mysql/pdt-create.sql,
	  scripts/mysql/permissions-create.sql,
	  scripts/mysql/presence-create.sql, scripts/mysql/registrar-create.sql,
	  scripts/mysql/serweb-create.sql, scripts/mysql/siptrace-create.sql,
	  scripts/mysql/speeddial-create.sql, scripts/mysql/standard-create.sql,
	  scripts/mysql/uri_db-create.sql, scripts/mysql/usrloc-create.sql,
	  scripts/postgres, scripts/postgres/acc-create.sql,
	  scripts/postgres/alias_db-create.sql,
	  scripts/postgres/auth_db-create.sql,
	  scripts/postgres/avpops-create.sql, scripts/postgres/cpl-create.sql,
	  scripts/postgres/dialog-create.sql,
	  scripts/postgres/domain-create.sql,
	  scripts/postgres/domainpolicy-create.sql,
	  scripts/postgres/extensions-create.sql,
	  scripts/postgres/group-create.sql, scripts/postgres/imc-create.sql,
	  scripts/postgres/lcr-create.sql, scripts/postgres/msilo-create.sql,
	  scripts/postgres/pdt-create.sql,
	  scripts/postgres/permissions-create.sql,
	  scripts/postgres/presence-create.sql,
	  scripts/postgres/registrar-create.sql,
	  scripts/postgres/serweb-create.sql,
	  scripts/postgres/siptrace-create.sql,
	  scripts/postgres/speeddial-create.sql,
	  scripts/postgres/standard-create.sql,
	  scripts/postgres/uri_db-create.sql,
	  scripts/postgres/usrloc-create.sql:
	  - remove dbschema task from make all, as on smaller machines the
	  docbook tools are probably not installed
	  - remove dbschema-clean from clean task, it still possible to call
	  make clean in db/schema directly
	  - fix svn:ignore settings in script
	  - add generated mysql, postgresql and dbtext SQL/ dbtext files to
	  repository

2007-07-25 11:52  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2518] db/schema/Makefile:
	  - add '-f' to rm, to prevent errors if the file does not exist

2007-07-25 08:59  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2517] doc/dbschema/xsl/dbschema2docbook.xsl,
	  doc/dbschema/xsl/docbook.xsl:
	  - fix documentation output in case no docu is available
	  - add more extensive table doc generation (keys, attributes, default,
	  null)
	  - add index table generation

2007-07-25 08:57  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2516] db/schema/domainpolicy.xml,
	  db/schema/sw_server_monitoring.xml:
	  - add index names to serweb server monitoring and domainpolicy table

2007-07-25 08:48  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2515] db/schema/sw_active_sessions.xml,
	  db/schema/sw_admin_privileges.xml:
	  - add index names to two serweb tables

2007-07-24 17:33  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2513] modules/cpl-c/cpl_time.c, modules/cpl-c/cpl_time.h:
	  - removed useless function

2007-07-24 14:27  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2512] doc/entities.sgml, modules/cpl-c/README,
	  modules/cpl-c/doc/cpl-c_user.sgml, modules/imc/README,
	  modules/imc/doc/imc_user.sgml, modules/presence/README,
	  modules/presence/doc/presence_user.sgml, modules/pua/README,
	  modules/pua/doc/pua_user.sgml, modules/siptrace/README,
	  modules/siptrace/doc/siptrace_user.sgml:
	  - update entity file with actual db doc link, fix spelling error
	  - update README file of modules that uses this link

2007-07-24 14:20  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2511] modules/postgres/db_utils.c, modules/postgres/db_utils.h,
	  modules/postgres/db_val.c, modules/postgres/dbase.c,
	  modules/postgres/pg_con.c:
	  - remove unused db_utils files with parse_sql function
	  - postgresql uses the common db_init infrastructure like mysql and
	  unixodbc for a long time

2007-07-24 14:04  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2510] modules/cfgutils/cfgutils.c:
	  - fixed some 64bits casts

2007-07-24 12:01  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2509] Makefile.modules:
	  - fixed module compile flags (lost by mistake during last week
	  commit).
	  Closes bug 1759216

2007-07-24 11:02  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2507] cfg.y:
	  - removed some testing code

2007-07-24 09:25  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2503] modules/cfgutils/Makefile, modules/cfgutils/cfgutils.c,
	  modules/cfgutils/doc/cfgutils.sgml,
	  modules/cfgutils/doc/cfgutils_devel.sgml,
	  modules/cfgutils/doc/cfgutils_user.sgml:
	  - set svn:keywords properties on cfgutils directory

2007-07-23 16:54  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2502] modparam.c:
	  - fixed module parameter seting when using multiple module names.
	  ( "pua|usrloc" must not match pua_usrloc module)
	  Closes 1755386.

2007-07-23 16:37  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2501] cfg.y:
	  - more testing during parsing - as the parser does not stop at the
	  first error, we need to take care to be able to cope with partial
          bogus data.
	  Closes 1754352.

2007-07-23 15:17  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2498] modules/tm/sip_msg.c:
	  - clone also the newly added via param shortcut (MADDR)

2007-07-23 12:41  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2497] dprint.h:
	  - fixed compiling errors on non-linux OSs

2007-07-23 09:13  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2496] modules/mysql/dbase.c:
	  - now finally fix the error in mysql driver old mysql helper method
	  usage that was introduced in rev 2477, the last commit was missing
          the parameter changes

2007-07-23 07:51  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2495] modules/mi_datagram/datagram_fnc.h:
	  -removed bogus include header (linux specific)

2007-07-20 16:11  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2494] modules/postgres/dbase.c:
	  - free the result set if nrows is zero for fetch_result
	  - no need to call pg_free_columns here, because this will also called
	  from free_result

2007-07-20 15:34  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2493] modules/mysql/dbase.c:
	  - fix error in mysql driver old mysql helper method usage that was
	  introduced in rev 2477
	  - Thanks to Sebastian Schumann for the report

2007-07-20 11:04  Anca Vamanu, <anca at voice-system dot ro>

	* [r2492] modules/presence/README, modules/presence/doc/presence.sgml,
	  modules/presence/doc/presence.sql,
	  modules/presence/doc/presence_user.sgml, modules/presence_xml/README,
	  modules/presence_xml/doc/presence_xml.sgml,
	  modules/presence_xml/doc/presence_xml.sql,
	  modules/presence_xml/doc/presence_xml_user.sgml, modules/pua/README,
	  modules/pua/doc/pua.sgml, modules/pua/doc/pua.sql,
	  modules/pua/doc/pua_user.sgml:
	  - removed SQL definitions from presence, presence_xml and pua modules
	  documentation

2007-07-20 10:58  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2491] doc/entities.sgml:
	  - add new db docs entity

2007-07-20 10:45  Anca Vamanu, <anca at voice-system dot ro>

	* [r2490] db/schema/pr_active_watchers.xml, db/schema/pr_presentity.xml:
	  - corrected syntax errors when adding new index

2007-07-20 10:23  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2489] modules/cpl-c/README, modules/cpl-c/doc/cpl-c.sgml,
	  modules/cpl-c/doc/cpl-c.sql, modules/cpl-c/doc/cpl-c_user.sgml,
	  modules/imc/README, modules/imc/doc/imc.sgml, modules/imc/doc/imc.sql,
	  modules/imc/doc/imc_user.sgml, modules/siptrace/README,
	  modules/siptrace/doc/siptrace.sgml,
	  modules/siptrace/doc/siptrace_user.sgml:
	  - remove SQL definitions from imc, cpc-c and siptrace documentation
	  - add a entitiy that refers to the openser webserver, a not valid
	  address
	  for now because the db documentation is not yet available there

2007-07-20 09:55  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2488] modules/dialog/dlg_handlers.c, modules/dialog/dlg_hash.c:
	  -run the FAILED dialog callbacks all the time when the dialog is
	  destroyed.
	  Closes 1737524.

2007-07-19 15:11  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2487] modules/pua/pua.c:
	  - fixed bogus return test (pointers cannot be negative)

2007-07-19 14:58  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2486] modules/sl/sl.c, modules/sl/sl_api.h, modules/sl/sl_cb.c,
	  modules/sl/sl_funcs.c:
	  - log messages moved to new format

2007-07-19 14:34  Anca Vamanu, <anca at voice-system dot ro>

	* [r2485] db/schema/pr_active_watchers.xml, db/schema/pr_presentity.xml,
	  modules/presence/README, modules/presence/bind_presence.c,
	  modules/presence/bind_presence.h, modules/presence/doc/presence.sql,
	  modules/presence/event_list.c, modules/presence/event_list.h,
	  modules/presence/notify.c, modules/presence/presence.c,
	  modules/presence/presentity.c, modules/presence/subscribe.c,
	  modules/presence/utils_func.c, modules/presence/utils_func.h:
	  - added some KEYs to presence tables to improve db query performance
	  (table version increased)
	  - did some cleanup (corrected some log messages, a bit of
	  restructuring )

2007-07-19 13:09  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2484] action.c:
	  - removed the function name from the log message (it will by
	  automatically added by the new logging system)

2007-07-19 13:01  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2483] modules/maxfwd/maxfwd.c, modules/maxfwd/mf_funcs.c:
	  - removed the function name from the log message (it will by
	  automatically added by the new logging system)

2007-07-19 12:55  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2482] dprint.h:
	  - more work of logging - function name (if available) automatically
	  added in the log message
	  - use macros (more macros) to simplify a bit the code.

2007-07-19 11:52  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2481] modules/cfgutils/cfgutils.c:
	  - port to the new logging infrastructure
	  - extend messages and add more error reporting

2007-07-19 10:49  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2480] dprint.h:
	  - SUNCC specific fixes

2007-07-19 08:27  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2479] items_extra.c:
	  - bogus log level fix (L_ERR replaced with DBG)

2007-07-19 08:23  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2478] action.c, cfg.lex, cfg.y, dprint.c, dprint.h, route.c,
	  route_struct.c, route_struct.h:
	  - new core script function - setdebug([leve]) - it can be used to
	  change the debug level (per process) for a script section.

2007-07-18 16:28  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2477] db/db.c, db/db.h, db/db_cap.h, db/doc/db-api.txt,
	  modules/mysql/db_mod.c, modules/mysql/dbase.c, modules/mysql/dbase.h:
	  - implement 'insert on duplicate key update' SQL directive in database
	  API and mysql driver
	  - this is similar to the replace SQL command, but the old row in case
	  of an update is not deleted
	  - closes #1665077

2007-07-18 16:03  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2476] db/doc/db-api.txt, modules/mysql/dbase.c:
	  - adapt mysql fetch_result function to the postgresql behavior, only
	  fetches a partial result set, if the number of wanted rows is zero
	  return nothing
	  - this matches more closely the user expectations of the db api
	  - add a comment to the api documentation about this behavior

2007-07-18 12:06  Ancuta Onofrei, <ancuta at voice-system dot ro>

	* [r2475] forward.c:
	  When sending reply, take into account the maddr via parameter also.

2007-07-18 11:55  Ancuta Onofrei <ancuta@voice-system.ro>

	* [r2474] msg_translator.c:
	  Look also at maddr parameter when checking if via header is the same
	  with the source address.

2007-07-18 11:30  Ancuta Onofrei <ancuta@voice-system.ro>

	* [r2473] parser/parse_via.c, parser/parse_via.h:
	  Add maddr shortcut to via struct.

2007-07-18 10:47  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2472] dprint.c, dprint.h:
	  - logging to stderr aligned to syslog format (from new LOG functions):
	  more information is automatically added (date, pid and module).
	  - the writing to stderr is done via a single op (vfprinf) to avoid log
	  overlapping.
	  - Closes also patch 1728481.

2007-07-18 10:37  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2471] db/schema/Makefile, doc/dbschema/bookinfo.xml:
	  - add template sgml file for database documentation
	  - change Makefile to use this template, add entities link

2007-07-17 11:19  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2467] modules/postgres/db_val.c:
	  - spelling fix in postgresql log message

2007-07-17 11:18  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2466] db/schema/openser-acc.xml, db/schema/openser-alias_db.xml,
	  db/schema/openser-auth_db.xml, db/schema/openser-avpops.xml,
	  db/schema/openser-cpl.xml, db/schema/openser-dialog.xml,
	  db/schema/openser-domain.xml, db/schema/openser-domainpolicy.xml,
	  db/schema/openser-extensions.xml, db/schema/openser-group.xml,
	  db/schema/openser-imc.xml, db/schema/openser-lcr.xml,
	  db/schema/openser-msilo.xml, db/schema/openser-pdt.xml,
	  db/schema/openser-permissions.xml, db/schema/openser-presence.xml,
	  db/schema/openser-registrar.xml, db/schema/openser-serweb.xml,
	  db/schema/openser-siptrace.xml, db/schema/openser-speeddial.xml,
	  db/schema/openser-standard.xml, db/schema/openser-uri_db.xml,
	  db/schema/openser-usrloc.xml:
	  - more meaningful table ('database') names for doc generation

2007-07-17 11:16  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2465] Makefile, db/schema/Makefile,
	  doc/dbschema/xsl/dbschema2docbook.xsl, doc/dbschema/xsl/docbook.xsl:
	  - dbschema doc generation create now only one document for all tables
	  - change stylesheets to a little bit newer docbook version

2007-07-17 08:49  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2464] modules/dbtext/dbt_lib.c:
	  - relese lock before cleaning old table in non-cache mode (reported by
	  Ovidiu Sas)

2007-07-17 07:16  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2463] scripts/openserdbctl.base:
	  - added dialog DB table as default one

2007-07-16 20:32  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2462] action.c:
	  - log macros ported to new ones

2007-07-16 20:06  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2461] modules/maxfwd/maxfwd.c, modules/maxfwd/mf_funcs.c:
	  - all log messages ported to the new set of macros

2007-07-16 20:04  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2460] dprint.h:
	  - new macros for logging that automatically log the module name and
	  log level

2007-07-16 20:01  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2459] Makefile.modules:
	  - export the module name as string via env. variable

2007-07-16 12:32  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2458] modules/dbtext/dbt_file.c, modules/dbtext/dbt_lib.c:
	  - update of change detection and more verbose

2007-07-16 11:39  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2457] Makefile:
	  - add new imported ldap module to the exclude_module set, as this
	  module needs external dependencies for compiling

2007-07-16 10:29  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2455] modules/textops/README, modules/textops/doc/textops_user.sgml:
	  - updated module's description

2007-07-16 09:23  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2453] modules/ldap, modules/ldap/Makefile, modules/ldap/README,
	  modules/ldap/api.h, modules/ldap/doc, modules/ldap/doc/ldap.sgml,
	  modules/ldap/doc/ldap_biblio.sgml, modules/ldap/doc/ldap_devel.sgml,
	  modules/ldap/doc/ldap_faq.sgml, modules/ldap/doc/ldap_user.sgml,
	  modules/ldap/etc, modules/ldap/etc/ldap.cfg, modules/ldap/iniparser.c,
	  modules/ldap/iniparser.h, modules/ldap/ld_session.c,
	  modules/ldap/ld_session.h, modules/ldap/ldap_api_fn.c,
	  modules/ldap/ldap_api_fn.h, modules/ldap/ldap_connect.c,
	  modules/ldap/ldap_connect.h, modules/ldap/ldap_escape.c,
	  modules/ldap/ldap_escape.h, modules/ldap/ldap_exp_fn.c,
	  modules/ldap/ldap_exp_fn.h, modules/ldap/ldap_mod.c:
	  - imported LDAP module submitted by Christian Schlatter, University of
	  North Carolina, #1748544
	  - formatted to aling to 80char long line
	  - removed ldap_mod.h - useless and was containing an extern to SL API
	  which is no longer used
	  - "ldap.h" => <ldap.h> to look it up directly in standard include path
	  rather than local folder
	  - README was generated
	  - Christian Schlatter to be the maintainer of the module

2007-07-16 09:02  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2452] doc/dbschema/xsl/mysql.xsl:
	  - use 'ENGINE' instead of 'TYPE' to specify the mysql database engine,
	  Type is deprecated. Suggested from Mircea Amarascu.

2007-07-13 14:27  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2451] scripts/openserctl.dbtext, scripts/openserctlrc,
	  scripts/openserdbctl, scripts/openserdbctl.base,
	  scripts/openserdbctl.dbtext:
	  - improve the help output of openserdbctl
	  - add dbtext path template to openserctlrc
	  - add DBTEXT_PATH evaluation to openserctl.base and openserdbctl.base
	  - database for dbtext uses now the DBTEXT_PATH variable, if present
	  but its also possible to specify the path on the command line

2007-07-13 11:11  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2450] modules/options/mod_options.c:
	  - make sure R-URI is parsed before checking user length (reported by
	  Inaki Baz, #1753368)

2007-07-13 10:05  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2448] modules/textops/README, modules/textops/doc/textops_user.sgml:
	  - added missing ')' (closes #1730516)

2007-07-13 09:47  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2447] modules/auth_db/README, modules/auth_db/authorize.c,
	  modules/auth_db/doc/auth_db_user.sgml, modules/auth_db/rfc2617.c,
	  modules/auth_db/rfc2617.h:
	  - update to use latest auth API

2007-07-13 09:46  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2446] modules/auth/README, modules/auth/api.c, modules/auth/api.h,
	  modules/auth/auth_mod.c, modules/auth/doc/auth_user.sgml,
	  modules/auth/nonce.c, modules/auth/rfc2617.c, modules/auth/rfc2617.h:
	  - API extended with MD5 functions to avoid duplicate of rfc2617.{c,h}
	  in many auth modules
	  - rfc2617.{c,h} moved from auth_db here
	  - support to do authentication using username and password from any
	  kind of pseudo-variable (obsoletes the auth_avp module submitted by
	  Carsten Bock, #1689057)
	  - doc updated
	  - devel version increased

2007-07-13 08:20  Bastian Friedrich, <bastian dot friedrich at collax dot com>

	* [r2445] modules/perl/openserxs.xs:
	  Better fix for the memory leaks produced by the AVP functions (get,
	  add, destroy). No mem allocation is required at all.

2007-07-12 14:23  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2444] main.c:
	  - better cleanup at shutdown for debug variables

2007-07-12 13:10  Bastian Friedrich, <bastian dot friedrich at collax dot com>

	* [r2443] modules/perl/openserxs.xs:
	  This patch should fix the mem leak problems reported by Mik Cheez
	  2007-07-11.
	  Memory allocated for AVP manipulation was not freed correctly.

2007-07-12 09:46  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2442] Makefile.defs, cfg.y, dprint.h, main.c, mem/memtest.c,
	  mi/mi_core.c:
	  - added support for configurable debug level at runtime.
	  Based on a patch from Anatoly Pidruchny - patch id 1728481.
	  - adds-on:
	  - the feature can be disabled at compile time
	  - MI command to inspect and change the "debug" value
	  - some cleanup in the dprint.h stuff
	  - hold-back:
	  - dprint extension for printing time and level.

2007-07-11 15:50  Elena-Ramona Modroiu, <ramona at voice-system dot ro>

	* [r2441] modules/pdt/README, modules/pdt/doc/pdt_fifo_add.sh,
	  modules/pdt/doc/pdt_user.sgml, modules/pdt/domains.c,
	  modules/pdt/domains.h, modules/pdt/pdt.c, modules/pdt/pdtree.c,
	  modules/pdt/pdtree.h:
	  - applied patch from Morgan Gilroy, closes item 1750487i
	  - ability to define the set of characters allowed in prefix
	  - todo: call of strpos should be reviewed a bit
	  - pdt routing tree moved in shared memory
	  - support to reload from database via MI command
	  - sync_time and clean_time parameters removed, no longer needed in the
	  new architecture
	  - readme updated
	  - NOTE: need to be tested

2007-07-11 11:10  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2439] scripts/openserdbctl.dbtext, scripts/sc.dbtext:
	  - delete now unneeded sc.dbtext script
	  - remove wrong svn property from openserdbctl.dbtext

2007-07-11 09:43  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2438] db/schema/dialog.xml:
	  - updated the dialog table format (according to the extention of the
	  dialog structure).

2007-07-11 09:43  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2437] modules/dbtext/README, modules/dbtext/dbt_file.c,
	  modules/dbtext/dbt_lib.c, modules/dbtext/dbt_lib.h,
	  modules/dbtext/dbt_tb.c, modules/dbtext/dbtext.c,
	  modules/dbtext/dbtext.h, modules/dbtext/doc/dbtext_user.sgml:
	  - support for non-caching mode (started from patch by Herman
	  Sheremetyev)
	  - default: non-caching (old behavior)
	  - still, at shutdown, what is in cache is dumped
	  - requires extensive testing in non-caching mode

2007-07-11 09:11  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2436] modules/tm/t_fwd.c, modules/tm/t_reply.c:
	  - aligned to RFC3261 requirements - upon reception of a 6xx response,
	  a proxy SHOULD cancel all forked dialogs and send back the 6xx as the
	  final response to the upstream UA.
	  Reported by Christian Schlatter <cs@unc.edu>
	  Close bug report 1750761.
	  To be tested and then backported to 1.2.x

2007-07-11 07:14  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2434] modules/dialog/dlg_cb.c:
	  - fixed misleading comment

2007-07-10 13:44  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2432] modules/dialog/README, modules/dialog/doc/dialog_faq.sgml,
	  modules/dialog/doc/dialog_user.sgml:
	  - "use_tight_matching" parameter removed. It is now mandatory and not
	  configurable, so by default the tight maching is now performed when
	  using DID matching

2007-07-10 13:38  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2431] modules/dialog/dialog.c, modules/dialog/dlg_handlers.c,
	  modules/dialog/dlg_handlers.h, modules/dialog/dlg_hash.c,
	  modules/dialog/dlg_hash.h:
	  - applied patch Id 1748681 for optimizing dialog matching when no DID
	  is used (by Tavis Paquette <tavis@galaxytelecom.net> and Peter Baer
	  <pbaer@galaxytelecom.net>)
	  - enhanced the above patch to reuse the direction detection in order
	  to avoid the detection each time we need to know the direction.
	  - better integration with the last changes (support for DB and
	  extended info)
	  - fixed a bug in list_dlg MI command when printing dialogs in early
	  state.
	  Heavy testing is required! :)

2007-07-10 11:39  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2430] Makefile:
	  - add openserctl.dbtext to install-bin target

2007-07-10 10:54  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2428] scripts/openserctl, scripts/openserctl.base,
	  scripts/openserctl.dbtext, scripts/openserctl.sqlbase:
	  - integrate the dbtext integration patch (1707527) from Ovidiu Sas
	  - use the 'standard' output methods (e.g. mecho) consistent in
	  openserctl
	  - some spelling fixes and small output improvements in openserctl
	  - add missing usage_domain to provide help for domain() function
	  - move some usage function moved by mistake from base to sqlbase file
	  again

2007-07-10 10:41  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2426] scripts/openserctl.fifo:
	  - fix fifo error messages, escape the double quotes

2007-07-09 13:34  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2425] modules/dialog/README, modules/dialog/dialog.c,
	  modules/dialog/dlg_db_handler.c, modules/dialog/dlg_db_handler.h,
	  modules/dialog/dlg_handlers.c, modules/dialog/dlg_hash.c,
	  modules/dialog/dlg_hash.h, modules/dialog/doc/dialog_user.sgml:
	  - dialog module saves more information (like caller/callee contact, rr
	  set, cseq, etc). Now all the information for building an in-dialog
          request is available

2007-07-09 13:33  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2424] modules/presence/subscribe.c, modules/pua/send_subscribe.c,
	  parser/parse_rr.c, parser/parse_rr.h:
	  - new parameter for print_rr_body to allow to skip a number of RR URIs
	  and to return the number of printed URIs.

2007-07-09 07:25  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2422] modules/acc/acc.c, modules/acc/acc_mod.c:
	  - fixed radius compile error
	  Reported by Norman Brandinger <norm@goes.com>
	  - fixed diameter compile error

2007-07-06 18:17  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2420] route.c, transformations.c:
	  - fix applying some operations to NULL pseudo-variables

2007-07-06 11:20  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2417] scripts/openserctl:
	  - fixed missing paramters for the initernal monitoting function in
	  openserctl tool
	  Closes bug report 1746954

2007-07-06 07:45  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2414] msg_translator.c:
	  - fixed set_advertised_port ; set_advertised_port set address instead
	  of port and it was not working as expected (Via-hf worked correctly,
          but the path-hf was broken).
	  Credits go to Marcus Hunger <hunger@sipgate.de>

2007-07-05 16:38  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2413] modules/acc/acc.c, modules/acc/acc_extra.c,
	  modules/acc/acc_extra.h:
	  - fixed bug in multi-leg accounting when the iteration through the
	  legs was exited with error.
	  Reported by Antonio Higuera <ahiguerat@gmail.com> ; also many thanks
	  to him for the support in debugging the crash.
	  To be backported to 1.2, but after some testing period.

2007-07-05 10:04  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2412] scripts/openserctl.sqlbase:
	  - commit missing changes for sqlbase file from previous revision

2007-07-05 10:03  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2411] scripts/openserctl.base:
	  - preparation for dbtext integration into openserctl, move common
	  table names for SQL based databases and dbtext into openserctl.base

2007-07-05 09:39  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2410] scripts/openserctl.base, scripts/openserctl.sqlbase:
	  - preparation for dbtext integration into openserctl, move common
	  usage report functions from openserctl.sqlbase to openserctl.base

2007-07-05 09:27  Anca Vamanu, <anca at voice-system dot ro>

	* [r2409] modules/pua/add_events.c:
	  - included the pidf.h header file (reported by Juha Heinanen
	  <jh@tutpro.com>)

2007-07-05 08:41  Anca Vamanu, <anca at voice-system dot ro>

	* [r2408] modules/presence/subscribe.c:
	  - corrected subscription state when sending Notify for a subscription
	  with expires= 0. (reported by Michel de Boer
	  <michel@twinklephone.com>)

2007-07-04 18:29  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2407] cfg.lex, cfg.y, globals.h, main.c, pt.h, unixsock_server.c,
	  unixsock_server.h:
	  - removed old unixsock core implementation

2007-07-04 18:28  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2406] modules/domain/domain_mod.c, modules/domain/unixsock.c,
	  modules/domain/unixsock.h, modules/pa/pa_mod.c, modules/pa/unixsock.c,
	  modules/pa/unixsock.h, modules/permissions/address.c,
	  modules/permissions/trusted.c, modules/permissions/unixsock.c,
	  modules/permissions/unixsock.h, modules/tm/h_table.c,
	  modules/tm/t_cancel.c, modules/tm/t_reply.c, modules/tm/tm.c,
	  modules/tm/uac_unixsock.c, modules/tm/uac_unixsock.h,
	  modules/usrloc/ul_mod.c, modules/usrloc/ul_unixsock.c,
	  modules/usrloc/ul_unixsock.h:
	  - removed old unixsock implementation

2007-07-04 14:04  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2405] db/schema/Makefile, doc/dbschema/xsl/dbtext.xsl,
	  scripts/openserdbctl.dbtext:
	  - fix dbtext stylesheet to generate version data for tables
	  - add small hack to db/schema Makefile to copy the version number to
	  the version file
	  - remove version number insertion from openserdbctl.dbtext
	  - there is now all table version data present in this table, even if
	  some tables are not used

2007-07-04 13:58  Anca Vamanu, <anca at voice-system dot ro>

	* [r2404] modules/pua_mi/README, modules/pua_mi/doc/pua_mi_user.sgml,
	  modules/pua_mi/mi_func.c:
	  - enabled support for PUA negative expires commands- used for time
	  unlimited requests
	  - update documentation

2007-07-04 13:57  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2403] modules/dialog/dlg_db_handler.c,
	  modules/dialog/dlg_handlers.c:
	  - fixed couple of bugs in the DB support:
	  update on state transition due ACK, replace bogus flag CHANGED with
	  NEW, initialize properly the keys used for update.
	  Credits go to Ancuta Onofrei <ancuta@voice-system.ro>

2007-07-04 12:55  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2402] Makefile.rules, db/schema/Makefile:
	  - change dbschema-docbook-clean, use a own target, this is much more
	  efficient
	  - suppress the output of the 'rm' in root and db/schema Makefile

2007-07-04 12:38  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2401] ., doc, modules/mi_datagram:
	  - extend svn:ignore properties
	  add 'debian' in root dir, add 'database' in doc dir, add compiled
	  files in mi_datagram module

2007-07-04 11:59  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2400] doc/dbschema/catalog.xml:
	  - fix catalog.xml file to match the changed DOCTYPE URL from commit
	  2395

2007-07-04 11:33  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2399] Makefile, Makefile.rules, db/schema/Makefile:
	  - add dbschema-docbook target and subtargets for txt, html and pdf
	  documentation
	  generation from the xml db schema
	  - add cleanup for this files to docbook-clean target
	  - activate docbook generation in db/schema Makefile
	  - at the moment for each group of tables "eg. presence" a own document
	  will be created, this needs to be changed, and is on my TODO list..

2007-07-04 11:25  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2398] doc/dbschema/dbschema2docbook.xsl,
	  doc/dbschema/xsl/dbschema2docbook.xsl, doc/dbschema/xsl/docbook.xsl,
	  doc/dbschema/xsl/sql.xsl:
	  - move dbschema2docbook to xsl dir
	  - fix and extend docbook generation
	  - some minor cleanups in sql.xsl

2007-07-04 11:23  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2397] db/schema/aliases.xml, db/schema/domain.xml,
	  db/schema/domainpolicy.xml, db/schema/grp.xml, db/schema/trusted.xml,
	  db/schema/usr_preferences.xml:
	  - make chars in db schema documentation compatible with docbook
	  - add some documentation

2007-07-04 10:06  Anca Vamanu, <anca at voice-system dot ro>

	* [r2396] modules/presence/README,
	  modules/presence/doc/presence_devel.sgml, modules/presence/publish.c,
	  modules/presence/subscribe.c, modules/presence/utils_func.c,
	  modules/presence/utils_func.h:
	  - fixed malformed 489 Bad Event reply , added Allow-Events header.
	  - updated documentation

2007-07-04 09:05  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2395] db/schema/acc.xml, db/schema/address.xml,
	  db/schema/aliases.xml, db/schema/cpl.xml, db/schema/dbaliases.xml,
	  db/schema/dialog.xml, db/schema/domain.xml,
	  db/schema/domainpolicy.xml, db/schema/entities.xml, db/schema/grp.xml,
	  db/schema/gw.xml, db/schema/gw_grp.xml, db/schema/imc_members.xml,
	  db/schema/imc_rooms.xml, db/schema/lcr.xml, db/schema/location.xml,
	  db/schema/missed_calls.xml, db/schema/openser-acc.xml,
	  db/schema/openser-alias_db.xml, db/schema/openser-auth_db.xml,
	  db/schema/openser-avpops.xml, db/schema/openser-cpl.xml,
	  db/schema/openser-dialog.xml, db/schema/openser-domain.xml,
	  db/schema/openser-domainpolicy.xml, db/schema/openser-extensions.xml,
	  db/schema/openser-group.xml, db/schema/openser-imc.xml,
	  db/schema/openser-lcr.xml, db/schema/openser-msilo.xml,
	  db/schema/openser-pdt.xml, db/schema/openser-permissions.xml,
	  db/schema/openser-presence.xml, db/schema/openser-registrar.xml,
	  db/schema/openser-serweb.xml, db/schema/openser-siptrace.xml,
	  db/schema/openser-speeddial.xml, db/schema/openser-standard.xml,
	  db/schema/openser-uri_db.xml, db/schema/openser-usrloc.xml,
	  db/schema/pdt.xml, db/schema/pr_active_watchers.xml,
	  db/schema/pr_presentity.xml, db/schema/pr_pua.xml,
	  db/schema/pr_watchers.xml, db/schema/pr_xcap_xml.xml,
	  db/schema/re_grp.xml, db/schema/silo.xml, db/schema/sip_trace.xml,
	  db/schema/speed_dial.xml, db/schema/subscriber.xml,
	  db/schema/sw_active_sessions.xml, db/schema/sw_admin_privileges.xml,
	  db/schema/sw_pending.xml, db/schema/sw_phonebook.xml,
	  db/schema/sw_server_monitoring.xml,
	  db/schema/sw_server_monitoring_agg.xml,
	  db/schema/sw_usr_preferences_type.xml, db/schema/template.xml,
	  db/schema/trusted.xml, db/schema/uri.xml,
	  db/schema/usr_preferences.xml, db/schema/version.xml:
	  - updated the DOCTYPE url to a working location.
	  DTD file now present at
	  http://openser.org/pub/openser/dbschema/dtd/1.0/dbschema.dtd

2007-07-04 08:19  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2394] db/schema/Makefile, db/schema/dialog.xml,
	  db/schema/openser-dialog.xml:
	  - dialog table added to the openser schema

2007-07-04 07:37  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2393] modules/dialog/README, modules/dialog/doc/dialog_user.sgml:
	  - added documentation for the new module parameters related to DB
	  storage.

2007-07-04 06:33  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2392] modules/dialog/dialog.c, modules/dialog/dlg_db_handler.c,
	  modules/dialog/dlg_db_handler.h, modules/dialog/dlg_handlers.c,
	  modules/dialog/dlg_hash.c, modules/dialog/dlg_hash.h:
	  - added support for dialog persistence across reboot - dialog
	  information is saved in databased and can be restored at startup.
	  There are 2 db modes:
	  - realtime (all updates are done in realtime)
	  - delayed (changes are pushed to db on a timer routin)
	  Credits go to Ancuta Onofrei <ancuta@voice-system.ro>
	  (Docs will follow up in a second commit)

2007-07-03 16:11  Anca Vamanu, <anca at voice-system dot ro>

	* [r2391] modules/presence_xml/pidf.c, modules/presence_xml/pidf.h,
	  modules/presence_xml/presence_xml.c, modules/pua/add_events.c,
	  modules/pua/pidf.c, modules/pua/pidf.h, modules/pua/pua.c,
	  modules/pua/pua.h, modules/pua/pua_bind.c,
	  modules/pua_xmpp/pua_xmpp.h:
	  - removed pua modules dependencies to presence_xml module, inserted in
	  the last commit; added and exported the xml functions from pua module

2007-07-03 13:23  Anca Vamanu, <anca at voice-system dot ro>

	* [r2390] modules/presence_xml/pidf.c, modules/presence_xml/pidf.h,
	  modules/presence_xml/presence_xml.c, modules/pua/add_events.c,
	  modules/pua/pua.c, modules/pua/pua.h, modules/pua_bla/notify.c,
	  modules/pua_xmpp/pua_xmpp.c, modules/pua_xmpp/pua_xmpp.h,
	  modules/pua_xmpp/request_winfo.c, modules/pua_xmpp/simple2xmpp.c,
	  modules/pua_xmpp/xmpp2simple.c:
	  - removed duplicate code for xml parsing functions based on libxml api
	  - by exporting a small library from the presence_xml module and
	  importing the necessary functions in the other ones.

2007-07-03 09:25  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2389] modules/tm/README, modules/tm/doc/tm_user.sgml:
	  - more details added to docs

2007-07-03 08:55  Anca Vamanu, <anca at voice-system dot ro>

	* [r2388] modules/pua_bla/notify.c, modules/pua_bla/pua_bla.c,
	  modules/pua_bla/pua_bla.h:
	  - removed sending subsequent Publish message after one with state=
	  terminate to avoid synchronization problems

2007-07-03 07:25  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2387] modules/mi_datagram/README,
	  modules/mi_datagram/doc/mi_datagram_user.sgml:
	  - fixed (again) the description of the mi datagram syntax

2007-07-02 16:03  Anca Vamanu, <anca at voice-system dot ro>

	* [r2386] modules/presence/notify.c:
	  - corrected free function to proper handle the winfo body

2007-07-02 13:40  Anca Vamanu, <anca at voice-system dot ro>

	* [r2385] modules/presence/notify.c, modules/presence_mwi/add_events.c:
	  - handled the special case when there are no actions performed on the
	  info take from database before sending Notify message.
	  - removed the free_body function from presence_mwi
	  (reported by Juha Heinanen <jh@tutpro.com>)

2007-07-02 11:13  Anca Vamanu, <anca at voice-system dot ro>

	* [r2384] modules/presence/event_list.c, modules/presence/event_list.h,
	  modules/presence/notify.c, modules/presence/subscribe.c,
	  modules/presence_mwi/add_events.c, modules/presence_xml/add_events.c,
	  modules/presence_xml/notify_body.c,
	  modules/presence_xml/notify_body.h:
	  - Solved the problem with the free function call, reported by Juha
	  Heinanen - added a new field to event structure - 'free_body'- in
	  which the function to be used when freing body should be registered;
	  registered the specific functions from presence_xml and presence_mwi.
	  - Fixed not sending Notify messages when unsubscribing - reported by
	  Michel de Boer <michel@twinklephone.com>.

2007-06-30 12:45  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2383] modules/mi_datagram/datagram_fnc.c:
	  -disabled some check for sockets unix (strange behaviour reported).

2007-06-29 17:43  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2381] modules/tm/README, modules/tm/doc/tm_user.sgml:
	  - typo fixed in documenting the MI t_reply function
	  Reported by Juha Heinanen <jh@tutpro.com>

2007-06-29 17:40  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2380] modules/mi_datagram/README,
	  modules/mi_datagram/doc/mi_datagram_user.sgml:
	  -more exact description of the syntax of the requests
	  Reported by Juha Heinanen <jh@tutpro.com>

2007-06-27 18:45  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2379] modules/mi_datagram, modules/mi_datagram/Makefile,
	  modules/mi_datagram/README, modules/mi_datagram/datagram_fnc.c,
	  modules/mi_datagram/datagram_fnc.h, modules/mi_datagram/doc,
	  modules/mi_datagram/doc/mi_datagram.sgml,
	  modules/mi_datagram/doc/mi_datagram_devel.sgml,
	  modules/mi_datagram/doc/mi_datagram_faq.sgml,
	  modules/mi_datagram/doc/mi_datagram_user.sgml,
	  modules/mi_datagram/mi_datagram.c, modules/mi_datagram/mi_datagram.h,
	  modules/mi_datagram/mi_datagram_parser.c,
	  modules/mi_datagram/mi_datagram_parser.h,
	  modules/mi_datagram/mi_datagram_writer.c,
	  modules/mi_datagram/mi_datagram_writer.h:
	  - new module: DataGram transport implementation for MI.
	  Modules allow the usage of UNIX and network sockets.
	  Its obseletes the core UNIX socket server.
	  Credits go to Ancuta Onofrei <ancuta@voice-system.ro>

2007-06-25 06:36  Klaus Darilion, <klaus dot mailinglists at pernau dot at>

	* [r2377] modules/textops/README, modules/textops/doc/textops_user.sgml:
	  - added docs (copy-paste from mailing list)

2007-06-22 15:36  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2375] transformations.c:
	  - fix local caching for handling URI transformation

2007-06-22 11:03  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2374] modules/tm/t_msgbuilder.c, modules/tm/t_msgbuilder.h:
	  - local built requests (ACK and CANCEL) include the Max-Forwards
	  header with the default value of 70. According to RFC, the presence
	  of this header is mandatory.
	  Still to fix: requests generated vua t_uac() must have a MaxFwd
	  header.

2007-06-22 10:46  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2371] modules/textops/textops.c:
	  - fixed mem leak in private mem. subst_user_f() does not release the
	  mem chunk with the new user after calling subst_str(). 
          Important is that action SET_USER_T makes a copy of the chunk!

2007-06-22 03:09  Di-Shi Sun, <di-shi at transnexus dot com>

	* [r2370] modules/osp/orig_transaction.c:
	  Fixed [1741258] bug reported for Scalable SIP server project in
	  SourceForge. Please check OpenSER tracker for details.

2007-06-19 13:40  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2368] version.h:
	  - applied patch from Klaus Darilion for printing QM_JOIN_FREE with
	  "openser -V"
	  - closes #1722648

2007-06-19 12:42  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2367] Makefile.defs, modules/mysql/dbase.c, modules/mysql/my_con.c:
	  - applied updated patch from Tais M. Hansen for allowing MySQL stored
	  procedures and multiple statements calls from OpenSER
	  - shall free now also the multiple results in case of errors inside
	  openser within db_mysql_store_result()
	  - closes #1725374 and #1618322
	  - dev version increased

2007-06-18 10:41  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2366] db/schema/pr_active_watchers.xml, db/schema/pr_presentity.xml:
	  - fix wrong column names in presentity and active_watchers table
	  - reported from Dave Waiting

2007-06-18 09:20  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2365] INSTALL:
	  s/openserrc/openserctlrc

2007-06-18 08:58  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2364] INSTALL:
	  Some spelling fixes and update for new db scripts in INSTALL

2007-06-13 16:16  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2362] modules/mysql/dbase.c:
	  - add a null pointer check to db_last_inserted_id in mysql

2007-06-13 13:15  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2361] Makefile, db/schema/Makefile, scripts/openserdbctl,
	  scripts/openserdbctl.base, scripts/openserdbctl.dbtext,
	  scripts/openserdbctl.mysql, scripts/openserdbctl.pgsql,
	  scripts/textdb.sh:
	  - change dir for dbtext to 'openser', more consistent with other DBs
	  - integrate textdb.sh into the common infrastructure, use the
	  generated tables
	  - the version data is missing, this needs an update for the dbtext XSL
	  scripts
	  - add serweb table creation, admin data generation is missing
	  - add reinit support for dbtext
	  - backup, restore and copy not implemented and blocked for dbtext
	  - you can specify now a optional dbname for operations, needed for
	  dbtext
	  - fix db SQL installation, install as non-executable in Makefile
	  - change Makefile to install openserdbctl.dbtext
	  - fix INSTALL_TOUCH in Makefile for postgresql and mysql

2007-06-13 10:48  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2360] db/schema/pr_pua.xml:
	  - fix wrong pua column name, s/pres_user/pres_uri

2007-06-12 13:33  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2359] db/schema/aliases.xml, db/schema/location.xml:
	  fix error in usrloc and registrar table, s/useragent/user_agent

2007-06-12 12:39  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2358] Makefile, packaging/debian-sarge/rules,
	  packaging/debian/rules, scripts/openserdbctl,
	  scripts/openserdbctl.mysql, scripts/openserdbctl.pgsql:
	  - remove double resource file inclusion from openserdbctl
	  - remove svn:executable property from openserdbctl.pg and mysql files
	  - add openserdbctl, mysql and posgres files to Makefile installation
	  process
	  - remove now unnecessary executable name for fix openser_mysql and
	  openser_pgsl in debian package files

2007-06-12 11:38  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2357] scripts/openserctl, scripts/openserdbctl.pgsql:
	  - remove /bin/sh shebang from sourced openserdbctl.psql file
	  - change /bin/sh shebang from openserctl to /bin/bash, as the 'color'
	  user output don't work with sh

2007-06-12 11:36  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2356] scripts/mysqldb.sh, scripts/openserctlrc,
	  scripts/openserdbctl, scripts/openserdbctl.base,
	  scripts/openserdbctl.mysql, scripts/openserdbctl.pgsql,
	  scripts/postgresqldb.sh:
	  - more database setup script work
	  - add now generic file 'openserdbctl' for all database related tasks
	  - move generic functions to this file
	  - rename mysqldb.sh and postgresqldb.sh to openserdbctl.mysql and
	  openserdbctl.psql
	  - use 'color' info functions for user informations like the openserctl
	  tool
	  - remove unused mysqldb.sh backup function
	  - make create user for postgres more error tolerant, needed for db
	  copy
	  - tested with mysql and postgresql for create, drop, reinit, backup,
	  restore and copy
	  - backup command needs now a filename, backup to stdout interfer with
	  command prompting. This makes more sense as restore also wants a
          filename.

2007-06-12 08:06  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2355] db/schema/address.xml, db/schema/openser-lcr.xml,
	  db/schema/openser-permissions.xml:
	  - address table belongs to the permissions module, not to lrc
	  - Reported from Juha Heinanen

2007-06-11 14:08  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2354] db/db_ut.c:
	  -unify logging messages in db/db_ut.h, use 'db_' prefix in all cases

2007-06-11 13:57  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2353] db/db_ut.c, db/db_ut.h, modules/mysql/dbase.c,
	  modules/mysql/val.c, modules/mysql/val.h, modules/postgres/dbase.c,
	  modules/unixodbc/dbase.c, modules/unixodbc/val.c,
	  modules/unixodbc/val.h:
	  - move customized print_* functions from db-modules to db core
	  - use a function pointer for the customized val2str function from the
	  modules that gets used in the common function in db core
	  - Thanks to Victor Gamov for the patch

2007-06-11 13:50  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2352] db/schema/Makefile, db/schema/openser-extensions.xml,
	  db/schema/openser-standard.xml:
	  - move extension point to openser-extensions.xml file
	  - add this file to Makefile
	  - remove extra.xml include from openser-standard.xml

2007-06-11 13:07  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2351] modules/presence/notify.c:
	  - quick fix for presence crash due to free notify bodies in different
	  types of event (mwi -- reported by Juha Heinanen) 
          - needs more analysis

2007-06-11 12:02  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2350] doc/dbschema/xsl/sql.xsl:
	  - fix DEFAULT value generation for integers, ommit string quotes

2007-06-10 16:01  Juha Heinanen, <jh at tutpro dot com>

	* [r2349] packaging/debian/control:
	  * Included xsltproc in Debian build dependencies.

2007-06-08 17:24  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2348] modules/dispatcher/dispatch.c:
	  - fix for case of use_default and one address in set (patch by
	  Federico Cabiddu)

2007-06-08 12:53  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2343] parser/msg_parser.h:
	  fix misleading comment in parser sip_msg struct

2007-06-07 08:32  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2339] modules/dialog/dlg_cb.c, modules/dialog/dlg_cb.h,
	  modules/dialog/dlg_hash.c:
	  - fixed memory leak in dialog modules - the per dialog callbacks were
	  not properly destroied when the dialog was freed. The mem leak
          appeared only when the sst module was used (only module using dialog
          cb).
	  Credits go to Ovidiu Sas.
	  Closes bug 1732329.

2007-06-06 15:07  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2337] modules/cpl-c/cpl_run.c:
	  - fixed the extraction of the reason string in reject node.
	  Credits go to Helmut Kuper <helmut.kuper@ewetel.de>

2007-06-06 08:42  Klaus Darilion, <klaus dot mailinglists at pernau dot at>

	* [r2336] modules/textops/textops.c:
	  - added code documentation

2007-06-05 15:14  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2334] modules/avp_radius/README,
	  modules/avp_radius/doc/avp_radius.sgml:
	  - fixed name of the module (reported by Bastian Friedrich)

2007-06-04 13:54  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2331] Makefile.defs, parser/parse_allow.c:
	  - fixed mem leak in case of broken Allow header
	  - dev version increased

2007-06-03 21:32  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2329] blacklists.h, forward.c, modules/tm/t_fwd.c:
	  - fixed bug in disabling DNS-based failover via the 0x04 t_relay()
	  flag
	  Reported by Andreas Granig

2007-06-02 12:10  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2327] modules/dialog/dlg_hash.c:
	  - fixed deadlock in case of error during MI command.
	  Credits go to Rubel Ahmed <bd.rubel@gmail.com>

2007-06-01 15:11  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2326] scripts:
	  add svn:ignore property for generated db dirs to scripts directory

2007-06-01 14:06  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2325] Makefile:
	  - remove forgotten debug command from Makefile

2007-06-01 13:58  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2324] Makefile, Makefile.defs, scripts/mysqldb.sh,
	  scripts/openserctlrc, scripts/openserdbctl.base,
	  scripts/postgresqldb.sh, scripts/textdb.sh:
	  - further unification of database setup scripts
	  - move some common variable definitions and functions out of mysql,
	  dbtext and postgresql into openserdbctl.base file
	  - change database setup scripts to use the variable definitions from
	  openserctlrc, move some variable definition to this file
	  - add installation of openserdbctl.base to Makefile
	  - add some sed hacks to Makefile to fix paths during installation
	  - fix some comments in Makefile.defs

2007-05-31 14:36  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2323] modules/cpl-c/cpl.c, modules/cpl-c/cpl_db.c:
	  - add table version check to cpl-c module init to sync with new
	  database schema
	  - make error messages in init and exit a little bit more informative

2007-05-31 14:18  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2321] modules/permissions/mi.c:
	  - fixed bug in improper access to the mem cache: if the
	  permissions-module is loaded but not properly configured, a mi call
          to 'trusted_dump' causes a segfault.
	  Credits go to Marcus Hunger <hunger@sipgate.de>

2007-05-30 12:56  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2320] scripts/mysqldb.sh, scripts/postgresqldb.sh:
	  - change postgresqldb.sh script to use the generated SQL from the xml
	  schema
	  - database creation tested with postgresql 8.2
	  - move one error handler in mysqldb.sh inside the if case

2007-05-30 12:14  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2318] db/schema/acc.xml, db/schema/address.xml,
	  db/schema/aliases.xml, db/schema/cpl.xml, db/schema/dbaliases.xml,
	  db/schema/domain.xml, db/schema/domainpolicy.xml,
	  db/schema/entities.xml, db/schema/grp.xml, db/schema/gw.xml,
	  db/schema/gw_grp.xml, db/schema/imc_members.xml,
	  db/schema/imc_rooms.xml, db/schema/lcr.xml, db/schema/location.xml,
	  db/schema/missed_calls.xml, db/schema/pdt.xml,
	  db/schema/pr_active_watchers.xml, db/schema/pr_presentity.xml,
	  db/schema/pr_pua.xml, db/schema/pr_watchers.xml,
	  db/schema/pr_xcap_xml.xml, db/schema/re_grp.xml, db/schema/silo.xml,
	  db/schema/sip_trace.xml, db/schema/speed_dial.xml,
	  db/schema/subscriber.xml, db/schema/sw_active_sessions.xml,
	  db/schema/sw_pending.xml, db/schema/sw_phonebook.xml,
	  db/schema/sw_server_monitoring_agg.xml,
	  db/schema/sw_usr_preferences_type.xml, db/schema/template.xml,
	  db/schema/trusted.xml, db/schema/uri.xml,
	  db/schema/usr_preferences.xml:
	  - update xml database table sources
	  - use SERIAL PRIMARY KEY for postgresql unique ids
	  - use binary for xcap_xml and presentity body column
	  - move primary key definition for mysql to column definition
	  - update template
	  - add some missing index names, fix misspellings and double names for
	  indexes

2007-05-30 12:07  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2317] doc/dbschema/xsl/mysql.xsl, doc/dbschema/xsl/postgres.xsl,
	  doc/dbschema/xsl/sql.xsl:
	  - add more comments to xsl stylesheets
	  - uncomment some code that is not needed currently
	  - add namespace definition to mysql.xsl
	  - add PRIMARY KEY for columns specification to mysql and postgres
	  - fix version table insert for postgres
	  - remove column.size for some postgres datatypes without length
	  definition
	  - fix table type insert for postgres
	  - add standalone case for PRIMARY INDEX creation for postgres

2007-05-30 11:15  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2316] blacklists.c:
	  - fixed bug in memory free (pkg was mixed with shm).
	  Reported by Papadopoulos Georgios <geop@altectelecoms.gr>

2007-05-30 10:52  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2313] modules/cpl-c/README, modules/cpl-c/doc/cpl-c_user.sgml:
	  - fixed typos in docs "cpl_c" -> "cpl-c"

2007-05-29 15:41  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2312] db/schema/Makefile, db/schema/openser-pdt.xml,
	  scripts/mysqldb.sh:
	  - add missing pdt table to schema definitions

2007-05-29 09:29  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2311] Makefile, scripts/mysqldb.sh:
	  - change mysqldb.sh script to use the generated SQL from the xml
	  schema
	  - add some 'sed' hacks to the Makefile to fix the data-dir path on
	  installing

2007-05-29 09:02  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2310] db/schema/pr_xcap_xml.xml:
	  use bytea instead of text for postgres xcap_xml table, bug 1684821

2007-05-26 18:38  jerocu

	* [r2309] packaging/freebsd/Makefile, packaging/freebsd/distinfo,
	  packaging/freebsd/files/patch-Makefile,
	  packaging/freebsd/files/patch-Makefile.defs:
	  - Update to OpenSER 1.2.1

2007-05-25 17:36  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2307] modules/nathelper/README,
	  modules/nathelper/doc/nathelper_user.sgml,
	  modules/nathelper/nathelper.c:
	  - start_recording-Function ported from the SER.
	  Credits for porting go to Carsten Bock <bock@basis-audionet.de>
	  Closes patch 1715721.

2007-05-25 17:01  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2306] modules/nathelper/README,
	  modules/nathelper/doc/nathelper_user.sgml,
	  modules/nathelper/nathelper.c:
	  - new flag in force_rtp_proxy() to force a symmetric rtp session.
	  Closes patch 1723561.

2007-05-25 16:34  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2303] msg_translator.c:
	  - part of the previous fix (dealing with 0 terminated messages)

2007-05-25 16:29  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2302] main.c, udp_server.c:
	  - removed the '\0'-end tests and they proved to be bogus - lately, new
	  type of content-types appears that may contain '\0', even on the last
	  position -> the tests were leading into bogus messages or false
	  alarms.
	  Reported by Tobias Lindgren <tobias.lindgren@ip-only.se>
	  Closes bug 1724291.

2007-05-25 15:12  Anca Vamanu, <anca at voice-system dot ro>

	* [r2300] modules/presence/notify.c:
	  - fixed missing Max-Forwards header in Notify messages (reported by
	  Mika Saari)

2007-05-25 15:02  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2299] scripts/sc.dbtext:
	  - fixed the missing cflags column in location and aliases tables. Also
	  set the right version number for these tables.
	  Credits go to Ovidiu Sas <sip.nslu@gmail.com>.
	  Closes bug 1724345.

2007-05-25 15:00  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2298] db/schema/address.xml, db/schema/cpl.xml,
	  db/schema/domainpolicy.xml, db/schema/gw.xml, db/schema/lcr.xml,
	  db/schema/pdt.xml, db/schema/pr_active_watchers.xml,
	  db/schema/pr_presentity.xml, db/schema/pr_watchers.xml,
	  db/schema/pr_xcap_xml.xml, db/schema/sip_trace.xml,
	  db/schema/speed_dial.xml, db/schema/trusted.xml,
	  db/schema/usr_preferences.xml:
	  unify all database id field to unsigned int

2007-05-25 14:53  Anca Vamanu, <anca at voice-system dot ro>

	* [r2296] modules/presence/event_list.h, modules/presence/notify.c,
	  modules/presence/presentity.c, modules/presence_xml/README,
	  modules/presence_xml/doc/presence_xml_user.sgml,
	  modules/presence_xml/notify_body.c,
	  modules/presence_xml/notify_body.h,
	  modules/presence_xml/presence_xml.c,
	  modules/presence_xml/presence_xml.h, modules/presence_xml/xcap_auth.c,
	  modules/presence_xml/xcap_auth.h:
	  - implemented the feature described in RFC 4827 - An Extensible Markup
	  Language (XML) Configuration Access Protocol (XCAP) Usage for
	  Manipulating Presence Document Contents
	  - it enables the possibility to set a permanent presence state that is
	  independent of activeness of any particular device (example of
	  situations in which it is useful: setting person-related state or when
	  in vacation/travelling)
	  - the usage is configurable through 'presence_xml' new module
	  parameter - 'pidf_manipulation' - if set to 1 the feature is enabled
	  - thanks to Mircea Amarascu from AG Projects for an initial version
	  and for help with the testing.

2007-05-25 14:43  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2295] modules/postgres/db_res.c, modules/postgres/db_val.c,
	  modules/postgres/dbase.h, modules/postgres/pg_con.h:
	  - fixed memory leak when using BLOB - the PQunescapeBytea() allocates
	  a new string for the result.
	  Credits go to Klaus Darilion <klaus.mailinglists@pernau.at>
	  Closes patch 1725396
	  - also some beautifications to make the code easyer to read.

2007-05-25 13:22  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2294] modules/postgres/Makefile:
	  - autodetection for postgres lib paths. Use "pg_config" if available;
	  if not, fall back to the predefined, known paths.
	  Based on a patch contributed by Christopher
	  (codestrom@users.sourceforge.net)
	  Changes: added the fallback mechanism if pg_config not present
	  removed "--libs" as it is only in PG 8.1 and at least on debian
	  returns libs not installed

2007-05-25 12:59  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2293] modules/mysql/Makefile:
	  - autodetection for libmysqlclient paths. Use "mysql_config" if
	  available; if not, fall back to the predefined, known paths.
	  Credits go to Tais M. Hansen.
	  Closes patch 1725371

2007-05-25 12:35  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2292] modules/mysql/dbase.c:
	  - fixed improper memory free (from mysql driver) when the conversion
	  to openser DB API failes.
	  Credits go to Kobi Eshun.
	  Closes bug 1721057.

2007-05-25 12:08  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2291] Makefile, Makefile.defs, Makefile.rules, db/schema/Makefile:
	  update build system:
	  - do not stops with a error anymore if some files are present in the
	  modules dir
	  - move textdb.sh installation to install-bin to prevent inclusion of
	  dbtext stuff into every debian package
	  - add define for '/usr/share/openser' for architecure independent data
	  files data-prefix, data-dir
	  - add make dbschema, make dbschema-clean for dbschema generation and
	  cleaning
	  - add mkdir target for data-dir
	  - install mysql and postgres sql code with mysqldb.sh and
	  postgresdb.sh, so that
	  this get included into the right debian packages
	  - fix wrong ROOT variable in make clean task in db/schema Makefile

2007-05-25 10:58  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2289] scripts/openserctl.fifo:
	  fix obselete error message in openserctl moni command

2007-05-24 16:22  Anca Vamanu, <anca at voice-system dot ro>

	* [r2287] modules/presence/subscribe.c:
	  - corrected a typing bug

2007-05-24 13:29  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2286] Makefile:
	  - revert change, dbtext is now again compiled by default
	  - install openser_textdb.sh also with 'make install-module-tools'

2007-05-24 13:13  Anca Vamanu, <anca at voice-system dot ro>

	* [r2285] modules/pua/pua.c, modules/pua/send_publish.c,
	  modules/pua/send_subscribe.c, modules/pua_xmpp/simple2xmpp.c,
	  modules/pua_xmpp/xmpp2simple.c:
	  - fixed some memory leack bugs and added some error return checks

2007-05-24 13:04  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2284] modules/postgres/db_val.c:
	  - remove custom time2str function for postgresql
	  - all DATETIME columns in postgresql are defined 'WITHOUT TIMEZONE',
	  so it makes no sense to generate output with a timezone value
	  - uses now the same db_time2str function from db_ut.h as the other
	  databases

2007-05-24 13:03  Anca Vamanu, <anca at voice-system dot ro>

	* [r2283] modules/presence/event_list.h, modules/presence/notify.c,
	  modules/presence_xml/notify_body.c,
	  modules/presence_xml/notify_body.h:
	  - fixed a memory leak when dealing with authorization ( reported by
	  Adrian Georgescu )

2007-05-23 14:18  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2275] modules/nathelper/nathelper.c:
	  -fixed the swapping of tags in "swap" mode in order to guarantee the
	  correct distribution of the relay interfaces.
	  So far this was not an issue as the orignal and sequential INVITEs
	  were all either "normal", either "swapped". The problem appeared only
          in a scenario with mixed INVITEs.
	  Credits go to Ovidiu Sas <sip.nslu@gmail.com>.

2007-05-23 13:46  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2274] doc/dbschema/xsl/postgres.xsl:
	  fix postgresql 'autoincrement' id sql generation

2007-05-23 12:58  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2273] scripts/mysqldb.sh:
	  extend error reporting for mysqldb.sh copy operation

2007-05-23 12:13  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2272] scripts/mysqldb.sh:
	  add svn:executable property to mysqldb.sh script

2007-05-23 11:10  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2271] Makefile:
	  - add new target 'dbschema' to Makefile to create the database schema
	  files
	  - exclude temporary files '*.~' from package creation in tar target

2007-05-23 11:05  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2270] Makefile:
	  - add dbtext setup script to make modules-install-tools target in
	  Makefile
	  - dbtext is not compiled and installed by default anymore like other
	  databases

2007-05-22 16:55  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2269] modules/msilo/msilo.c:
	  - fallback to orig uri when no parameter is given and no new uri is
	  set

2007-05-22 14:34  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2266] modules/dbtext/dbt_lib.c, modules/dbtext/dbt_lib.h:
	  - dbt_db_del_table() not in use -- commented in #if 0 - discovered by
	  report of Yan Lin of poosible deadlock inside

2007-05-22 11:19  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2262] mi/attr.c:
	  - fix small memory leak in mi/attr.c:del_mi_attr_list()
	  Patch provided by Markus Hunger

2007-05-22 11:01  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2261] db, mem, mi, modules, modules/acc, modules/acc/etc,
	  modules/alias_db, modules/auth, modules/auth_db,
	  modules/auth_diameter, modules/auth_radius, modules/avp_radius,
	  modules/avpops, modules/cfgutils, modules/cpl-c, modules/dbtext,
	  modules/dialog, modules/dispatcher, modules/diversion, modules/domain,
	  modules/domainpolicy, modules/enum, modules/exec, modules/flatstore,
	  modules/gflags, modules/group, modules/group_radius, modules/imc,
	  modules/jabber, modules/lcr, modules/mangler, modules/maxfwd,
	  modules/mediaproxy, modules/mi_fifo, modules/mi_xmlrpc, modules/msilo,
	  modules/mysql, modules/nathelper, modules/options, modules/osp,
	  modules/osp/etc, modules/pa, modules/path, modules/pdt, modules/perl,
	  modules/perlvdb, modules/permissions, modules/pike, modules/postgres,
	  modules/presence, modules/presence_mwi, modules/presence_xml,
	  modules/pua, modules/pua_bla, modules/pua_mi, modules/pua_usrloc,
	  modules/pua_xmpp, modules/registrar, modules/rr, modules/seas,
	  modules/siptrace, modules/sl, modules/sms, modules/snmpstats,
	  modules/snmpstats/mibs, modules/speeddial, modules/sst,
	  modules/statistics, modules/textops, modules/tlsops, modules/tm,
	  modules/uac, modules/uac_redirect, modules/unixodbc, modules/uri,
	  modules/uri_db, modules/uri_radius, modules/usrloc, modules/xlog,
	  modules/xmpp, parser, parser/contact, parser/digest,
	  utils/openserunix:
	  - add svn:ignore properties to subdirectories too

2007-05-22 10:46  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2259] modules/tm/README, modules/tm/doc/tm_user.sgml:
	  - fix copy and paste error in documentation
	  Reported from Edoardo Serra

2007-05-22 09:09  Anca Vamanu, <anca at voice-system dot ro>

	* [r2258] modules/presence_xml/notify_body.c,
	  modules/presence_xml/presence_xml.h, modules/presence_xml/xcap_auth.c:
	  - fixed some memory leaking bugs when calling libxml functions

2007-05-22 08:38  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2257] db/schema/address.xml:
	  fix documentation and mask type size in address table

2007-05-21 13:37  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2253] db/schema/aliases.xml, db/schema/pr_pua.xml,
	  db/schema/sw_active_sessions.xml, db/schema/sw_admin_privileges.xml:
	  - small docu update
	  - change uri size in pua tables

2007-05-21 12:19  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2252] db/schema/subscriber.xml, db/schema/sw_phonebook.xml:
	  - fix variable type in phonebook table
	  - fix variable name in subscriber table

2007-05-21 12:01  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2251] db/schema/aliases.xml, db/schema/lcr.xml,
	  db/schema/location.xml, db/schema/subscriber.xml,
	  db/schema/sw_pending.xml, db/schema/template.xml,
	  db/schema/trusted.xml:
	  - add missing path size to usrloc table
	  - fix usage of 'NULL' default values
	  - update example file

2007-05-21 11:31  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2250] db/schema/aliases.xml:
	  add missing path size to registrar table

2007-05-21 10:44  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2249] db/schema/openser-serweb.xml,
	  db/schema/sw_admin_privileges.xml, db/schema/sw_phonebook.xml,
	  db/schema/sw_server_monitoring.xml,
	  db/schema/sw_server_monitoring_agg.xml,
	  db/schema/sw_usr_preferences_type.xml:
	  add the last tables, finish serweb

2007-05-18 13:55  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2248] db/schema/Makefile, db/schema/aliases.xml,
	  db/schema/entities.xml, db/schema/imc_members.xml,
	  db/schema/imc_rooms.xml, db/schema/location.xml,
	  db/schema/openser-auth_db.xml, db/schema/openser-avpops.xml,
	  db/schema/openser-presence.xml, db/schema/openser-serweb.xml,
	  db/schema/pdt.xml, db/schema/pr_active_watchers.xml,
	  db/schema/pr_presentity.xml, db/schema/pr_pua.xml,
	  db/schema/pr_watchers.xml, db/schema/pr_xcap_xml.xml,
	  db/schema/subscriber.xml, db/schema/sw_active_sessions.xml,
	  db/schema/sw_pending.xml, db/schema/usr_preferences.xml:
	  - add usr_preferences, subscriber, xcap_xml, watchers, pua, pending,
	  presentity, active_sessions and active_watchers tables
	  - some cleanups in xml files

2007-05-18 09:51  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2245] db/schema/Makefile, db/schema/dbaliases.xml,
	  db/schema/openser-alias_db.xml, db/schema/openser-group.xml,
	  db/schema/openser-msilo.xml, db/schema/openser-speeddial.xml,
	  db/schema/openser-uri_db.xml, db/schema/pdt.xml, db/schema/re_grp.xml,
	  db/schema/silo.xml, db/schema/speed_dial.xml, db/schema/template.xml:
	  - add silo, speed_dial, re_grp and dbaliases table definitions
	  - some cleanups in other xml files

2007-05-18 07:55  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2243] .:
	  fix format of svn:ignore property..

2007-05-18 07:35  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2242] ., .svnignore:
	  - move svn ignore settings to svn:ignore property
	  - add *.o, *.d and *.so file to ignore property

2007-05-17 16:48  Juha Heinanen, <jh at tutpro dot com>

	* [r2241] branches/1.2/modules/lcr/README,
	  branches/1.2/modules/lcr/doc/lcr_user.sgml, modules/lcr/README,
	  modules/lcr/doc/lcr_user.sgml:
	  * Fixed and updated documentation regarding gw priority. Documentation
	  now matches with implementation, i.e., smaller priority value means
	  higher priority.

2007-05-17 14:20  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2240] route.c:
	  - fixed different kind on ops involving NULL pseudo variables :
	  NULL==NULL -> true
	  NULL!=var -> true
	  NULL!=const -> true
	  Reported by Juha Heinanen <jh@tutpro.com>

2007-05-17 07:24  Di-Shi Sun, <di-shi at transnexus dot com>

	* [r2239] modules/osp/doc/osp_user.sgml:
	  Change log parameters.

2007-05-16 16:14  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2237] db/schema/Makefile, db/schema/location.xml,
	  db/schema/openser-standard.xml, db/schema/openser-usrloc.xml,
	  db/schema/template.xml:
	  - add template.xml file as example for a xml database specification
	  - add usrloc definition
	  - fix wrong xpointer call in openser-standard file

2007-05-16 15:35  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2236] db/schema/Makefile, db/schema/aliases.xml,
	  db/schema/domain.xml, db/schema/entities.xml, db/schema/grp.xml,
	  db/schema/openser-domain.xml, db/schema/openser-domainpolicy.xml,
	  db/schema/openser-group.xml, db/schema/openser-permissions.xml,
	  db/schema/openser-registrar.xml, db/schema/sip_trace.xml,
	  db/schema/trusted.xml, db/schema/uri.xml:
	  - add DATETIME default entity to entity.xml
	  - add group, permissions, registrar and domainpolicy definitions

2007-05-16 13:59  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2235] doc/dbschema/catalog.xml:
	  add missing svn:property

2007-05-16 13:37  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2234] db/schema/acc.xml, db/schema/address.xml,
	  db/schema/entities.xml, db/schema/gw.xml, db/schema/imc_members.xml,
	  db/schema/imc_rooms.xml, db/schema/lcr.xml,
	  db/schema/missed_calls.xml, db/schema/openser-acc.xml,
	  db/schema/openser-cpl.xml, db/schema/openser-lcr.xml,
	  db/schema/openser-siptrace.xml:
	  - add siptrace and cpl module xml file
	  - add address and missed_calls xml definition
	  - update lcr and acc include files
	  - some docu fixes

2007-05-16 12:58  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2233] doc/dbschema/catalog.xml:
	  add catalog.xml file to solve DTD and XSL referenced to the local
	  filesystem

2007-05-16 12:57  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2232] db/schema/Makefile, db/schema/acc.xml, db/schema/gw.xml,
	  db/schema/gw_grp.xml, db/schema/imc_members.xml,
	  db/schema/imc_rooms.xml, db/schema/lcr.xml, db/schema/openser-acc.xml,
	  db/schema/openser-core.xml, db/schema/openser-extra.xml,
	  db/schema/openser-imc.xml, db/schema/openser-lcr.xml,
	  db/schema/openser-standard.xml, db/schema/pdt.xml:
	  - finish lrc module related tables
	  - fix DTD definition
	  - remove core and extra xml files
	  - rework and cleanup Makefile

2007-05-16 09:28  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2231] doc/dbschema/xsl/sql.xsl:
	  disable the creation of data and drop tables in stylesheet

2007-05-16 07:13  Anca Vamanu, <anca at voice-system dot ro>

	* [r2230] modules/presence/presence.c:
	  - fixed a typo error (reported by Adrian Georgescu)

2007-05-16 06:48  Anca Vamanu, <anca at voice-system dot ro>

	* [r2229] modules/presence/subscribe.c:
	  - fixed a bug in active_watchers_clean function of not setting a
	  pointer to NULL after freeing

2007-05-15 16:59  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2228] modules/tm/h_table.c, modules/tm/h_table.h, modules/tm/tm.c:
	  - fixed the oldest living bug in openser...
	  proper reset of KR (kill reason) before processing a new request. This
	  was leading to mem leak as some transactions (when only t_newtran) was
	  used were not freed.
	  Many thanks to Klaus Darilion for the access to a debugging platform
	  Thanks to Anca Vamanu for the help in troubleshooting this.

2007-05-15 16:18  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2227] db/schema/acc.xml, db/schema/cpl.xml,
	  db/schema/domainpolicy.xml, db/schema/gw.xml,
	  db/schema/imc_members.xml, db/schema/openser-core.xml,
	  db/schema/pdt.xml, db/schema/sip_trace.xml, db/schema/uri.xml:
	  - cleanup of xml references
	  - add definition for acc module

2007-05-15 14:28  Anca Vamanu, <anca at voice-system dot ro>

	* [r2226] modules/presence/presence.c, modules/presence/publish.c:
	  -exported a MI command - mi cmd: refreshWatchers <pres_uri>
	  <event_packege> that makes possible modifying watcher permissions in
	  real time

2007-05-15 13:56  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2225] db/schema/Makefile, db/schema/domainpolicy.xml,
	  db/schema/entities.xml, db/schema/imc_members.xml,
	  db/schema/imc_rooms.xml, db/schema/openser-core.xml,
	  db/schema/openser-extra.xml, db/schema/sip_trace.xml,
	  db/schema/uri.xml:
	  - complete 'extra' tables
	  - add verbose case to makefile
	  - add two more entities

2007-05-15 10:57  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2224] doc/dbschema, doc/dbschema/dbschema2docbook.xsl,
	  doc/dbschema/dtd, doc/dbschema/dtd/dbschema.dtd, doc/dbschema/xsl,
	  doc/dbschema/xsl/common.xsl, doc/dbschema/xsl/dbtext.xsl,
	  doc/dbschema/xsl/docbook.xsl, doc/dbschema/xsl/mysql.xsl,
	  doc/dbschema/xsl/oracle.xsl, doc/dbschema/xsl/postgres.xsl,
	  doc/dbschema/xsl/sql.xsl:
	  - add xsl and dtd files for database script generation from SER
	  2.1.0+cvs20070509 snapshot
	  - add copyright header for these files
	  - fix some bugs in xsl stylesheets
	  - extend stylesheets with support for 'TEXT' variables, 'AUTO
	  INCREMENT' IDs and 'PRIMARY KEY'

2007-05-15 10:48  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2223] db/schema/Makefile, db/schema/cpl.xml, db/schema/entities.xml,
	  db/schema/gw.xml, db/schema/openser-core.xml,
	  db/schema/openser-extra.xml, db/schema/openser-presence.xml,
	  db/schema/openser-serweb.xml, db/schema/pdt.xml, db/schema/uri.xml,
	  db/schema/version.xml:
	  - add entities from database setup script
	  - add xml files for core, presence, serweb and extra tables
	  - update xml after extensions in xsl scripts
	  - update Makefile

2007-05-15 09:57  Anca Vamanu, <anca at voice-system dot ro>

	* [r2222] modules/presence/event_list.c, modules/presence/notify.c,
	  modules/presence/subscribe.c:
	  - fixed a bug when adding wipeer event

2007-05-15 07:43  Anca Vamanu, <anca at voice-system dot ro>

	* [r2221] modules/presence/subscribe.c:
	  - fixed a bug on active_watchers_clean function

2007-05-14 18:15  Juha Heinanen, <jh at tutpro dot com>

	* [r2220] items.c:
	  * Tried to harmonize return values and error/debug messages when
	  accessing non-existing items.

2007-05-14 15:55  Juha Heinanen, <jh at tutpro dot com>

	* [r2219] items.c:
	  * Null value is returned if [Proxy-]Authorization header is not found
	  or if parsing of credentials fails.

2007-05-14 15:51  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2218] db/schema/cpl.xml, db/schema/gw.xml, db/schema/pdt.xml,
	  db/schema/uri.xml:
	  - change dtd reference to local fs, update gw definition
	  - add definitions for pdt, cpl and uri tables

2007-05-14 14:21  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2217] db/schema, db/schema/Makefile, db/schema/gw.xml:
	  - add a directory for xml definition for database schemas
	  - add Makefile and first xml definition for gw table
	  - xsl schemas needed for this and other stuff still missing, not ready
	  yet

2007-05-14 12:25  Anca Vamanu, <anca at voice-system dot ro>

	* [r2216] modules/presence_xml/notify_body.c,
	  modules/presence_xml/xcap_auth.c:
	  - fixed a bug when determining if a rule matches a certain
	  watcher(reported by Adrian Georgescu)

2007-05-14 10:03  Anca Vamanu, <anca at voice-system dot ro>

	* [r2215] modules/presence/notify.c, modules/presence/subscribe.c:
	  - fixed updating msg_active_watchers_clean function to the new
	  required fields of subs_t structure

2007-05-14 07:33  Anca Vamanu, <anca at voice-system dot ro>

	* [r2214] modules/presence/notify.c:
	  - fixed a bug of calling aply_auth_nbody to a possible NULL body
	  (reported by Adrian Georgescu)

2007-05-12 09:42  Julien Blache, <jblache at debian dot org>

	* [r2212] packaging/debian-sarge/openser.dirs,
	  packaging/debian/openser.dirs:
	  Remove leading / from directory name in openser.dirs.

2007-05-11 11:42  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2208] modules/domain/unixsock.c:
	  - missing include file added
	  reported by suncc

2007-05-11 11:36  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2206] timer.c:
	  - double return in function eliminated.
	  reported by suncc

2007-05-11 11:34  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2204] items.c:
	  - fixed warning message - moved before the goto instruction.
	  Reported by suncc

2007-05-11 11:22  Anca Vamanu, <anca at voice-system dot ro>

	* [r2203] modules/presence/subscribe.c:
	  - fixed a returning code bug

2007-05-11 10:16  Anca Vamanu, <anca at voice-system dot ro>

	* [r2202] modules/presence/event_list.c, modules/presence/event_list.h,
	  modules/presence_xml/add_events.c:
	  - removed unnecessary ev_t structure field

2007-05-11 10:09  Anca Vamanu, <anca at voice-system dot ro>

	* [r2201] modules/presence/subscribe.c:
	  - changed taking presentity uri from Request-URI for the initial
	  Subscribe and from database when refresh

2007-05-11 09:41  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2199] utils/openserunix/openserunix.c:
	  - fixed removeal of UNIX SOXKET file at shutdown.
	  Credits go to Anatoly Pidruchny
	  Closes patch 1708301.

2007-05-11 09:10  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2197] modules/acc/acc_logic.c:
	  - fixed flag handling when multiple backends are used for accouting
	  with the same missed_flag.
	  Credits go to axlh@users.sourceforge.net.

2007-05-11 08:01  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2196] db/db_res.c, db/db_res.h, db/db_row.c, db/db_row.h,
	  modules/mysql/dbase.c, modules/mysql/res.c, modules/mysql/row.c,
	  modules/unixodbc/res.c, modules/unixodbc/row.c:
	  add 'db_' prefix to fetch_rows and fetch_row function to prevent name
	  clash with mysql library function

2007-05-10 19:38  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2193] forward.c:
	  - Fix: when replies are statelessly forwarded, obey the
	  force_send_socket()
	  Credits go to Marcus Hunger <hunger@sipgate.de>

2007-05-10 17:08  Anca Vamanu, <anca at voice-system dot ro>

	* [r2192] modules/presence/event_list.c, modules/presence/subscribe.c:
	  - fixed copying new added event field

2007-05-10 15:57  Anca Vamanu, <anca at voice-system dot ro>

	* [r2191] modules/presence_xml/add_events.c,
	  modules/presence_xml/xcap_auth.c:
	  - set to_pres_uri flag for event dialog;sla

2007-05-10 15:56  Anca Vamanu, <anca at voice-system dot ro>

	* [r2190] modules/presence/event_list.h, modules/presence/subscribe.c:
	  - introduced the possiblity to choose where to take presentity uri
	  from, specific for event (needed for pua_bla)

2007-05-10 15:34  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2189] AUTHORS, CREDITS:
	  add myself to OpenSER Contributer list :-)

2007-05-10 15:34  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2188] modules/cfgutils/cfgutils.c, modules/domain/unixsock.h,
	  modules/flatstore/flat_pool.h, modules/mangler/mangler.h,
	  modules/registrar/reg_mod.c, modules/seas/encode_contact.h,
	  modules/seas/encode_msg.c, modules/seas/event_dispatcher.h,
	  modules/seas/ha.h, modules/seas/seas_action.c,
	  modules/seas/statistics.h, modules/tm/t_reply.h:
	  - code cleanup and bugfixes: some errors and warnings from '-Wextra
	  -Wredundant-decls'
	  - remove redundant variable and function definition in mangler and
	  flatstore
	  - fix comparison of unsigned variable < 0 in if-case in cfgutils
	  - remove redundant variable definitions in seas
	  - change variable to signed to really reach an error case and remove
	  an empty else case in seas
	  - remove redundant variable and function definition in registrar,
	  domain and tm

2007-05-10 15:11  Anca Vamanu, <anca at voice-system dot ro>

	* [r2187] modules/presence/README, modules/presence/doc/presence.sql,
	  modules/presence/notify.c, modules/presence/presence.c,
	  modules/presence/publish.c, modules/presence/subscribe.c,
	  modules/presence/subscribe.h:
	  - corrected taking presentity uri from Request-URI (reported by Juha
	  Heinanen)
	  - changed active_watchers table - added 2 more columns

2007-05-10 15:08  Anca Vamanu, <anca at voice-system dot ro>

	* [r2186] scripts/mysqldb.sh, scripts/postgresqldb.sh,
	  scripts/textdb.sh:
	  - added 2 more columns to active_watchers_table (version increased)

2007-05-10 12:37  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2185] db/db_res.c, db/db_res.h, db/db_row.c, db/db_row.h,
	  db/db_ut.c, db/db_ut.h, modules/mysql/dbase.c, modules/mysql/res.c,
	  modules/mysql/res.h, modules/mysql/row.c, modules/mysql/row.h,
	  modules/mysql/val.c, modules/postgres/db_res.c,
	  modules/postgres/db_val.c, modules/postgres/dbase.c,
	  modules/unixodbc/dbase.c, modules/unixodbc/res.c,
	  modules/unixodbc/row.c, modules/unixodbc/row.h,
	  modules/unixodbc/val.c:
	  - more database interface cleanup
	  - move the free_rows function to db/db_res.c
	  - move the free_row function to db/db_row.c
	  - change mysql and unixodbc to use this implementation
	  - the postgresql uses a different implementation, this still needs
	  some investigation
	  - move common used print_columns function to db_ut.c
	  - change the mysql, postgresql and unixodbc modules to use this
	  implementation
	  - use the right mysql and postgresql escape function for BLOBs instead
	  of the deprecated function which could produce errors in certain
          corner cases
	  - extends comments in db dir and database modules

2007-05-10 05:46  Juha Heinanen, <jh at tutpro dot com>

	* [r2184] branches/1.2/scripts/openserctl.8,
	  branches/1.2/scripts/openserctl.sqlbase,
	  branches/1.2/scripts/sc.dbtext, scripts/openserctl.8,
	  scripts/openserctl.sqlbase, scripts/sc.dbtext:
	  * Applied openserctl lcr fix provided by provided by Angel Carpintero.

2007-05-10 05:32  Juha Heinanen, <jh at tutpro dot com>

	* [r2182] modules/mi_xmlrpc/xr_parser.c:
	  * Integrated length calculation of xmlrpc string into lflf_to_crlf
	  hack in order to avoid scanning of the string twice (based on
          suggestion by Bogdan-Andrei Iancu).

2007-05-09 17:33  Juha Heinanen, <jh at tutpro dot com>

	* [r2181] branches/1.1/modules/lcr/lcr_mod.c,
	  branches/1.2/modules/lcr/lcr_mod.c, modules/lcr/lcr_mod.c:
	  * Changed gw_index and route_index of mi struct from unsigned int to
	  int. Fix provided by Angel Carpintero.

2007-05-09 17:16  Juha Heinanen, <jh at tutpro dot com>

	* [r2180] modules/mi_xmlrpc/README,
	  modules/mi_xmlrpc/doc/mi_xmlrpc.sgml,
	  modules/mi_xmlrpc/doc/mi_xmlrpc_user.sgml,
	  modules/mi_xmlrpc/xr_parser.c:
	  * Implemented hack that converts LFLF sequence in received XML-RPC
	  strings to CRLF sequence in order to overcome the "feature" of current
	  version of Abyss XML-RPC server that "normalizes" CRLF sequence to LF
	  character.

2007-05-09 15:34  Juha Heinanen, <jh at tutpro dot com>

	* [r2179] modules/lcr/README, modules/lcr/doc/lcr_user.sgml,
	  modules/lcr/lcr_mod.c:
	  * lcr/load_gws() group id parameter may now contain pseudo
	  variables. Patch contributed by Carsten Bock.

2007-05-09 15:27  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2178] modules/jabber/README, modules/jabber/doc/jabber_user.sgml,
	  modules/jabber/jabber.c, modules/jabber/xjab_worker.c,
	  modules/jabber/xjab_worker.h:
	  - added presence priority for Jabber gateway (patch by Peter Lemenkov)
	  - closes #1713831

2007-05-09 14:54  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2177] Makefile.defs, modules/dispatcher/README,
	  modules/dispatcher/dispatch.c, modules/dispatcher/dispatch.h,
	  modules/dispatcher/dispatcher.c,
	  modules/dispatcher/doc/dispatcher.sgml,
	  modules/dispatcher/doc/dispatcher_user.sgml:
	  - dev version increased
	  - applied patch from Carsten Bock
	  - closes #1689036
	  - set of enhancement to dispatcher module
	  - hash over the authentication-username
	  - ds_is_from_list() to find if source ip a destination list
	  - set a gateway to a probing mode
	  (after a definable threshhold) by calling ds_mark_dst("p"). If a
	  gateway/proxy fails several times (per default three times), it will
	  be removed from the routing and be probed: The Proxy will send an
	  OPTIONS-Request to the proxy/gateway and if it receives a "successful"
	  reply (200 OK or 501 Not implemented) it will be automatically
          reactivated.
	  We accept "501 Not implemented" as well, because some Cisco gateways
	  do not support the OPTIONS-Request and reply with a "501 Not
          implemented".

2007-05-09 13:03  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2176] INSTALL:
	  - add a note regarding the problems with openbsd and netbsd package
	  files
	  - fix a type reported from Wouter Schoot

2007-05-09 11:30  Anca Vamanu, <anca at voice-system dot ro>

	* [r2174] modules/pua/add_events.c:
	  - corrected event name presence.winfo

2007-05-09 11:29  Anca Vamanu, <anca at voice-system dot ro>

	* [r2173] modules/pua_xmpp/priv.h, modules/pua_xmpp/xmpp2simple.c:
	  - removed not belonging, wrongly included, file

2007-05-09 11:27  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2172] packaging/netbsd/Makefile, packaging/netbsd/distinfo,
	  packaging/openbsd/Makefile, packaging/openbsd/distinfo:
	  - fix netbsd and openbsd PORTVERSION in packaging, 'notls' was missing
	  - Credits go to Wouter Shoot for reporting and testing

2007-05-09 07:54  Anca Vamanu, <anca at voice-system dot ro>

	* [r2171] modules/presence/notify.c, modules/presence/notify.h,
	  modules/presence/presentity.c, modules/presence/publish.c,
	  modules/presence/subscribe.c:
	  - changed not to query database table for Notify body when it is
	  triggerd by a new Publish and the event does not require aggregation
	  (to prevent rewriting the published body before Notify is sent)

2007-05-08 12:52  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2169] modules/seas/as.c, modules/seas/failover.c:
	  cleanup, delete empty as.c and failover.c in seas module

2007-05-08 12:48  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2168] modules/uri/checks.c, modules/uri/uri_mod.c,
	  modules/uri/uri_mod.h:
	  - cleanup, remove the almost empty uri_mod.h file
	  - fix the includes in uri_mod.c and checks.c

2007-05-08 09:54  Anca Vamanu, <anca at voice-system dot ro>

	* [r2167] modules/pua_mi/mi_func.c:
	  - fixed adding etag end expires to reply only if 200 OK message
	  received

2007-05-08 09:53  Anca Vamanu, <anca at voice-system dot ro>

	* [r2166] modules/pua/send_publish.c:
	  - fixed calling callback functions for publish when error reply is
	  received

2007-05-08 08:58  Anca Vamanu, <anca at voice-system dot ro>

	* [r2165] modules/pua/hash.c, modules/pua/pua.c,
	  modules/pua/send_publish.c, modules/pua/send_subscribe.c:
	  - updated etag also when refreshing info in database

2007-05-08 07:22  Juha Heinanen, <jh at tutpro dot com>

	* [r2163] modules/lcr/lcr_mod.c:
	  * Fixed test on From URI length. Thanks to Papadopoulos Georgios for
	  reporting.

2007-05-07 14:49  Juha Heinanen, <jh at tutpro dot com>

	* [r2161] branches/1.1/modules/lcr/lcr_mod.c,
	  branches/1.2/modules/lcr/lcr_mod.c, modules/lcr/lcr_mod.c:
	  * Increased MAX_FROM_URI_LEN to 256.

2007-05-07 12:32  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2160] modules/tm/t_cancel.c, modules/tm/uac.c:
	  - bug fixed: remove the setting of KR (Kill Reason) when generating
	  local transactions. This was resulting in overwriting the value
          (stored in a gloabl variable) in case of nested transaction processing.
          Example:
	  receive a request, build from script the coresponding transaction (T1)
          and then use functions (from script) to send local requests via TM
          (T2).
	  The result of this overwriting of KR between T1 and T2 was a possible
	  memeory leak (in some cases), by not automatically freeing the T1
	  transaction at the script exit.
	  The leak appeard only in a corner case when there the transaction was
	  not properly handled from script.
	  Many thanks to Klaus Darilion <klaus.mailinglists@pernau.at> for
	  report and extensive testing and help.

2007-05-07 12:16  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2158] modules/tm/t_reply.c:
	  - fixed bug in detecting 408 Timeout as an DNS-based-failover case.
	  Credits for reporting and helping with tests go to Alex Hermann
	  <alex@speakup.nl>

2007-05-07 12:01  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2157] db/db_ut.c, db/db_ut.h, modules/mysql/dbase.c,
	  modules/mysql/my_con.c, modules/mysql/utils.c, modules/mysql/utils.h,
	  modules/mysql/val.c, modules/postgres/db_utils.c,
	  modules/postgres/db_utils.h, modules/postgres/db_val.c,
	  modules/unixodbc/dbase.c, modules/unixodbc/my_con.c,
	  modules/unixodbc/utils.c, modules/unixodbc/utils.h,
	  modules/unixodbc/val.c:
	  - move most of the time and date handling functions for databases to
	  db_ut.h
	  - delete the implementations in unixodbc, mysql and partly in
	  postgresql
	  - fix header includes for these modules
	  - postgresql saves the time and date with the timezone attached, so
	  this module can not use the common db_time2str
	  - change the _XOPEN_SOURCE define to 600 use the SuSv3 definition for
	  strptime,the old define conflicts with some string handling functions
	  - delete the unneded time related defines in postgresql module
	  - add undefs after the defines to avoid changes for subsequent
	  includes

2007-05-07 10:21  Anca Vamanu, <anca at voice-system dot ro>

	* [r2156] modules/pua/add_events.c, modules/pua/add_events.h,
	  modules/pua/event_list.h, modules/pua/hash.c, modules/pua/hash.h,
	  modules/pua/pua.c, modules/pua/send_publish.c,
	  modules/pua/send_publish.h:
	  - fixed a bug when restoring info from database
	  - fixed a memory leak bug

2007-05-07 06:49  Bastian Friedrich, <bastian dot friedrich at collax dot com>

	* [r2155] modules/perlvdb/perlvdb.h, modules/perlvdb/perlvdb_conv.c,
	  modules/perlvdb/perlvdb_conv.h, modules/perlvdb/perlvdb_oohelpers.h:
	  Patch by Julien Blache: fixing compiling on platforms with
	  USE_SYSV_SEM

2007-05-06 19:34  Juha Heinanen, <jh at tutpro dot com>

	* [r2154] modules/presence/README,
	  modules/presence/doc/presence_user.sgml:
	  * Added "message-summary" to the list of events handled by presence
	  module.

2007-05-04 21:19  Bastian Friedrich, <bastian dot friedrich at collax dot com>

	* [r2153] modules/perl/openserxs.xs, modules/perl/perl.c,
	  modules/perl/perl.h:
	  Applying patch by Julien BLACHE:
	  * Eliminating name collision for union "semun"
	  * Eliminating name collision for an enum

2007-05-04 17:11  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2152] modules/auth_diameter/authorize.c,
	  modules/auth_diameter/authorize.h:
	  - renamed local "pre_auth" function to solve the overlapping with the
	  definition of "pre_auth" from auth API.
	  unfortunately they error was reported onl by GCC 3.x ; 4.x is really
	  silent about it :(
	  Reported by Alan Crosswell <alan@columbia.edu>.

2007-05-04 15:55  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2151] modules/auth_diameter/Makefile:
	  - include Makefile.defs

2007-05-04 14:05  Anca Vamanu, <anca at voice-system dot ro>

	* [r2150] modules/pua/README, modules/pua/add_events.c,
	  modules/pua/doc/pua_devel.sgml, modules/pua/send_publish.c:
	  - corrected tuple_id generation and usage

2007-05-04 13:52  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2149] packaging/debian-sarge/openser.init,
	  packaging/debian/openser.init:
	  fix init msg for status

2007-05-04 13:51  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2148] packaging/debian-sarge/openser.init,
	  packaging/debian/openser.init:
	  - add "/etc/init.d/openser status" support for debian init file

2007-05-04 12:44  Anca Vamanu, <anca at voice-system dot ro>

	* [r2147] modules/presence/event_list.c, modules/presence/notify.c,
	  modules/presence/presentity.c, modules/presence/publish.c,
	  modules/presence/subscribe.c:
	  - corrected log messages when attempting to send Notify

2007-05-04 12:09  Anca Vamanu, <anca at voice-system dot ro>

	* [r2146] modules/pua/README, modules/pua/doc/pua_devel.sgml,
	  modules/pua/event_list.h, modules/pua/hash.h,
	  modules/pua/send_publish.h, modules/pua/send_subscribe.h:
	  - updated documentation

2007-05-04 11:50  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2145] modules/pa/pa_mod.c, modules/pa/pa_mod.h,
	  modules/pdt/domains.c, modules/pdt/pdtree.c, modules/pdt/utils.c,
	  modules/pdt/utils.h, ut.h:
	  - add str compare and str case insensitive compare to ut.h
	  - remove the implementation from the pdt and pa modules
	  - make the behaviour of the implementation in ut.h consistent with
	  strcmp from <string.h>

2007-05-04 10:53  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2144] db/db_ut.c, db/db_ut.h:
	  add forgotten svn:keywords property

2007-05-04 10:17  Anca Vamanu, <anca at voice-system dot ro>

	* [r2143] modules/pua_mi/mi_func.c:
	  - made content_type parameter optional in case it is the same as the
	  default value for that event

2007-05-04 10:15  Anca Vamanu, <anca at voice-system dot ro>

	* [r2142] modules/pua/pua.c, modules/pua/send_publish.c:
	  - updated the update_pua function to the new callback parameter
	  structure when sending Publish requests

2007-05-04 09:16  Anca Vamanu, <anca at voice-system dot ro>

	* [r2141] modules/pua/pua.c, modules/pua/pua_bind.c,
	  modules/pua/pua_bind.h, modules/pua/send_publish.c:
	  - exported add_event function to enable registering new events from
	  other modules (events currently registered from the module are:
	  presence, presence;winfo, dialog:sla, message-summary )

2007-05-04 08:12  Anca Vamanu, <anca at voice-system dot ro>

	* [r2140] modules/pua/send_publish.c:
	  - fixed instruction succesion

2007-05-03 20:01  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2138] modules/pike/timer.c, modules/pike/timer.h:
	  - fixed compile problem with GCC - error introduced by the previous
	  SUNCC fix
	  Closes bug #1712305.

2007-05-03 18:24  Juha Heinanen, <jh at tutpro dot com>

	* [r2137] modules/lcr/README, modules/lcr/doc/lcr_user.sgml:
	  * Clarified documentation regarding empty From URI pattern and
	  priority.

2007-05-03 17:34  Anca Vamanu, <anca at voice-system dot ro>

	* [r2136] modules/pua/add_events.c, modules/pua/add_events.h,
	  modules/pua/event_list.c, modules/pua/event_list.h,
	  modules/pua/hash.h, modules/pua/pua.c, modules/pua/send_publish.c,
	  modules/pua/send_publish.h, modules/pua/send_subscribe.c:
	  - created an event list, so that new events are added easily
	  (still to do : export the add_event function to be used from other
	  modules)

2007-05-03 17:25  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2133] modules/pike/timer.c:
	  - fixed inline function definition - it looks like using assert in
	  line non-static function causes problems to suncc on linux

2007-05-03 17:10  Juha Heinanen, <jh at tutpro dot com>

	* [r2132] modules/pua_mi/README, modules/pua_mi/doc/pua_mi.sgml,
	  modules/pua_mi/doc/pua_mi_user.sgml:
	  * Updated pua_mi user documentation (not complete yet).

2007-05-03 16:31  Juha Heinanen, <jh at tutpro dot com>

	* [r2131] modules/pua_mi/mi_func.c:
	  * Empty mi parameters are now indicated using "." char instead of "0"
	  char (follows t_uac_dlg convention).

2007-05-03 15:34  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2130] modules/lcr/lcr_mod.c:
	  fix initialization if mi_cmds[] for lcr module

2007-05-03 15:05  Anca Vamanu, <anca at voice-system dot ro>

	* [r2129] modules/pua/pua.c, modules/pua/send_publish.c:
	  - returned differentiated code from process_body and freed final_body
	  depending on return code

2007-05-03 14:44  Anca Vamanu, <anca at voice-system dot ro>

	* [r2128] modules/presence/notify.c:
	  - removed unused memory duplication functions

2007-05-03 12:24  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2127] mod_fix.h, modules/rr/rr_mod.c:
	  * use common fixup_str2regexp function from mod_fix.h in rr module
	  * add error logging to out of memory case to regexp fixup function

2007-05-03 12:03  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2126] db/db_ut.c, db/db_ut.h, modules/mysql/val.c,
	  modules/postgres/db_val.c, modules/unixodbc/val.c, ut.h:
	  * move commonly used char* converter function for DBs into db dir
	  * remove these functions from unixodbc, postgresql and mysql
	  * change these modules to use the implementation from db_ut.c
	  * fix wrong indention in ut.h

2007-05-03 11:10  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2125] modules/seas/seas_action.c, modules/tm/dlg.c,
	  modules/usrloc/ucontact.c, ut.h:
	  * add a generic shared mem and pkg mem str_dup implementation to ut.h
	  * delete the implementations in seas, usrloc and tm and use the from
	  ut.h

2007-05-03 10:36  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2123] modules/siptrace/siptrace.c:
	  - fixed sip trace flag checking for replies
	  - fixed trace on reply in hook

2007-05-03 07:18  Juha Heinanen, <jh at tutpro dot com>

	* [r2122] modules/presence_mwi/add_events.c:
	  * Fixed one more bug in parsing of message-summary publish body.
	  * Added debug info in case body check fails.

2007-05-02 20:18  Juha Heinanen, <jh at tutpro dot com>

	* [r2121] modules/presence_mwi/add_events.c:
	  * Fixed bugs in parsing application/simple-message-summary body.

2007-05-02 15:04  Anca Vamanu, <anca at voice-system dot ro>

	* [r2120] modules/presence/notify.c:
	  - fixed adding Content-Type header in Notify only if Content-Length is
	  not 0 (reported by Juha Heinanen)

2007-05-02 14:32  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2119] mod_fix.h, modules/textops/textops.c, modules/tm/tm.c:
	  * move fixup_str2regexp function to mod_fix.h
	  * remove the implementations in tm and textops

2007-05-02 14:09  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2118] mod_fix.h, modules/cfgutils/cfgutils.c,
	  modules/gflags/gflags.c, modules/nathelper/nathelper.c,
	  modules/tm/tm.c:
	  * move fixup_str2int function to mod_fix.h
	  * remove the implementation of this function in tm and nathelper
	  * fixup_str2int in gflags and cfgutils does more parameter checking,
	  rename them
	  * use the right fixup function in cfgutils for sleep and usleep

2007-05-02 13:56  Anca Vamanu, <anca at voice-system dot ro>

	* [r2117] modules/pua_mi/mi_func.c, modules/pua_mi/pua_mi.c:
	  - added sending asynchronous reply to pua_publish command

2007-05-02 13:54  Anca Vamanu, <anca at voice-system dot ro>

	* [r2116] modules/pua/pua.c, modules/pua/send_publish.c,
	  modules/pua/send_publish.h:
	  - restructured and generalized processing Publish body

2007-05-02 09:42  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2115] packaging/debian-sarge/openser.default,
	  packaging/debian-sarge/openser.init, packaging/debian/openser.default,
	  packaging/debian/openser.init:
	  * add a note about core dump behaviour at certain systems to the
	  default file
	  * add a (uncommented) example core directory configuration to the init
	  file

2007-05-02 09:01  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2114] scripts/openserctl, scripts/openserctl.sqlbase:
	  - bug fixed in updateing the user password - do not try to update the
	  'datetime_modified' column as it is serweb specific.
	  Reported by Goldenear <goldenear@free.fr>.

2007-05-02 01:56  Di-Shi Sun, <di-shi at transnexus dot com>

	* [r2112] modules/osp/etc/sample-osp-openser.cfg,
	  modules/osp/term_transaction.c, modules/osp/usage.c,
	  modules/osp/usage.h:
	  1. Use "tranid" instead of "transnaction" for transaction id
	  parameter.
	  2. Add warning log for the BYE messages without OSP info.

2007-05-01 11:18  Juha Heinanen, <jh at tutpro dot com>

	* [r2111] items.c, items.h:
	  * Added $aU pseudo variable for accessing whole username of
	  Authorization or Proxy-Authorization header.

2007-05-01 08:34  Juha Heinanen, <jh at tutpro dot com>

	* [r2110] modules/pua_mi/mi_func.c:
	  * Removed XML parsing of publish body from mi_pua_publish, because it
	  is event specific and again done in pua_send_publish() function.
	  * Clean up debug and error messages.
	  * Still to do: event type specific handling of publish body by
	  pua_send_publish().

2007-04-30 20:35  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2109] modules/auth/api.c, modules/auth/api.h,
	  modules/auth_db/README, modules/auth_db/authorize.c,
	  modules/auth_db/doc/auth_db_user.sgml, modules/auth_diameter/README,
	  modules/auth_diameter/authorize.c, modules/auth_diameter/authorize.h,
	  modules/auth_diameter/defs.h,
	  modules/auth_diameter/doc/auth_diameter_user.sgml,
	  modules/auth_radius/README, modules/auth_radius/authorize.c,
	  modules/auth_radius/doc/auth_radius_user.sgml:
	  - *_{proxy|www}_authorize() functions return mode info in case of
	  failure (via a larger set of negative return codes):
	  -5 (generic error) - some generic error occurred and no
	  reply was sent out;
	  -4 (no credentials) - credentials were not found in
	  request;
	  -3 (stale nonce) - stale nonce;
	  -2 (invalid password) - valid user, but wrong password;
	  -1 (invalid user) - authentication user does not exist.
	  Patch contributed by Anatoly Pidruchny.
	  Closes patch 1693132.

2007-04-30 20:29  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2108] modules/dialog/README, modules/dialog/dialog.c,
	  modules/dialog/dlg_handlers.c, modules/dialog/dlg_handlers.h,
	  modules/dialog/dlg_hash.c, modules/dialog/dlg_hash.h,
	  modules/dialog/doc/dialog_user.sgml:
	  - dialog matching can be done also via SIP elements (in addition to
	  dialog ID via RR cokie) - based on a patch from
	  Michel Bensoussan <michel@extricom.com>
	  Closes patch submision 1692747.
	  - new module parameter - dlg_match_mode for controlling how the
	  matching of sequential requests is done:
	  1) only based on DID
	  2) based on DID with fallback to SIP elements
	  3) no DID, only SIP elements
	  - "use_tight_match" (for DID-based matching) includes FROM and TO tag
	  checking along callid.

2007-04-30 20:22  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2107] modules/nathelper/README,
	  modules/nathelper/doc/nathelper_user.sgml,
	  modules/nathelper/nathelper.c, modules/nathelper/nathelper.h:
	  - more controllability via MI commands :
	  nh_enable_ping - disable/enable ping
	  nh_enable_rtpp - disable/enable a rtpproxy
	  nh_show_rtpp - list the status of rtpproxies
	  - the list of rtpproxies moved from private to shm memory. This
	  prepare the
	  way for dynamic add/remove of rtpproxies.
	  Credits go to Ancuta Onofrei (ancuta@voice-system.ro)

2007-04-30 16:46  Juha Heinanen, <jh at tutpro dot com>

	* [r2106] modules/pua_mi/mi_func.c:
	  * Fixed length of error message.

2007-04-30 16:44  Juha Heinanen, <jh at tutpro dot com>

	* [r2105] modules/pua/hash.h, modules/pua_mi/mi_func.c:
	  * Implemented missing get_event_flag() function.
	  * Small edit of error text.

2007-04-30 14:54  Juha Heinanen, <jh at tutpro dot com>

	* [r2104] Makefile, packaging/debian/rules:
	  * Fixed typo.

2007-04-30 14:43  Juha Heinanen, <jh at tutpro dot com>

	* [r2103] Makefile, packaging/debian/rules:
	  * Added missing presence related modules to exclude_modules and
	  PRESENCE_MODULES lists.

2007-04-30 13:43  Juha Heinanen, <jh at tutpro dot com>

	* [r2102] modules/presence_mwi, modules/presence_mwi/Makefile,
	  modules/presence_mwi/README, modules/presence_mwi/add_events.c,
	  modules/presence_mwi/add_events.h, modules/presence_mwi/doc,
	  modules/presence_mwi/doc/presence_mwi.sgml,
	  modules/presence_mwi/doc/presence_mwi_devel.sgml,
	  modules/presence_mwi/doc/presence_mwi_faq.sgml,
	  modules/presence_mwi/doc/presence_mwi_user.sgml,
	  modules/presence_mwi/presence_mwi.c,
	  modules/presence_mwi/presence_mwi.h, modules/presence_mwi/xcap_auth.c,
	  modules/presence_mwi/xcap_auth.h:
	  * Introduced presence_mwi module (see presence_mwi/README).

2007-04-30 12:24  Anca Vamanu, <anca at voice-system dot ro>

	* [r2101] modules/pua_mi/mi_func.c:
	  - extended mi publish command

2007-04-30 12:23  Anca Vamanu, <anca at voice-system dot ro>

	* [r2100] modules/pua_xmpp/xmpp2simple.c:
	  - filled in content_type filed

2007-04-30 12:23  Anca Vamanu, <anca at voice-system dot ro>

	* [r2099] modules/pua_usrloc/ul_publish.c:
	  - filled in content_type filed

2007-04-30 12:22  Anca Vamanu, <anca at voice-system dot ro>

	* [r2098] modules/pua_bla/notify.c:
	  - filled content_type filed in publ_info_t structure

2007-04-30 12:21  Anca Vamanu, <anca at voice-system dot ro>

	* [r2097] modules/pua/hash.c, modules/pua/hash.h, modules/pua/pua.c,
	  modules/pua/send_publish.c, modules/pua/send_publish.h,
	  modules/pua/send_subscribe.c:
	  - generalised publ_info_t structure

2007-04-30 11:28  Anca Vamanu, <anca at voice-system dot ro>

	* [r2096] modules/presence/notify.c:
	  - fixed a bug of not sending Notify if body is NULL

2007-04-29 10:15  Juha Heinanen, <jh at tutpro dot com>

	* [r2095] parser/parse_content.c, parser/parse_content.h,
	  parser/parse_event.c, parser/parse_event.h:
	  * Added parsing of Content-Type header value
	  "application/simple-message-summary".
	  * Fixed bugs in existing parsing of Content-Type header values
	  (hopefully didn't introduce new ones).
	  * Added parsing of Event header value "message-summary".

2007-04-29 06:18  Juha Heinanen, <jh at tutpro dot com>

	* [r2094] modules/presence/event_list.c:
	  * EvList is destroyed only if not NULL.

2007-04-28 01:12  Di-Shi Sun, <di-shi at transnexus dot com>

	* [r2093] modules/osp/etc/sample-osp-openser.cfg:
	  fix a typo for log.

2007-04-27 13:25  Anca Vamanu, <anca at voice-system dot ro>

	* [r2090] modules/pua_bla/notify.c, modules/pua_bla/pua_bla.c,
	  modules/pua_bla/pua_bla.h:
	  - eliminated registering callback to pua module and switched back to
	  sending consecutive Publish requests

2007-04-27 13:22  Anca Vamanu, <anca at voice-system dot ro>

	* [r2089] modules/presence_xml/add_events.c:
	  - set etag_not_new filed to 1 for event dialog;sla

2007-04-27 13:21  Anca Vamanu, <anca at voice-system dot ro>

	* [r2088] modules/presence/event_list.c, modules/presence/event_list.h,
	  modules/presence/presentity.c:
	  - added a new field to structure ev - etag_not_new wich sets wheter to
	  generate a new tag for each Publish (like the standard) or generate a
	  new one only for the initial Publish

2007-04-27 11:53  Anca Vamanu, <anca at voice-system dot ro>

	* [r2087] modules/presence_xml/doc/.presence_xml_user.sgml.swp,
	  modules/presence_xml/doc/presence_xml_user.sgml,
	  modules/presence_xml/notify_body.c,
	  modules/presence_xml/presence_xml.c,
	  modules/presence_xml/presence_xml.h, modules/presence_xml/xcap_auth.c:
	  -corrected a bug in opening database connexion

2007-04-27 11:48  Anca Vamanu, <anca at voice-system dot ro>

	* [r2086] modules/presence/event_list.h, modules/presence/presence.c,
	  modules/presence/presentity.c:
	  - verified if all tables are accesible in child_init

2007-04-27 09:24  Anca Vamanu, <anca at voice-system dot ro>

	* [r2085] modules/pua_bla/notify.c:
	  - removed unnecessary variable and and corrected possible running 2
	  frees on the same pointer

2007-04-27 09:18  Anca Vamanu, <anca at voice-system dot ro>

	* [r2084] modules/presence/event_list.c, modules/presence/notify.c:
	  - corrected taking the most recent info from database when sending
	  Notify for events that don't require aggregation

2007-04-26 19:23  Juha Heinanen, <jh at tutpro dot com>

	* [r2083] modules/permissions/README,
	  modules/permissions/doc/permissions_user.sgml,
	  modules/permissions/hash.c, modules/permissions/permissions.c:
	  * peer_tag_avp parameter value is now an AVP string (forgot from 1.2).

2007-04-26 16:28  Anca Vamanu, <anca at voice-system dot ro>

	* [r2082] modules/pua/pua.c:
	  - corrected an error when updating info in database table

2007-04-26 15:29  Anca Vamanu, <anca at voice-system dot ro>

	* [r2081] modules/presence/presentity.c, modules/presence/presentity.h:
	  - corrected a bug of not copying a null termination character

2007-04-26 15:10  Anca Vamanu, <anca at voice-system dot ro>

	* [r2080] modules/pua/hash.h, modules/pua/send_publish.c,
	  modules/pua/send_subscribe.c:
	  - added the posibility to register callbacks on reply processing for
	  sent Publish requests

2007-04-26 15:09  Anca Vamanu, <anca at voice-system dot ro>

	* [r2079] modules/pua_bla/notify.c, modules/pua_bla/pua_bla.c,
	  modules/pua_bla/pua_bla.h:
	  - change due to correcting the mechanism of etag in presence: replaced
	  calling consecutive send_publish with registering a callback to send
	  Publish with no dialog after transforming a Notify with a body
	  containing dialog with state terminated into a Publish.

2007-04-26 11:28  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2078] modules/auth_db/aaa_avps.h:
	  minor warning fix, move inline to the right position

2007-04-25 15:19  Anca Vamanu, <anca at voice-system dot ro>

	* [r2077] modules/presence/notify.c:
	  - fixed memory leak upon error when seding Notify request ( reported
	  by Klaus )

2007-04-25 14:02  Anca Vamanu, <anca at voice-system dot ro>

	* [r2074] modules/pua/hash.c, modules/pua/hash.h, modules/pua/pua.c,
	  modules/pua/send_publish.c, modules/pua/send_subscribe.c:
	  - changed to follow the modifications in presence regarding etag
	  handling

2007-04-25 14:00  Anca Vamanu, <anca at voice-system dot ro>

	* [r2073] modules/presence/presentity.c, modules/presence/presentity.h,
	  modules/presence/publish.c, modules/presence/subscribe.c:
	  - changed etag generation to follow precisely the specifications in
	  RFC3903(for each new Publish message a etag is generated and included
	  in 200Ok reply)

2007-04-25 11:27  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2071] modules/uac/auth_hdr.c:
	  fixed bug in ignoring qop during auth - even if the qop val is not
	  used, do not populate it as it will crash the response computation.
	  Reported by Thomas Gelf <thomas@gelf.net>

2007-04-25 08:26  Anca Vamanu, <anca at voice-system dot ro>

	* [r2070] modules/pua_xmpp/simple2xmpp.c:
	  - fixed not checking pointer before freeing

2007-04-25 08:25  Anca Vamanu, <anca at voice-system dot ro>

	* [r2069] modules/presence/event_list.c, modules/presence/notify.c,
	  modules/presence/presentity.c, modules/presence/publish.c,
	  modules/presence/subscribe.c:
	  - corrected some initializing errors

2007-04-25 08:12  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2067] modules/mi_xmlrpc/Makefile:
	  -fixed typo in include PATH (extra "_" char removed)
	  Reported by CSB <cameron.beattie@appsteam.co.nz>

2007-04-24 19:04  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2064] modules/nathelper/README,
	  modules/nathelper/doc/nathelper_faq.sgml,
	  modules/nathelper/doc/nathelper_user.sgml,
	  modules/nathelper/nathelper.c:
	  - fixed crash when the "rtpproxy_sock" was not defined or empty string
	  - allow definition of a set via several lines (append if set already
	  exists)
	  - removed the "rtpproxy_disable" string - you can achive the same by
	  either not defining "rtpproxy_sock" (default NULL) or setting it to
	  empty string
	  - fixed bug in re-enabling rtpproxy when only one is defined.

2007-04-24 17:43  Anca Vamanu, <anca at voice-system dot ro>

	* [r2063] modules/presence/publish.c, modules/presence/subscribe.c:
	  - corrected a bug when updating watchers table

2007-04-24 16:07  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2062] resolve.c:
	  added more debug info in the DNS failover code

2007-04-24 15:58  Anca Vamanu, <anca at voice-system dot ro>

	* [r2060] modules/presence/presentity.c, modules/presence/publish.c:
	  - corrected a typing error and some debug messages

2007-04-24 15:53  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2059] modules/tm/t_reply.c:
	  fixed bug in reseting the T state in case of not found. Could lead to
	  dropped replies in some corner cases.

2007-04-24 15:27  Anca Vamanu, <anca at voice-system dot ro>

	* [r2058] modules/presence/presence.c, modules/presence/presentity.c,
	  modules/presence/publish.c:
	  - removed inutil locking on presentity

2007-04-24 11:10  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2057] modules/acc/acc_mod.c:
	  Fix typo, acc_totag_collumn -> acc_to_tag_collumn. This is allready
	  documented in the README file, and match spelling of the other
          parameter names.
	  Reported from Helmut Kuper, helmut.kuper@ewetel.de

2007-04-24 11:03  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2056] modules/auth/auth_mod.c, modules/diversion/diversion.c,
	  modules/enum/enum_mod.c, modules/path/path_mod.c,
	  modules/registrar/reg_mod.c, modules/textops/textops.c,
	  modules/uri/uri_mod.c:
	  Use the existing str_fixup function from mod_fix.h instead of an own,
	  identical copy.

2007-04-24 10:17  Anca Vamanu, <anca at voice-system dot ro>

	* [r2055] modules/presence/notify.c, modules/presence/presentity.c,
	  modules/presence/presentity.h, modules/presence/publish.c:
	  - modified to send reply for Publish messages immediately after
	  checking the validity of the received message

2007-04-23 15:35  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2053] scripts/openserctl:
	  - openserctl online updated to work with the MI output (reported by
	  Alan crosswell)

2007-04-23 15:00  Di-Shi Sun, <di-shi at transnexus dot com>

	* [r2050] modules/osp/etc/sample-osp-openser.cfg:
	  Add UPDATE message support.

2007-04-23 12:44  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2049] db/db.h, db/doc/db-api.txt:
	  Add documentation for fetch_result function to db api docs, extends
	  comments for this function.

2007-04-23 12:19  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2048] modules/mysql/res.c:
	  - removed log message added accidentaly for debug (reported by Alan
	  Crosswell)

2007-04-23 12:09  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2047] modules/sms/README, modules/uac_redirect/README:
	  sync modules README with the sgml source

2007-04-23 11:27  Henning Westerholt, <henning dot westerholt at 1und1 dot de>

	* [r2046] modules/cfgutils, modules/cfgutils/Makefile,
	  modules/cfgutils/README, modules/cfgutils/cfgutils.c,
	  modules/cfgutils/doc, modules/cfgutils/doc/cfgutils.sgml,
	  modules/cfgutils/doc/cfgutils_devel.sgml,
	  modules/cfgutils/doc/cfgutils_faq.sgml,
	  modules/cfgutils/doc/cfgutils_user.sgml:
	  Add cfgutils module, with functions for random number generation, to
	  introduce execution delay of the server and make random decisions
	  based on a probability value.
	  Credits for the sleep functions belongs to Carsten Bock, BASIS
	  AudioNet GmbH.

2007-04-23 10:41  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2044] packaging/debian-sarge/openser.examples,
	  packaging/debian-sarge/rules, packaging/debian/openser.examples,
	  packaging/debian/rules:
	  - fixed the list of examples to be added in the debian package -
	  ignore the .svn directory; Also include all the available examples
          (more scalable)
	  Credits go to Henning Westerholt <henning.westerholt@1und1.de>.

2007-04-23 10:00  Anca Vamanu, <anca at voice-system dot ro>

	* [r2041] modules/presence/event_list.c, modules/presence/pidf.c,
	  modules/presence/pidf.h:
	  removed pidf files with libxml functions from presence

2007-04-23 09:12  Anca Vamanu, <anca at voice-system dot ro>

	* [r2040] modules/pua_xmpp/simple2xmpp.c:
	  - removed sending reply to xmpp client when a Notify with
	  Subscription-State: terminated; reason=timeout is received

2007-04-23 07:28  Anca Vamanu, <anca at voice-system dot ro>

	* [r2039] modules/presence/README, modules/presence/bind_presence.c,
	  modules/presence/bind_presence.h, modules/presence/doc/presence.sql,
	  modules/presence/doc/presence_devel.sgml,
	  modules/presence/doc/presence_user.sgml,
	  modules/presence/event_list.c, modules/presence/event_list.h,
	  modules/presence/notify.c, modules/presence/notify.h,
	  modules/presence/presence.c, modules/presence/presence.h,
	  modules/presence/presentity.c, modules/presence/publish.c,
	  modules/presence/subscribe.c, modules/presence/subscribe.h,
	  modules/presence/utils_func.c, modules/presence/utils_func.h:
	  - Restructured the module to handle PUBLISH and SUBSCRIBE messages and
	  generates NOTIFY messages in a general, event independentway. It
	  allows registering events to it from other OpenSER modules.
	  presence_xml module adds events: presence, presence.winfo, dialog;sla.

2007-04-20 18:17  Dmitry Isakbayev, <isakdim at gmail dot com>

	* [r2038] modules/osp/RELEASE-NOTES.txt, modules/osp/destination.h,
	  modules/osp/orig_transaction.c, modules/osp/osp_mod.c,
	  modules/osp/term_transaction.c, modules/osp/usage.c,
	  modules/osp/usage.h:
	  Report destination count in source-stop usage indications.

2007-04-19 17:02  Anca Vamanu, <anca at voice-system dot ro>

	* [r2037] modules/presence_xml, modules/presence_xml/Makefile,
	  modules/presence_xml/README, modules/presence_xml/add_events.c,
	  modules/presence_xml/add_events.h, modules/presence_xml/doc,
	  modules/presence_xml/doc/.presence_xml_user.sgml.swp,
	  modules/presence_xml/doc/presence_xml.sgml,
	  modules/presence_xml/doc/presence_xml.sql,
	  modules/presence_xml/doc/presence_xml_devel.sgml,
	  modules/presence_xml/doc/presence_xml_faq.sgml,
	  modules/presence_xml/doc/presence_xml_user.sgml,
	  modules/presence_xml/notify_body.c,
	  modules/presence_xml/notify_body.h, modules/presence_xml/pidf.c,
	  modules/presence_xml/pidf.h, modules/presence_xml/presence_xml.c,
	  modules/presence_xml/presence_xml.h, modules/presence_xml/xcap_auth.c,
	  modules/presence_xml/xcap_auth.h:
	  - new module does specific handling for notify-subscribe events using
	  xml bodies.
	  It is used with the general event handling module, presence. It
	  constructs and adds 3 events to it: presence, presence.winfo,
          dialog;sla.

2007-04-18 11:53  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2032] modules/postgres/Makefile:
	  - added include path for Mandriva
	  Credits go to Cesc <cesc.santa@gmail.com>

2007-04-18 09:29  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2031] modules/acc/Makefile, modules/acc/acc.c:
	  - fixed adding null values as RADIUS AVPS
	  Reported by Ovidiu Sas <sip.nslu@gmail.com>
	  - updated comment in Makefile

2007-04-18 09:10  Anca Vamanu, <anca at voice-system dot ro>

	* [r2030] modules/pua_bla/README, modules/pua_bla/doc/pua_bla_user.sgml:
	  - updated documentation (added a new module parameter outbound_proxy)

2007-04-18 08:46  Anca Vamanu, <anca at voice-system dot ro>

	* [r2029] modules/pua_usrloc/README,
	  modules/pua_usrloc/doc/pua_usrloc_user.sgml,
	  modules/pua_usrloc/pua_usrloc.c, modules/pua_usrloc/pua_usrloc.h,
	  modules/pua_usrloc/ul_publish.c:
	  - added a module parameter - 'entity_prefix' to be used when
	  constructing presence entity for Publish message bodies

2007-04-18 08:40  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2028] modules/unixodbc/my_con.c:
	  - SQL_SUCCESS_WITH_INFO should not be treated as error.
	  Reported by Henning Westerholt <henning.westerholt@1und1.de>
	  Fix provided by Victor Gamov <vit@lipetsk.ru>

2007-04-18 07:28  Anca Vamanu, <anca at voice-system dot ro>

	* [r2027] scripts/mysqldb.sh, scripts/textdb.sh:
	  - modified script for active_watchers also in mysql and dbtext

2007-04-17 17:04  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2026] modules/nathelper/nathelper.c:
	  - fixed some memset bugs

2007-04-17 16:55  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2025] items.c, items.h:
	  - new PV variable to get the protocol of received message $pr or
	  $proto)
	  - closes #1679866

2007-04-17 16:32  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2024] modules/acc/Makefile:
	  - ability to enable RADIUS|DIAMETER acc via make parameters
	  ENABLE_(RADIUS|DIAMETER)_ACC (from a patch submitted by Ovidiu Sas)
	  - closes #1699950

2007-04-17 16:25  Anca Vamanu, <anca at voice-system dot ro>

	* [r2023] scripts/mysqldb.sh, scripts/postgresqldb.sh,
	  scripts/textdb.sh:
	  - added a new column in table pua - record_route
	  - modifies active_watchers.record_route column type from varchar to
	  text

2007-04-17 16:24  Anca Vamanu, <anca at voice-system dot ro>

	* [r2022] modules/presence/README, modules/presence/doc/presence.sql,
	  modules/presence/notify.c, modules/presence/presence.c,
	  modules/presence/subscribe.c:
	  - modified column type active_watchers.record_route from varchar to
	  text
	  - corrected some possible calls to strlen on null argumets

2007-04-17 16:14  Anca Vamanu, <anca at voice-system dot ro>

	* [r2021] modules/pua/README, modules/pua/doc/pua.sql,
	  modules/pua/hash.h, modules/pua/pua.c, modules/pua/send_subscribe.c:
	  - completed using an outbound proxy to send a SUBSCRIBE request
	  - saved record route in Subscribe reply to use it in following
	  Subscribe requests within the same dialog
	  - added a new column in database table "pua"

2007-04-17 14:20  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2019] modules/msilo/msfuncs.c:
	  - strcpy() => memcpy() to deal with NULL characters (reported by Aron
	  Rosenberg)
	  - closes #1680013

2007-04-17 13:57  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2016] transformations.c:
	  - port was missing in parsing uri transformation (reported by Norman
	  Brandinger)
	  - closes #1697632

2007-04-17 12:53  Juha Heinanen, <jh at tutpro dot com>

	* [r2015] modules/lcr/lcr_mod.c:
	  * Aligned lcr module to modified APPEND_BRANCH_T action.

2007-04-16 16:31  Anca Vamanu, <anca at voice-system dot ro>

	* [r2013] modules/pua/hash.h, modules/pua/pua.c,
	  modules/pua/send_publish.c, modules/pua/send_subscribe.c,
	  modules/pua/send_subscribe.h, modules/pua_bla/pua_bla.c,
	  modules/pua_bla/pua_bla.h, modules/pua_bla/registrar_cb.c:
	  - added a new module parameter to pua_bla module: outbound_proxy ,
	  used when sending Subscribe requests
	  - updated pua module to handle subscribe requests using an outbound
	  proxy

2007-04-16 16:05  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2012] modules/imc/imc_cmd.c, modules/jabber/xjab_worker.c,
	  modules/msilo/msilo.c, modules/mysql/res.c, modules/sms/sms_funcs.c,
	  modules/tm/dlg.c, modules/tm/uac.c, modules/tm/uac.h,
	  modules/xmpp/xmpp.c:
	  - t_requests(...) has one new parameter for outbound proxy address

2007-04-16 16:04  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2011] modules/siptrace/siptrace.c:
	  - use of send_sock for source ip of sent messages

2007-04-16 15:17  Anca Vamanu, <anca at voice-system dot ro>

	* [r2010] modules/presence/subscribe.c:
	  - initialized result to NULL and freed result after safety query in
	  watchers_table

2007-04-16 15:08  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r2007] modules/dbtext/dbt_base.c, modules/dbtext/dbt_res.c:
	  - some initialization for safety

2007-04-16 08:05  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r2004] modules/mi_xmlrpc/Makefile:
	  - fixed include path on non-debian systems

2007-04-13 15:21  Anca Vamanu, <anca at voice-system dot ro>

	* [r2002] modules/presence/notify.c, modules/presence/subscribe.c:
	  - replaced getting database query result from str_val with string_val

2007-04-13 12:46  Anca Vamanu, <anca at voice-system dot ro>

	* [r2000] modules/presence/subscribe.c:
	  - added checking if expired records before attempting to delete from
	  table watchers
	  - filled all the columns when inserting a new row in table
	  active_watchers (improvements made to solve errors when using dbtext
          reported by Cesc)

2007-04-13 12:27  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r1998] modules/nathelper/README,
	  modules/nathelper/doc/nathelper_user.sgml,
	  modules/nathelper/nathelper.c, modules/nathelper/nathelper.h:
	  - added support for multiple sets of RTPproxies. You can define and
	  select
	  from script what set of rtpproxies to be used for next command.
	  Credits go to Ancuta Onofrei, a new member of Voice System's team.

2007-04-13 11:07  Anca Vamanu, <anca at voice-system dot ro>

	* [r1996] modules/presence/subscribe.c, modules/presence/subscribe.h:
	  - removed internal function and used print_rr_body function from
	  parser/

2007-04-13 10:31  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r1995] Makefile.defs, parser/parse_rr.c, parser/parse_rr.h:
	  - new function print_rr_body() to compact content of RR headers in a
	  single comma separated string, normal or reverse order
	  - dev version increased

2007-04-12 17:38  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r1993] scripts/textdb.sh:
	  - added auto increment flag for id column

2007-04-12 16:13  Bastian Friedrich, <bastian dot friedrich at collax dot com>

	* [r1992] Makefile, modules/perl/Makefile, modules/perl/README,
	  modules/perl/doc/perl_pod.sgml, modules/perl/doc/samples/logging.pl,
	  modules/perl/lib/perl/OpenSER.pm,
	  modules/perl/lib/perl/OpenSER/Constants.pm,
	  modules/perl/lib/perl/OpenSER/LDAPUtils/LDAPConnection.pm,
	  modules/perl/lib/perl/OpenSER/Message.pm,
	  modules/perl/lib/perl/OpenSER/Utils/Debug.pm,
	  modules/perl/lib/perl/OpenSER/Utils/PhoneNumbers.pm,
	  modules/perl/lib/perl/OpenSER/VDB,
	  modules/perl/lib/perl/OpenSER/VDB.pm,
	  modules/perl/lib/perl/OpenSER/VDB/Adapter,
	  modules/perl/lib/perl/OpenSER/VDB/Adapter/AccountingSIPtrace.pm,
	  modules/perl/lib/perl/OpenSER/VDB/Adapter/Alias.pm,
	  modules/perl/lib/perl/OpenSER/VDB/Adapter/Auth.pm,
	  modules/perl/lib/perl/OpenSER/VDB/Adapter/Describe.pm,
	  modules/perl/lib/perl/OpenSER/VDB/Adapter/Speeddial.pm,
	  modules/perl/lib/perl/OpenSER/VDB/Adapter/TableVersions.pm,
	  modules/perl/lib/perl/OpenSER/VDB/Column.pm,
	  modules/perl/lib/perl/OpenSER/VDB/Pair.pm,
	  modules/perl/lib/perl/OpenSER/VDB/ReqCond.pm,
	  modules/perl/lib/perl/OpenSER/VDB/Result.pm,
	  modules/perl/lib/perl/OpenSER/VDB/VTab.pm,
	  modules/perl/lib/perl/OpenSER/VDB/Value.pm, modules/perl/perl.h,
	  modules/perlvdb, modules/perlvdb/Makefile, modules/perlvdb/README,
	  modules/perlvdb/doc, modules/perlvdb/doc/perlvdb.sgml,
	  modules/perlvdb/doc/perlvdb_devel.sgml,
	  modules/perlvdb/doc/perlvdb_faq.sgml,
	  modules/perlvdb/doc/perlvdb_user.sgml, modules/perlvdb/doc/samples,
	  modules/perlvdb/doc/samples/alias_ldap.pm,
	  modules/perlvdb/doc/samples/flatstoresimulator.pm,
	  modules/perlvdb/doc/samples/simplealias.pm,
	  modules/perlvdb/doc/samples/simpleauth.pm,
	  modules/perlvdb/doc/samples/simplespeeddial.pm,
	  modules/perlvdb/perlvdb.c, modules/perlvdb/perlvdb.h,
	  modules/perlvdb/perlvdb_conv.c, modules/perlvdb/perlvdb_conv.h,
	  modules/perlvdb/perlvdb_oohelpers.c,
	  modules/perlvdb/perlvdb_oohelpers.h, modules/perlvdb/perlvdbfunc.c,
	  modules/perlvdb/perlvdbfunc.h:
	  Adding the new Perl Virtual Database which can relay database requests
	  to Perl functions. Please see module documentation for further
	  information.

2007-04-11 11:21  Anca Vamanu, <anca at voice-system dot ro>

	* [r1991] modules/presence/presentity.c:
	  - corrected freeing sql query result

2007-04-11 10:46  Anca Vamanu, <anca at voice-system dot ro>

	* [r1990] modules/pua_xmpp/xmpp2simple.c:
	  - made a change to ensure receiving notification about presence state
	  of SIP users when a XMPP user agent register

2007-04-11 10:27  Anca Vamanu, <anca at voice-system dot ro>

	* [r1989] modules/presence/publish.c:
	  - corrected an error when searching for event structure in
	  msg_presentity_clean function

2007-04-11 09:42  Anca Vamanu, <anca at voice-system dot ro>

	* [r1988] modules/presence/publish.c:
	  - corrected a bug that leads to core dump if event header is not
	  present (reported by Toni Barata)

2007-04-11 09:06  Anca Vamanu, <anca at voice-system dot ro>

	* [r1986] modules/pua_bla/notify.c:
	  - corrected a bug when creating extra headers

2007-04-11 08:36  Anca Vamanu, <anca at voice-system dot ro>

	* [r1985] parser/parse_event.c, parser/parse_event.h:
	  - improved event parser to be used in presence module

2007-04-09 15:15  Jesus Rodriguez, <jesusr at voztele dot com>

	* [r1983] packaging/freebsd/Makefile, packaging/freebsd/distinfo,
	  packaging/freebsd/files/patch-Makefile,
	  packaging/freebsd/files/patch-Makefile.defs,
	  packaging/freebsd/pkg-descr:
	  Update FreeBSD port to OpenSER 1.2.0 version.

2007-04-08 08:18  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r1981] modules/mi_fifo/README, modules/mi_fifo/doc/mi_fifo_user.sgml:
	  - typos fixed in docs. Applied patch from Jerome Martin.
	  Closes patch 1695006.

2007-04-06 13:24  Anca Vamanu, <anca at voice-system dot ro>

	* [r1979] modules/presence/event_list.c, modules/presence/event_list.h,
	  modules/presence/notify.c, modules/presence/notify.h,
	  modules/presence/presence.c, modules/presence/presence.h,
	  modules/presence/presentity.c, modules/presence/presentity.h,
	  modules/presence/publish.c, modules/presence/subscribe.c,
	  modules/presence/subscribe.h:
	  - restructured the module so that the handling of messages is not
	  event dependent, new events can be added easily.

2007-04-06 13:23  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r1978] examples/ctd.sh:
	  - fix for handling \r\n

2007-04-06 09:38  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r1976] examples/ctd.sh:
	  - ctd.sh version for 1.2.0+

2007-04-05 15:48  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r1974] modules/tm/mi.c:
	  - proper len of reason phrase for mi reply

2007-04-05 12:43  Anca Vamanu, <anca at voice-system dot ro>

	* [r1973] modules/pua_usrloc/README,
	  modules/pua_usrloc/doc/pua_usrloc_user.sgml:

2007-04-05 12:22  Anca Vamanu, <anca at voice-system dot ro>

	* [r1972] modules/pua_bla/README, modules/pua_bla/doc/pua_bla_user.sgml,
	  modules/pua_bla/notify.c, modules/pua_bla/pua_bla.c,
	  modules/pua_bla/pua_bla.h:
	  - added extra header name to be appended to Publish as a module
	  parameter
	  - updated documentation

2007-04-05 11:46  Anca Vamanu, <anca at voice-system dot ro>

	* [r1971] modules/pua_bla/pua_bla.c, modules/pua_bla/pua_bla.h,
	  modules/pua_bla/registrar_cb.c:
	  - added an exported parameter default_domain to be used in the
	  registrar callback

2007-04-04 15:53  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r1970] db/db.c, db/db.h, db/db_cap.h, db/doc/db-api.txt,
	  modules/mysql/db_mod.c, modules/mysql/dbase.c, modules/mysql/dbase.h:
	  - added extension for OpenSER-Database-API and the mySQL-Module for
	  "last_inserted_id" method. This method returns the last inserted ID of
	  an INSERT-statement, in case the table has an auto-increment field.
	  Contributed by Carsten Bock, BASIS AudioNet GmbH
	  The first module to use this functionality will be the usrloc module
	  for update and delete operations (used the record ID instead of costly
          AOR and contact maching)

2007-04-04 14:54  Anca Vamanu, <anca at voice-system dot ro>

	* [r1969] scripts/mysqldb.sh:
	  - corrected an editing error in script for pua table

2007-04-04 13:36  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r1966] modules/dbtext/dbt_res.c:
	  - proper free result for DB_STRING

2007-04-04 13:31  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r1965] Makefile, modules/dbtext/dbt_res.c:
	  - returned str values have type set to DB_STRING instead of DB_STR
	  (should close several open issues reported on mailing lists and
	  tracker)
	  - all str fields in dbtext are null-terminated

2007-04-04 10:07  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r1963] cfg.y:
	  - fixed warning (due a missing semi-colon) on older version of bison

2007-04-04 09:19  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r1961] Makefile:
	  - fixed installation of TLS cfg files when using relative pathes (so
	  far worked ok but only with absolute pathes).
	  Reported by Brent Thomson.
	  Closes BUG 1693142.

2007-04-04 09:14  Anca Vamanu, <anca at voice-system dot ro>

	* [r1960] modules/pua_mi/mi_func.c:
	  - updated to the changes in pua ( new filed event)
	  - use of static buffers

2007-04-04 09:13  Anca Vamanu, <anca at voice-system dot ro>

	* [r1959] modules/pua_usrloc/ul_publish.c:
	  - updated to the changes in pua (new filed- event)

2007-04-04 09:12  Anca Vamanu, <anca at voice-system dot ro>

	* [r1958] modules/pua_bla, modules/pua_bla/Makefile,
	  modules/pua_bla/README, modules/pua_bla/doc,
	  modules/pua_bla/doc/pua_bla.sgml,
	  modules/pua_bla/doc/pua_bla_devel.sgml,
	  modules/pua_bla/doc/pua_bla_faq.sgml,
	  modules/pua_bla/doc/pua_bla_user.sgml, modules/pua_bla/notify.c,
	  modules/pua_bla/pua_bla.c, modules/pua_bla/pua_bla.h,
	  modules/pua_bla/registrar_cb.c, modules/pua_bla/registrar_cb.h:
	  - BLA support according to draft-anil-sipping-bla-03.txt

2007-04-04 09:08  Anca Vamanu, <anca at voice-system dot ro>

	* [r1957] scripts/mysqldb.sh, scripts/postgresqldb.sh,
	  scripts/textdb.sh:
	  - added a new column in table pua

2007-04-04 09:06  Anca Vamanu, <anca at voice-system dot ro>

	* [r1956] modules/pua_xmpp, modules/pua_xmpp/Makefile,
	  modules/pua_xmpp/README, modules/pua_xmpp/doc,
	  modules/pua_xmpp/doc/pua_xmpp.sgml,
	  modules/pua_xmpp/doc/pua_xmpp_devel.sgml,
	  modules/pua_xmpp/doc/pua_xmpp_faq.sgml,
	  modules/pua_xmpp/doc/pua_xmpp_user.sgml, modules/pua_xmpp/pidf.c,
	  modules/pua_xmpp/pidf.h, modules/pua_xmpp/priv.h,
	  modules/pua_xmpp/pua_xmpp.c, modules/pua_xmpp/pua_xmpp.h,
	  modules/pua_xmpp/request_winfo.c, modules/pua_xmpp/request_winfo.h,
	  modules/pua_xmpp/simple2xmpp.c, modules/pua_xmpp/simple2xmpp.h,
	  modules/pua_xmpp/xmpp2simple.c, modules/pua_xmpp/xmpp2simple.h:
	  - SIMPLE- XMPP presence gateway

2007-04-04 09:00  Anca Vamanu, <anca at voice-system dot ro>

	* [r1955] modules/pua/pua_callback.c, modules/pua/pua_callback.h:
	  - added new files for callback

2007-04-04 08:59  Anca Vamanu, <anca at voice-system dot ro>

	* [r1954] modules/pua/README, modules/pua/doc/pua.sql,
	  modules/pua/doc/pua_devel.sgml, modules/pua/doc/pua_user.sgml,
	  modules/pua/hash.c, modules/pua/hash.h, modules/pua/pua.c,
	  modules/pua/pua.h, modules/pua/pua_bind.c, modules/pua/pua_bind.h,
	  modules/pua/send_publish.c, modules/pua/send_publish.h,
	  modules/pua/send_subscribe.c, modules/pua/send_subscribe.h:
	  - added support for XMPP presence and BLA
	  - added a new column in database table- "pua"
	  - added the possibility to have callbacks for received replies

2007-04-04 08:50  Anca Vamanu, <anca at voice-system dot ro>

	* [r1953] modules/presence/README,
	  modules/presence/doc/presence_user.sgml, modules/presence/notify.c,
	  modules/presence/notify.h, modules/presence/pidf.c,
	  modules/presence/presence.c, modules/presence/presentity.c,
	  modules/presence/presentity.h, modules/presence/publish.c,
	  modules/presence/publish.h, modules/presence/subscribe.c:
	  - support for handling a new event : dialog;sla (defined in
	  draft-anil-sipping-bla-03.txt)

2007-04-03 14:13  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r1948] modules/tm/t_reply.c:
	  -fixed too loose condition - it resulted in un-needed timer ops.

2007-04-03 14:00  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r1945] modules/tm/timer.c:
	  - fixed bug in re-triggering the DELETE timer; be sure and reset the
	  timer link structure before re-triggering the DELETE timer from its
          own handler. This could have resulted in shm memory leaks.

2007-04-03 11:03  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r1942] Makefile.defs, modules/textops/textops.c:
	  - safety check for cseq header in reply
	  - dev version increased

2007-04-02 15:11  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r1940] parser/parse_cseq.c:
	  - removed misleading BUGGY word (reported by Gaurav Kulshreshtha)

2007-04-02 14:35  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r1938] Makefile, Makefile.defs, modules/perl/Makefile,
	  modules/snmpstats/Makefile:
	  - fixed name of exported make variables ( unsupported '-' replaced
	  with '_')
	  Closes 1689986.
	  Thanks to anonymous reporter!

2007-04-02 13:53  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r1935] Makefile.defs:
	  - proper arch detection for Sun Ultrasparc T1 architecure
	  Patch provided by Henning Westerholt <henning.westerholt@1und1.de>
	  and tested by Sergio Gutierrez <saguti@gmail.com>

2007-04-02 13:43  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r1934] lock_ops.h:
	  -union handling fixed to make it acceptable to suncc

2007-04-02 13:37  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r1933] atomic.h, lock_ops.h, modules/pike/timer.c:
	  -reverted some changes commited by mistake

2007-04-02 13:32  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r1932] Makefile.defs, atomic.h, lock_ops.h, modules/pike/timer.c:
	  -support for recognizing suncc on i386 arch

2007-04-02 12:01  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r1931] parser/parse_from.c, parser/parse_to.c:
	  - fixed private memory leak in TO param parser because of improper
	  handling of an error case.
	  Credits for reporting and helping go to Papadopoulos Georgios
	  <geop@altectelecoms.gr>.

2007-04-02 10:14  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r1930] modules/xmpp/xmpp.c, modules/xmpp/xmpp_api.c,
	  modules/xmpp/xmpp_api.h, modules/xmpp/xmpp_component.c:
	  - introduced callback mechanism for presence events

2007-03-30 17:53  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r1929] modules/pua/hash.c:
	  - fixed what most probably looks like a copy and paste error.

2007-03-30 17:41  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r1927] modules/auth_radius/authrad_mod.c,
	  modules/avp_radius/avp_radius.c, modules/group_radius/grouprad_mod.c,
	  modules/uri_radius/urirad_mod.c, radius.h:
	  - additional fixes (typos) related to the previous commit

2007-03-30 17:30  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r1926] modules/acc/acc_mod.c:
	  - fixed typo in define usage.
	  reported by Jerome Martin <jmartin@longphone.fr>

2007-03-28 15:51  Klaus Darilion, <klaus dot mailinglists at pernau dot at>

	* [r1925] modules/tm/README, modules/tm/doc/tm_user.sgml:
	  - enhanced docs regarding wt_timer

2007-03-28 11:45  Anca Vamanu, <anca at voice-system dot ro>

	* [r1924] scripts/textdb.sh:
	  - updated presence tables in dbtext script

2007-03-28 10:24  Anca Vamanu, <anca at voice-system dot ro>

	* [r1922] modules/presence/notify.c:
	  - fixed a bug when copying record route in callback parameter

2007-03-27 16:55  Anca Vamanu, <anca at voice-system dot ro>

	* [r1920] modules/presence/subscribe.c:
	  - added updating table watchers when force_active is switched from 0
	  to 1

2007-03-27 10:37  Anca Vamanu, <anca at voice-system dot ro>

	* [r1918] modules/pua/pua.c, modules/pua/send_publish.c,
	  modules/pua/send_publish.h:
	  - corrected adding Content-Type header in Publish messages

2007-03-27 09:35  Anca Vamanu, <anca at voice-system dot ro>

	* [r1917] modules/presence/presence.c, modules/presence/publish.c,
	  modules/presence/subscribe.c:
	  - corrected updating remote_cseq and searching for "Sip-If-Match"
	  header in Publish (changes sent in by sukerry)
	  - corrected error messages when table version is wrong

2007-03-26 16:45  Anca Vamanu, <anca at voice-system dot ro>

	* [r1914] modules/presence/presence.c:
	  - increades table version number for active_watchers table
	  and added verification for all tables used by presence module

2007-03-26 16:44  Anca Vamanu, <anca at voice-system dot ro>

	* [r1913] scripts/mysqldb.sh, scripts/postgresqldb.sh:
	  - increades version number for active_watchers table

2007-03-26 16:29  Anca Vamanu, <anca at voice-system dot ro>

	* [r1912] modules/presence/README:
	  - added a new column and renamed an existing one in table
	  active_watchers

2007-03-26 16:27  Anca Vamanu, <anca at voice-system dot ro>

	* [r1911] scripts/mysqldb.sh, scripts/postgresqldb.sh:
	  - added a new column and renamed an existing one in table
	  active_watchers

2007-03-26 16:23  Anca Vamanu, <anca at voice-system dot ro>

	* [r1910] modules/presence/doc/presence.sql, modules/presence/notify.c,
	  modules/presence/subscribe.c, modules/presence/subscribe.h:
	  - solved cseq not increased error - reported by sukerry
	  - added a new column in table active_watchers

2007-03-26 09:01  Bastian Friedrich, <bastian dot friedrich at collax dot com>

	* [r1909] modules/perl/openserxs.xs:
	  Fixing minor typos (PREINIT listed twice in two funcs)

2007-03-26 08:58  Bastian Friedrich, <bastian dot friedrich at collax dot com>

	* [r1908] modules/perl/doc/perl_devel.sgml,
	  modules/perl/doc/perl_faq.sgml, modules/perl/doc/perl_samples.sgml,
	  modules/perl/doc/perl_user.sgml:
	  Fixing SGML variables (this is the perl module, not the group module)

2007-03-23 16:18  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r1904] modules/registrar/save.c:
	  - remove of e_max usage outside of USE_TCP define (closes 1686849)

2007-03-23 15:45  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r1903] modules/exec/exec.c:
	  - enclose R-URI parameter in single quotes to avoid troubles with uri
	  parameters (reported by Tobias Lindgren)

2007-03-23 14:45  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r1900] Makefile.defs, modules/avpops/avpops.c:
	  - throw error at init when no DB url but using avp_db_query() in
	  script (reported by Ruchir Brahmbhatt)

2007-03-23 12:03  Anca Vamanu, <anca at voice-system dot ro>

	* [r1898] modules/presence/notify.c:
	  - fixed updating cseq number (reported by sukerry)

2007-03-23 10:08  Anca Vamanu, <anca at voice-system dot ro>

	* [r1897] modules/presence/notify.c, modules/presence/subscribe.c:
	  - added proper local_contact and socket info in notifications with
	  state= terminated

2007-03-23 09:30  Anca Vamanu, <anca at voice-system dot ro>

	* [r1896] scripts/mysqldb.sh, scripts/postgresqldb.sh:
	  - corrected xcap_xml table definition

2007-03-23 09:24  Anca Vamanu, <anca at voice-system dot ro>

	* [r1893] modules/presence/README, modules/presence/doc/presence.sql:
	  - corrected xcap_xml table definition

2007-03-22 17:14  Anca Vamanu, <anca at voice-system dot ro>

	* [r1891] modules/presence/README,
	  modules/presence/doc/presence_user.sgml, modules/presence/presence.c,
	  modules/presence/subscribe.c:
	  - enabled table version verification
	  - improved documentation
	  - defined local_contact buffer len
	  reported by Klaus Darilion
	  closes: 1686148

2007-03-22 16:15  Anca Vamanu, <anca at voice-system dot ro>

	* [r1890] modules/presence/subscribe.c:
	  - added some error checking sequences

2007-03-22 15:54  Anca Vamanu, <anca at voice-system dot ro>

	* [r1888] modules/presence/subscribe.c:
	  -solved an error while building local_contact ( reported by Aron
	  Rosenberg)

2007-03-22 15:54  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r1887] route.c:
	  - set flag for duplicated value in PKG for assignments -- was causing
	  memory leak (reported by Christian Schlatter)

2007-03-21 15:04  Anca Vamanu, <anca at voice-system dot ro>

	* [r1885] scripts/postgresqldb.sh:
	  - corrected table definition for active_watchers
	  - proper addition of the 2 columns

2007-03-21 14:39  Anca Vamanu, <anca at voice-system dot ro>

	* [r1884] scripts/mysqldb.sh, scripts/postgresqldb.sh:
	  - added two more columns in table active_watchers
	  to solve transport issues in presence

2007-03-21 14:38  Anca Vamanu, <anca at voice-system dot ro>

	* [r1883] modules/presence/README, modules/presence/doc/presence.sql,
	  modules/presence/notify.c, modules/presence/pidf.c,
	  modules/presence/presence.c, modules/presence/subscribe.c,
	  modules/presence/subscribe.h:
	  - solved transport issues reported by Aron Rosenberg
	  - added 2 more columns in database table active_watchers
	  - saved the socket in Subscribe and used it for Notify
	  (partially used patch sent by Kobi Eshun )
	  - saved local contact and used it in Subscribe replies and Notify
	  closes: 1684036

2007-03-21 14:05  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r1881] modules/domain/domain_mod.c, modules/domain/hash.c,
	  modules/domain/mi.c:
	  - execute MI commands only when db_mode!=0 (reported by Andreas
	  Granig)

2007-03-21 09:29  Anca Vamanu, <anca at voice-system dot ro>

	* [r1880] scripts/postgresqldb.sh:
	  - changed presentity.body type from text to bytea (reported by Item
	  Submitter)
	  closes: 1684821

2007-03-20 10:56  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r1878] scripts/openserctl:
	  - fix adding new contact in usrloc -- new branch flags parameters was
	  missing (reported by Andreas Granig and Daryl Sanders)

2007-03-20 04:57  Di-Shi Sun, <di-shi at transnexus dot com>

	* [r1877] modules/osp/etc/sample-osp-openser.cfg:
	  1. Change log logic in sample-osp-openser.cfg.
	  2. Remove sending Trying for BYE.

2007-03-20 04:38  Di-Shi Sun, <di-shi at transnexus dot com>

	* [r1874] modules/osp/doc/osp_faq.sgml, modules/osp/doc/osp_user.sgml:
	  Update OSP module doc.

2007-03-19 08:01  Klaus Darilion, <klaus dot mailinglists at pernau dot at>

	* [r1870] scripts/openserctl.pgsql:
	  - fixed typo (reported by rkmr.em@gmail.com)

2007-03-16 15:29  Di-Shi Sun, <di-shi at transnexus dot com>

	* [r1869] modules/osp/provider.c:
	  Change the number of max connections from hard coded 2 to _osp_sp_num
	  in ProviderNew function.

2007-03-16 15:10  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r1865] modules/usrloc/ucontact.c:
	  - ul callback for update event is executed after the structure is
	  actualized

2007-03-16 14:48  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r1863] route_struct.c:
	  - check if script var structure was filled when printing routing tree
	  (might cause crash at startup if condition is without operantor)

2007-03-16 14:03  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r1861] Makefile.defs:
	  - removed gcc's -minline-all-stringops for ultrasparc (reported by Bob
	  Atkins, patch by Henning Westerholt )
	  - closes 1540301

2007-03-16 11:44  Anca Vamanu, <anca at voice-system dot ro>

	* [r1859] modules/presence/subscribe.c:
	  - solved a memory leak problem( removed imbricated sql queries)-
	  reported by Aron Rosenberg
	  closes: 1681104

2007-03-16 00:47  Elias Baixas, <elias dot baixas at voztele dot com>

	* [r1857] modules/seas/seas_action.c:
	  Spiral flag added

2007-03-15 21:06  Julien Blache, <jblache at debian dot org>

	* [r1856] modules/presence/Makefile, modules/pua/Makefile,
	  modules/pua_mi/Makefile, modules/pua_usrloc/Makefile, tls/TODO.TLS,
	  tls/tls_config.c, tls/tls_config.h, tls/tls_domain.c,
	  tls/tls_domain.h, tls/tls_init.c, tls/tls_init.h, tls/tls_server.c,
	  tls/tls_server.h:
	  Remove useless svn:executable property on source files and Makefiles.

2007-03-15 18:19  Anca Vamanu, <anca at voice-system dot ro>

	* [r1854] modules/presence/subscribe.c:
	  - corrected freeing memory ( reported by Ardjan Zwartjes)
	  closes: 1681396

2007-03-15 17:02  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r1853] route.c:
	  - updated misleading debug message
	  - not-match operator handled for non-script-variables cofig keywords

2007-03-15 12:35  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r1849] Makefile.defs, cfg.y:
	  - declare warn function for !USE_MCAST (reported by Bob Atkins)
	  - closes 1681281
	  - dev version ++

2007-03-15 12:30  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r1848] ut.c, ut.h:
	  - fixed bug in using static buffer for int2str from multiple code
	  files. As side effect, it was preventing ACC to correctly print the
          extra integer values.
	  Reported by Alex Hermann <alex@speakup.nl>
	  Closes bug report 1681290.

2007-03-15 12:18  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r1847] modules/usrloc/hslot.c, modules/usrloc/hslot.h,
	  modules/usrloc/udomain.c:
	  - fix to handle non-fast locks (reported by Ovisiu Sas)

2007-03-14 14:30  Daniel-Constantin Mierla, <daniel at voice-system dot ro>

	* [r1845] modules/acc/README, modules/acc/doc/acc_user.sgml:
	  - reference to PV page has been updated (reported by Bastian
	  Friedrich)

2007-03-14 09:10  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r1843] modules/acc/README, modules/acc/doc/acc_user.sgml:
	  - fixed default value for "report_ack"
	  Reported by Alex Hermann <alex@speakup.nl>

2007-03-14 08:31  Juha Heinanen, <jh at tutpro dot com>

	* [r1841] modules/lcr/lcr_mod.c:
	  * Removed raw query database requirement.

2007-03-13 20:36  Julien Blache, <jblache at debian dot org>

	* [r1840] packaging/debian-sarge/changelog,
	  packaging/debian-sarge/control,
	  packaging/debian-sarge/openser.examples,
	  packaging/debian-sarge/openser.init,
	  packaging/debian-sarge/patches/10_no_lib64_on_64_bits.dpatch,
	  packaging/debian-sarge/patches/11_always_smp.dpatch,
	  packaging/debian-sarge/rules:
	  Update packaging files for sarge.

2007-03-13 16:29  Klaus Darilion, <klaus dot mailinglists at pernau dot at>

	* [r1837] modules/avpops/README, modules/avpops/doc/avpops_user.sgml:
	  - extended documentation

2007-03-12 20:52  Juha Heinanen, <jh at tutpro dot com>

	* [r1836] modules/lcr/README, modules/lcr/doc/lcr_user.sgml,
	  modules/lcr/lcr_mod.c:
	  * All AVP module parameter values are AVP specifications.
	  * There are no default values for AVP module parameters.
	  * Cleaned up debug statements and indentation.

2007-03-12 18:24  Bogdan-Andrei Iancu, <bogdan at voice-system dot ro>

	* [r1835] AUTHORS, CREDITS, INSTALL, Makefile.defs,
	  packaging/debian/changelog:
	  - updated (ports from 1.2 branch)
	  - version increased to 1.3.0-dev0

===================== 2007-03-12 OpenSER v1.2.0 released ======================

===================== Changes since release 1.1.0 ============================

* 2007-03-10 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- nat_flag historty updated in FAQ. Closes doc item 1655531.
- fixed bug in unsetting the last found reply.
- fixed compile error on solaris

* 2007-03-09 Daniel-Constantin Mierla <daniel@voice-system.ro>
- install openser perl packages

* 2007-03-09 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed several warnings regarding signed/unsigned ops, incomplet 
  initializers for static data.
-Based on a patch send by Eliot Gable <egable@broadvox.net> for increasing
  the level of warning messages

* 2007-03-09 Daniel-Constantin Mierla <daniel@voice-system.ro>
- improved sl_send_reply() fixup
- set null value in usrloc if no more memory in new_ulrecord
- support to print execution time for pieces of config file via set_time_stamp()/
  diff_time_stamp() -- these are not portable. were tested for intel/amd and
  they do not compile by default, but can be used to do performance measurements
- this feature can be compiled via 'make tinfo=yes"
- hooks in usrloc for measurement of loading records from database at startup

* 2007-03-09 Daniel-Constantin Mierla <daniel@voice-system.ro>
- play warn if fail over functions are used but required avp parameters are
  not set (reported by Helge Waastad)

* 2007-03-09 Bastian Friedrich <bastian.friedrich@collax.com>
- Adding environment variables to Makefile to support cross compilation

* 2007-03-08 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- better install script for TLS etc

* 2007-03-08 Anca Vamanu <anca@voice-system.ro>
- changed the unique index for active_watchers table to to_tag
	reported by  Aron Rosenberg; closes 1675964

* 2007-03-07 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- the TLS tools for building rootCA and user certificates are now
  included in openserctl:

* 2007-03-07 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed MIB installation when custom install prefix is used.
  Patch providede by Ovidiu Sas. Closes BUG 1675976

* 2007-03-07 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- if nat ping is enabled (only for natted contacts), be sure the nat bflag
  is set in usrloc module. You cannot ping only natted contacts if you cannot
  identify them!
  Reported by Ovidiu Sas.

* 2007-03-07 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- bug fixed in identfing the contact record in DB. username+domain+contact is
  not sufficient anymore; callid must be also used for identifing the contact
  at update or delete time.
- callid is not updated at update time since it is a constanct value for the
  contact record

* 2007-03-07 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- unique key (username,domain,contact) downgraded to index in 
  location/aliases tables.
  Reported by Ovidiu Sas.

* 2007-03-07 Bastian Friedrich <bastian.friedrich@collax.com>
- Creating new Perl package OpenSER::AVP:: with add, get and destroy
methods. Removing OpenSER::Message::addAVP - AVPs are
message-independent.

* 2007-03-06 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed module destroy - free the lock only if previously allocated.
  Closes BUG 1674501

* 2007-03-06 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed bug when the ssl library you compile against uses kerberos. Kerberos
  implementaion is faulty when comes to memory management as it always use the
  libc malloc/free (for the kerberos context). And the SSL structure is kept in
  shm memory and moved across processes, so the link from SSL to krb_ctx will
  become broken (point into private memory of another process).
- Thanks to Paulo Angonese <angonese@via-rs.net> and ohad.levy@infineon.com
  for report and help in debugging this.


* 2007-03-06 Daniel-Constantin Mierla <daniel@voice-system.ro>
- use full path to svnversion and test if it is executable

* 2007-03-06 Daniel-Constantin Mierla <daniel@voice-system.ro>
- rpid_avp parameter value must be full AVP spec name
- load credentials must contain full AVP spec names
- aaa_avps.h moved to auth_db module, as it is the only one using it
  (auth.h does not need it)

* 2007-03-06 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed backward compatibility with RFC 2543 - if no branch is found the
  existent VIA stack, when doing stateless fwd, use a dummy branch value ("0")

  Reported by Gaurav Kulshreshtha <gaurav@sunrocket.com>

* 2007-03-06 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- major fixup by adding a state-machine (protected by lock) for dialog
  state transitions.
  This eliminates the races between concurent events (multiple 200 OK, 200 OK 
  and negative reply, 200 OK and ACK, BYE and timeout, etc).
  Also the races from the timer list ops were eliminated.

* 2007-03-05 Bastian Friedrich <bastian.friedrich@collax.com>
- Fixing getFullHeader function. Should work in reply context now, too.
- Adding the requested "AddAVP" function.

* 2007-03-05 Daniel-Constantin Mierla <daniel@voice-system.ro>
- AVP parameters of registrar module take full AVP name spec as value

* 2007-03-05 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed t_uac_dlg MI implementation; former forth xmlrpc reply field was not 
  added (this contains hdrs+body from SIP reply).
  Reported by Juha Heinanen <jh@tutpro.com

* 2007-03-05 Daniel-Constantin Mierla <daniel@voice-system.ro>
- fr_timer_avp and fr_inv_timer_avp are default NULL (you have to set the value
  for them if you want dynamic timer values)

* 2007-03-04 Daniel-Constantin Mierla <daniel@voice-system.ro>
- dst_avp_id, grp_avp_id, cnt_avp_id renamed in dst_Avp, grp_avp, cnt_avp
- the parameters take now full AVP spec name as value

* 2007-03-03 Daniel-Constantin Mierla <daniel@voice-system.ro>
- more consistency of avps parameters
- timer avp parameters must be given in full PV format $avp(name)

* 2007-03-02 Anca Vamanu <anca@voice-system.ro>
- changed table definition for xcap_table- xcap column type changed to text

* 2007-03-02 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- added a switch to openserctl / openserctlrc / openserctl.sqlbase to
allow plaintext passwords to be omitted from the database (when using
auth_db module with precalculated HA1, instead of plaintext passwd)
- Contributed by Hans Hoppe. Closes 1671713.

* 2007-03-02 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed proto check for SIPS URIs.
  Credits go to Andrew T Gin <atg19@student.canterbury.ac.nz

* 2007-03-02 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- if the dialog was not found, all related PVs return NULL.
  Based on an idea of Andy Pyles. Closes patch 1669730 and bug 1671435.

* 2007-03-02 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- timeout value increased (how long the process will wait for the reply)

* 2007-03-02 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed xmlrpc implementation to support asyncronous replies (required by 
  t_uac_dlg MI function).
- mi support extended to use also shm memory - needed to move mi trees
  between process.
  Closes 1622537.

* 2007-03-02 Daniel-Constantin Mierla <daniel@voice-system.ro>
- include <limits.h> in flags.h to get the declaration of CHAR_BIT
- custom logging system in sst migrated to default one -- it was not compiling
  on BSD 4.3/gcc 2.95 -- in next release a similar logging system to be included

* 2007-03-01 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed memory deallocation at shutdown

* 2007-02-28 Jesus Rodriguez <jesusr@voztele.com>
- Update FreeBSD port files. This will not work for trunk
  but upgrade to 1.2 will be easier.

* 2007-02-28 Daniel-Constantin Mierla <daniel@voice-system.ro>
- better management of signed/unsigned numbers in config file to avoid potential
  mistakes giving negative values to some parameters

* 2007-02-28 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed TYPO when adding users
- credits go to Helmut Kuper <helmut.kuper@ewetel.de>

* 2007-02-28 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- "reinstall" replaced with "migration" - this eliminates any downtime during
  DB upgrade. Also more saver as the original data is not deleted at all.
- added DB migration from 1.1 to 1.2 format (table formats and content 
  translation)

* 2007-02-28 Daniel-Constantin Mierla <daniel@voice-system.ro>
- added config file to generate doxygen development documentation
- submitted by Norman Brandinger
- use: doxygen doc/doxygen/openser-doxygen to get the HTML output in doc/

* 2007-02-27 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- use generic (platform independent) install command

* 2007-02-27 Jeffrey Magder <jmagder@somanetworks.com>
- This changeset modifies the SNMPStats modules make system.  Specifically, 
  'make install' will now copy the SNMPStats MIBs (located in 
  ./modules/snmpstats/mibs) to a system dependent location.  Please see
  the SNMPStats Makefile for details.  
    Thanks go to Ovidiu Sas for another great contribution.

* 2007-02-27 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- removed the annoying warning "I won't send a reply for ACK" from 
  sl_send_reply().
  Instead of complicating the script just to avoid this warning, better remove
  it (as the outcome is the same).

* 2007-02-27 Daniel-Constantin Mierla <daniel@voice-system.ro>
- PVs are no sub-sections instead of items in the list to be indexed easily

* 2007-02-27 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- sip_warning set by default "Off"- it cause problems because of the limited
  buffer used for building the header.
  Also it is a security risk as it provides inside server information 
  (interfaces, pids, etc) and its only usage is for debugging only.

* 2007-02-27 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- removed the annoying "are you sure you want to proceed?" prompt from 
 "openserctl ul show".
- as a contra measure, the "ul_dump" MI command can take the "brief" parameter;
  this results in a shorted ul dump - only the registered AORs are dumped
  with no information about contacts and so.
  You ca do this :
  	./openserctl ul show --brief   # (shortcut)
	./openserctl fifo ul_dump brief

* 2007-02-27 Daniel-Constantin Mierla <daniel@voice-system.ro>
- collapsed same functions with optional parameters in single entry
  (helps in indexing the functions, reported by Edson)

* 2007-02-27 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- variables required during installation are exported to be available in
  sub-make files (needed by module_install_custom).
  Reported by Ovidiu Sas

* 2007-02-27 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- internal variable CPU replaced with CPU_TYPE to avoid overlapping with system
env. variables on some OSs.

* 2007-02-27 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed "openserctl add" - if serweb tables are not installed, do not
  insted the libphp column in subscriber table.
  For this new switch was added "HAS_SERWEB" which by default is "no". You
  need to set it to "yes" to add the libphp column also.
  Closes 1656081.

* 2007-02-26 Bastian Friedrich <bastian.friedrich@collax.com>
- Fixing segfault when requesting empty URI struct members

* 2007-02-26 Anca Vamanu <anca@voice-system.ro>
- fixed adding event id in Notify (applied patch sent by Benny Prijono )

* 2007-02-26 Daniel-Constantin Mierla <daniel@voice-system.ro>
- moved pseudo-variables as section to get indexed in dokuwiki

* 2007-02-26 Bastian Friedrich <bastian.friedrich@collax.com>
- Enforcing perl file initialization to enable global variables to be
initialized

* 2007-02-24 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
Fixed consistency problem with the NAT flag.
- applied patch from Marcus Hunger - get NAT flag from branch flags and not
from the internal usrloc flags in "get_all_ucontacts".
- moved the flag for marking SIP pinging from message flag to branch flag (to
be consistent with the nat flag, also branch flag)
- SIP ping flag moved from the registrar to nathelper module. You can use any
branch flag to mark the contact for SIP ping as all branch flags are saved
and restored by usrloc. Nathelper module just needs to know the flag index
to identify the contacts.

* 2007-02-22 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
More cleanup applied :
- Delete the crc32file function from crc.c.
- Remove the "/bin/sh" shebang in the sourced scripts in the ./scripts
directory. 
- Remove the now unnecessary patch in the debian packaging directories.
Credits go to Henning Westerholt <henning.westerholt@1und1.de

* 2007-02-22 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- insert_path_as_route() function moved from TM to core to be used also
  for stateless processing.
- stateless reply will also include the PATH array (as Route hdrs) if defined
  Closes BUG 1653955.

* 2007-02-22 Jeffrey Magder <jmagder@somanetworks.com>
- patch to assist in cross-compilation.  Thanks go to Ovidiu Sas (osas) for
the patch.

* 2007-02-22 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- removed the "serweb" section from textdb as serweb does not support dbtext
- implemented the "extra" section
- dbtext.sh renamed to textdb.sh to syncronize with the rest of the scripts

* 2007-02-21 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed provisioning of LCR related tables (some fields changed their type).
  Patch provided by Ovidiu Sas
  Closes BUG 1664846.

* 2007-02-21 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- add ".dirs" file in the debian directories to add "/var/run/openser" to the
 packaging system (required by openser.init for the pid file
 Credits go to Henning Westerholt <henning.westerholt@1und1.de>

* 2007-02-21 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- several fixes in transaction lookup/handling:
  1) avoid as much as possible to lookup for transaction (try to remember
  the last result) - this results in a great speedup in scripts using
  t_check_trans();
  2) fix handling of local ACKs in t_relay() where T already found
  3) fix retransmission handling in t_check_tras() - local ACKs uses same
  transaction as INVITE

* 2007-02-21 Bastian Friedrich <bastian.friedrich@collax.com>
- Forbid module functions that include fixups. An "unsafe" parameter is available
  to allow them again, this will stay undocumented.
- The fix prevents memory leaks that are created by repeatedly calling fixup
  functions.
- Documentation updated.

* 2007-02-21 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- changed the plocy regarding errors: instead of ignoring the error (at any
  time), brek out when the first error occurs.
  Credits go to Henning Westerholt <henning.westerholt@1und1.de>.
  Closes BUG 1658796.

* 2007-02-21 Daniel-Constantin Mierla <daniel@voice-system.ro>
- add date header (patch by Aron Rosenberg)
- closes (1664766)

* 2007-02-21 Juha Heinanen <jh@tutpro.com>
- IP addresses are now kept in dotted string format in gw table.
- LCR mudule should now work also on MSB hosts.

* 2007-02-20 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- generic support for module install: modules can define in the local
  makefile the "install_module_custom" rule for installing custom
  (module specific) stuff during openser installation.

* 2007-02-20 Anca Vamanu <anca@voice-system.ro>
- fixed a bug in updating presentity
- added the posibility to subscribe with no time limit- by setting the
  expires field to a value< 0; the modules does periodical updates until
  a request for a subscription with expires= 0 is received
- fixed a bug in building callback parameter for notify

* 2007-02-20 Elias Baixas <elias.baixas@voztele.com>
  Removed all references to fifo_pid in seas, that prevented seas module to be
  loaded (fifo_pid disappeared when mi_fifo module was added to openser).

* 2007-02-19 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed enabling coredump when daemonizing or setting uid/gid. On linux,
  this operations disable the core dump, so we need to re-trigger it.
  This can be conrtoled via the core param "disable_core_dump".

  Patch provided by Henning Westerholt <henning.westerholt@1und1.de>.

* 2007-02-19 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- bug fixed in MI function "dlg_list" when printing the TO tag.

* 2007-02-19 Daniel-Constantin Mierla <daniel@voice-system.ro>
- parameter of m_store() redesined to be more meaningful. Instead of using
  integer values, the parameter can be given via pseudo-variables
- same parameter can be used for m_dump() and in speedial module to have
  coherence
- userid_avp removed (is covered by new stype of m_store()/m_dump() parameters)


* 2007-02-19 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed PATH header presence in CANCEL and ACK requests.
  Patch providede by Marcus Hunger. Closes 1659920.- fixed PATH header presence
  in CANCEL and ACK requests.
  Patch providede by Marcus Hunger.

* 2007-02-19 Bastian Friedrich <bastian.friedrich@collax.com>
- Removing unnecessary logs; adding DESTROY handler to prevent perl warnings

* 2007-02-19 Anca Vamanu <anca@voice-system.ro>
- corrected formatting in a reply message (reported by Helge Waastad)

* 2007-02-16 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- small timer bug fixed
- fixed warnings in EXTRA_DEBUG

* 2007-02-16 Jeffrey Magder <jmagder@somanetworks.com>
This changeset moves all OID registrations from the experimental branch to
OpenSER's IANA assigned enterprise branch.  This means that all statistics now
fall under 1.3.6.1.4.1.27483 instead of 1.3.6.1.3.6736737.

* 2007-02-16 Daniel-Constantin Mierla <daniel@voice-system.ro>
- if any of left of right operand is null in comparison, return false, don't
  print error message (reported by Juha Heinanen)
- because NULL is different in avs, SIP msg PV, and script variables, you
  cannot do $avp(i:1)=null;$var(x)=null; and expect true in comparison,
  -- ($avp(i:1)==$var(x)) is false all the time.

* 2007-02-16 Daniel-Constantin Mierla <daniel@voice-system.ro>
- handling error case for escape functions (reported by Dan Cristian Bogos)

* 2007-02-16 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed bugs in t_local_replied() . In some particular case, neither "all",
  nor "last" behaved as expected, detecting as local more cases than actually
  it should.
- new value for t_local_replied() param (along "all" and "last") - "branch" :
  if all replies from the branch were local.

* 2007-02-16 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- bug fixed: if DNS-based failover hits at transaction layer and no
  other branches were sent out, be sure to close the transacton (failure route
  and/or fwd reply)

* 2007-02-16 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- proper handling of retransmissions:
- remove some obsolete TM script functions: t_lookup_request(), t_retransmit_reply() 

* 2007-02-15 Daniel-Constantin Mierla <daniel@voice-system.ro>
- free alocated memory when binding DB. Not a really a leak now since it is
  done only at startup, but better free than unused and avoid future turning
  in leak (reported by Henning Westerholt)
- closes 1660410

* 2007-02-15 Daniel-Constantin Mierla <daniel@voice-system.ro>
- use -n in tail for last line (reported by Ovidiu Sas, part of #1656081)

* 2007-02-15 Daniel-Constantin Mierla <daniel@voice-system.ro>
- moved initialization of variable after declaration to comply with C
- documentation alignment to common format (reported by Edson)

* 2007-02-14 Anca Vamanu <anca@voice-system.ro>
- corrected an error while building the str for extra headers
- removed some redundant hash code calculation
- corrected some function definitions
- corrected the xcap_xml.xcap definition

* 2007-02-14 Daniel-Constantin Mierla <daniel@voice-system.ro>
- correct order filling of avp parameters for exec_avp (reported by vabdulla)
- closes 1657899

* 2007-02-14 Anca Vamanu <anca@voice-system.ro>
- added a module parameter: server_address - used for putting the
  contact of the presence server in replies and Notify messages.
- added sending a Notify with no body to watcher if the presentity does not answer
  with a 2XX reply to Notify with winfo

* 2007-02-14 Daniel-Constantin Mierla <daniel@voice-system.ro>
- renamed column 'user' to 'username' in imc tables
- added 'list' command to get members of a room
- the name of tables storing rooms and members can be set via module parameters
- closes 1659192

* 2007-02-14 Anca Vamanu <anca@voice-system.ro>
- improved the mecanism of sending Notify with presence on callback
  for Notify with winfo

* 2007-02-14 Cesc Santasusana <cesc.santa@gmail.com>
Adding equivalent of mysqldb.sh for DBTEXT.
Initial commit with limited capabilities: create, presence, drop, reinit.
So, basic tables and presence tables can be created.


* 2007-02-14 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed include lib hdr files - original error was triggered by a typo in the
  makefile
  Reported by Helge Waastad <helge@smartnet.no>

* 2007-02-14 Anca Vamanu <anca@voice-system.ro>
- corrected xcap_xml table definition(reported by Helge Waastad <helge@smartnet.no>)

* 2007-02-13 Juha Heinanen <jh@tutpro.com>
- Added missing strip count to lcr_dump.
- ip_addr2a is now used to convert gw IP address to ASCII.

* 2007-02-13 Klaus Darilion <klaus.mailinglists@pernau.at>
- fixed SQL definition: postgresql does not allow specifying
  the resolution of int:
  mysql:       int(11)
  postgresql:  int

* 2007-02-13 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed bug in TCP init - if more than 100 tcp children were configured, the
  array of tcp children was overflowed as it was statically allocated with a
  size of 100 entries and there was no check on the configured TCP children.
  Closes bug 1657724.

* 2007-02-13 Anca Vamanu <anca@voice-system.ro>
- fixed sending Notify upon Subscription refresh
        reported by:  Kobi Eshun ; closes  1637284
- added null verification for some variables in function msg_active_watchers_clean
        reported by: Cesc
- applied the patches for active_watchers_table sql script in README and presence.sql
        sent by:  Aron Rosenberg;  closes 1658305
- changed the sql script for presence tables according to the suggestions
 of Alex for adapting the tables to Oracle database and dbtext
	closes 1652302

* 2007-02-13 Daniel-Constantin Mierla <daniel@voice-system.ro>
- fixed checking with null-value PV
- 'null' keyword introduced

* 2007-02-13 Klaus Darilion <klaus.mailinglists@pernau.at>
- fix compilation bug (introduced by $SYSBASE patches)

* 2007-02-13 Daniel-Constantin Mierla <daniel@voice-system.ro>
- diversion example moved out of exported functions chapter
- compacted the functions names and parameters to avoid multiple names on same
  line (hard to generate index)

* 2007-02-13 Juha Heinanen <jh@tutpro.com>
* Replaced sprintf and scanf with more efficient calls.
* Added more checks on strip count.

* 2007-02-12 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- use $(SYSBASE) instead of /usr as it allows to switch to another root
  directory for cross compiling purposes
  Reported by Ovidiu Sas.
  Closes bug 1653539.

* 2007-02-12 Daniel-Constantin Mierla <daniel@voice-system.ro>
- PV exported by modules are registered at loadmodule event to be accessible
  in script (reported by Norman Brandiger)
- added user escape/unescape trasnformation (credits to Juha Heinanen)
  closes 1652269

* 2007-02-12 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- usleep() replaced with the portable sleep_us (internally defined)

* 2007-02-12 Daniel-Constantin Mierla <daniel@voice-system.ro>
- initialize returned contact to NULL in get_ucontact. In case of not found
  the function return 1 and the other functions do not check it
  (credits to Norman Brandiger for reporting and testing)

* 2007-02-12 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed the movment of parameter from pos 1 to pos 2 in fixup function. The
  original approach got broken during the latest changes related to script
  variables.
  Reported by Juha Heinanen <jh@tutpro.com>.
  
* 2007-02-10 Juha Heinanen <jh@tutpro.com>
* Implemented parse_ppi_uri function now when parsed_uri is included in
* to_body.
* P-P-I header URI items now use parse_ppi_uri function.

* 2007-02-10 Juha Heinanen <jh@tutpro.com>
- auth_radius is now using new parse_from_uri and parse_to_uri
  functions.

* 2007-02-09 Daniel-Constantin Mierla <daniel@voice-system.ro>
- check for null values before comparing script variables

* 2007-02-09 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- allowed AVPOPS functions to be used from onreply route

* 2007-02-09 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed AVP handling in onreply route. Based on the new module parameter
  "onreply_avp_mode", the visible avps in reply route will be:
  	0 - only per message avps; no persistency after exiting the route
	1 - transaction avps

* 2007-02-08 Daniel-Constantin Mierla <daniel@voice-system.ro>
- option to enable/disable usage of escape_common() function and fix in
  computing length of escaped values (reported by Jerome Martin)

* 2007-02-08 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed overlapping of error codes: internal reply code E_BAD_PROTO was
  overlapping RFC3261 Temporarily Unavailable  (480)
- dixed error code gnerated by Blacklist filtering. Instead of using the
  generic send error, custom "473 Filtered destination" is used.

* 2007-02-08 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed displaying scrolling during monitoring - redue the number of listed
  items to fit to a 24 lines screen

* 2007-02-08 Daniel-Constantin Mierla <daniel@voice-system.ro>
- reset parsed_uri_ok when new_uri changes value
- reset parsed_uri_ok for on_missed event

* 2007-02-08 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed tables creation - added 2 new classes of tables to be independently
  created (on init or later):
  	- presence - creates tables required by presence and pua modules
	- extra - creates tables requied by rare used modules (cpl, imc, siptrace,
	    domainpolicy)
  Similar to serweb class, the user will be asked at initial installation if
  he wants to install also these additional clasess of tables. Also he can
  add them later by:
  	mysqldb.sh extra
	mysqldb.sh presence
  Presence part for postgres contributed by Klaus Darilion
  Closes BUG 1637296.

* 2005-02-08 Dan Pascu <dan@ag-projects.com>
- Made environment variable names consistent with the ones used by openserctl

* 2007-02-08 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed atuhentication when qop is set - as qop is not supported, compute the
  response without it becasue several servers may fallback also if the client
  does not support qop.
  Credits go to Thomas Gelf <thomas@gelf.net>

* 2007-02-07 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed the append_branch() logic
  Closes BUG 1653952.

* 2007-02-07 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed restoring of path string after processing branches

* 2005-02-07 Dan Pascu <dan@ag-projects.com>
- Simplified getting the error output to prevent certain shells from chocking
on the command.

* 2007-02-06 Klaus Darilion <klaus.mailinglists@pernau.at>
- added description of return value of avp_db_load ( (c) Daniel )

* 2007-02-06 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed lcr related queries to use explicitly the columns (for 'insert');
  all column's names set as defines in order to configure them.
  Reported by Ovidiu Sas.
  Closes BUG 1653433.

* 2007-02-06  Di-Shi Sun <di-shi@transnexus.com>
- Fix [1653350] bug reported for Scalable SIP server project in SourceForge.
  Please check OpenSER tracker for details.

* 2007-02-06 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed compiling with EXTRA_DEBUG.
  Reported by Ovidiu Sas.
  Closes BUG 1653366.

* 2007-02-06 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed line counting when using unescaped CR in quoted strings.
  Closes 1495359. 

* 2007-02-06 Klaus Darilion <klaus.mailinglists@pernau.at>
- added seperate installation routine for presence related tables
- fix permissions for the SERIAL sequences
- fix some SQL bugs introduced by last commit

* 2007-02-06 Daniel-Constantin Mierla <daniel@voice-system.ro>
- added xcap_table parameter (closes 1645499)
- 'user' column renamed in 'username' (closes 1645475 and relates to 1652302)

* 2007-02-05 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- "dereferencing type-punned pointer will break strict-aliasing rules" warnings
  fixed by doing casts via commonly accepted void*.

* 2007-02-05 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed inconsistent data type used for protocol (int and unsigned short);
  All fields carrying protocol or port moved unsigned short. More safer and
  many issues related to casting eliminated.

* 2007-02-05 Daniel-Constantin Mierla <daniel@voice-system.ro>
- sl api definitions

* 2007-02-05 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- bug fixed: the indexes returned by hash functions are unsigned values.
  There was no immediate problem as there is no hash larger than 2 millions,
  but better to be safer.

* 2007-02-05 Daniel-Constantin Mierla <daniel@voice-system.ro>
- sl module exports internal api to avoid usage of sl_send_reply() function
  that was exported for script usage in other modules
- all modules using the sl_send_reply() function internally updated to use the
  new sl api
- should close bug in presence module #1652300
- load_module is renamed to sr_load_module to avoid conflicts with perl library
- sl_reply() function merged back in sl_send_reply() which can have now PV in
  parameters (avoid confusions in sl script functions)
- by using the new SL api, presence module does not need totag_avpid anymore
  (parameter removed from presence module and from sl module)

* 2007-02-05 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed inital value for module parameters carring flags. They do not have
a default usable value anymore as this is dangerous - may lead to flag
ocverlapping if the users is not aware of the defalut value -> all falg
parameters ae set to a non-usable value to force the user to set them.

* 2007-02-05 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- config.h cleanup:
  - obsolete FIFO definitions removed
  - FIFO related definitions moved into MI_FIFO modules
  - radius related definitions moved into radius.h file

* 2007-02-05 Daniel-Constantin Mierla <daniel@voice-system.ro>
- fixed bug introduced in log() function by the struct action update during
  script variable development (reported by bsmithurst)
- closes 1652310

* 2007-02-05 Daniel-Constantin Mierla <daniel@voice-system.ro>
- dev version status changed to pre (pre-release)
- devel is closed for 1.2.0

* 2007-02-03 Daniel-Constantin Mierla <daniel@voice-system.ro>
- new transformation {s.int} return int value from a string-represented number

* 2007-02-02 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- timer with resolution under one seconds (microseconds resolution) added.
  Both timers, TIMER and UTIMER uses the same process and TICKS must be
  a multiple of UTICKS.
- modules using the timer ma choose what timer to use (seconds or miroseconds)
  based o the time resolution they need.
- the timer engine, basd on the registered timer handler, may or may not
  start the timer or utimer.
- TM - retransmissions timer- will be first to use the utimer.

* 2007-02-02 Daniel-Constantin Mierla <daniel@voice-system.ro>
- major changes: avp_aliases added as global parameter in config file,
  escape/unescape functions moved in core, new concept added: 
  "transformation" - functions that can be applied to the value of a
  pseudo-variable (PV), without altering its value.

* 2007-02-01 Juha Heinanen <jh@tutpro.com>
- Increased EXPRESSION_LENGTH constant value due to longer that 100 char
  Refer-To URIs generated by some SIP phones.
- Fixed error message.

* 2007-01-31 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed bug in pre-3261 matching of spiralling 200-ACKs.

* 2007-01-31 Daniel-Constantin Mierla <daniel@voice-system.ro>
- proper translation of parsed_uri for To/From headers
  (reported by Norman Brandiger)

* 2007-01-30 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
IP Blacklist engine added - it can be used for filtering the outgoing requests
based on several criteria. Primary purposes will be to prevent sending
requests to critical IPs (like GWs) due DNS or to avoid sending to destinations
that are known to be unavailable (temporary or permanent).

* 2007-01-30 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed bug in printing the statsu (A or I) in ds_list MI command
  Reported by Helge Waastad <helge@smartnet.no

* 2007-01-30 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed bug in cloning the hostent struct in shm.
  Reported by Norman Brandinger <norm@goes.com> and Helge Waastad
  <helge@smartnet.no>

* 2007-01-29 Daniel-Constantin Mierla <daniel@voice-system.ro>
- removed some extra debug messages
- binary not set to right sign '~'
- all pseudo variables can be used directly in configuration scripts, inside
  any assignment, switch or comparison expressions

* 2007-01-29 Daniel-Constantin Mierla <daniel@voice-system.ro>
- script variables are introduced having the name format $var(name)

* 2007-01-26 Klaus Darilion <klaus.mailinglists@pernau.at>
- OpenSER init program now outputs error messages if config file check
  fails (contributed by Dan). (copy/paste from packaging/debian)

* 2007-01-25 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- DNS based failover added (according to RFC3263)

* 2007-01-24 Juha Heinanen <jh@tutpro.com>
- Removed db_mode module parameter.

* 2007-01-23 Elena-Ramona Modroiu <ramona@voice-system.ro>
- cache update bug fixed (reported by Francesco Castellano)

* 2007-01-23 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- bug fixed in MI list_dialogs - incorrect value was used for timeout.
  Credits go to Ben Smithurst <ben.smithurst@gradwell.net

* 2007-01-23 Elena-Ramona Modroiu <ramona@voice-system.ro>
- updated prefix2domain() function to allow URI translation regardless of the
  source domain (reported by Eliott Spencer)
- updated pdt_list MI FIFO Command

* 2007-01-22 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fix dialog confirmation - after the latest changes into the dialog state
  machine, to get confirmed, a dialog needed provisional replies, which is not
  correct.
  Credits go to Ben Smithurst <ben.smithurst@gradwell.net

* 2007-01-22 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- LD_EXTRA_OPTS env variable added to to have the ability to insert custom ld
  options while linking (it is helping a lot while cross compiling).
  Contributed by Ovidiu Sas <osas@somanetworks.com

* 2007-01-19 Daniel-Constantin Mierla <daniel@voice-system.ro>
- fix for dynamic names of pseudo-variables when was an AVP with string name
  (reported by <jfkavaka@gmail.com>)
- exec_avp() - execute an external application and store the output in AVPs
- avp name list moved to be accessible by exec_avp()
- doc updated

* 2007-01-17 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed bug in delayed cancelling - it is also triggered by internal
  generated cancels and not only for received cancels (as so far).
  A bit od re-design was required in order to smoothly combine the two cases.
  Many thanks to klaus for reporting and helping with testing.

* 2007-01-17 Klaus Darilion <klaus.mailinglists@pernau.at>
- escape values before contructing the SQL statement
  NOTE: It uses the function PQescapeStringConn. Make sure your postgres
  library supports this function before update. E.g. on Debian Sarge you need
  at least postgres-devel and libpq3 version 7.4.7-6sarge3 (version
  7.4.7-6sarge1 does not work).

* 2007-01-17 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- applied patch 1562851 which provide configuration capability for the
   "a=nortpproxy:yes\r\n" string in nathelper.
- the patch was a bit improved to allow also complete disable of this string
  marker.
- very usefull in complex scenarios with chains of RTPproxies.
  Submitted by Jeremie Le Hen.

* 2007-01-16 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- more general support for RADIUS - it is able to compile against both
radiusclient-ng and freeradius-client.
Based on a patch submitted by  Peter Nixon. Closes patch 1631052.

* 2007-01-16 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- config scripts updated to reflect latest changes (mainly FIFO related)

* 2007-01-14 Daniel-Constantin Mierla <daniel@voice-system.ro>
- added function to escape special characters

* 2007-01-12 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- old fifo impl removed

* 2007-01-12 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- all openser tables have an auto-increment id column as primary key
  Closes feature request 1611616.

* 2007-01-12 Julien Blache <jblache@debian.org>
 - Fix sed substitution to properly remove the PATH variable in the openserctl,
   openser_mysql and openser_postgresql scripts.


* 2007-01-12 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed memory leak in case of failing to send an already constructed buffer
  reply.
  Credits go to Andrew Newton <andy.newton@sunrocket.com>

* 2007-01-11 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- sql table format update to use an id column as PK
- SQL creation script listed in the documentation

* 2007-01-11 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed bug in ACK matching when a call spirals on openser.
  Reported by Christian Schlatter <cs@unc.edu>

* 2007-01-11 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- new core option "auto_aliases"

* 2007-01-10  Elena-Ramona Modroiu <ramona@voice-system.ro>
- updated documentation; new exported parameters, functions, mi commands and
  statistics

* 2007-01-09 Daniel-Constantin Mierla <daniel@voice-system.ro>
- introduction of a new route type: error_route

* 2007-01-09 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- re-design of flags in openser to allow a better flexibility and extensibility

* 2007-01-02  Di-Shi Sun <di-shi@transnexus.com>
- Fix ospCopyStrToBuffer bug.
- Add call id length check in ospValidateHeader.

* 2006-12-25 Juha Heinanen <jh@tutpro.com>
- Renamed $pi (P-Preferred-Identity URI) to $pu in order to align naming
  with other To header style pseudo variable.
- Introduced $pn (P-Preferred-Identity Display Name), $pU
  (P-Preferred-Identity URI user), and $pd (P-Preferred-Identity URI
  domain) pseudo variables.
- Removed $pr (privacy) pseudo variable because is_privacy test now exists in
  textops module.

* 2006-12-22 Elias Baixas <elias.baixas@voztele.com>
- Added SEAS module.

* 2006-12-22 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- socket description includes all info (protocol too). Based on the modified
  patch from Ovidiu Sas (Soma Networks).
  Closes 1614047.

* 2006-12-13 Bastian Friedrich <bastian.friedrich@collax.com>
- Fixing Makefile to use MOD_CFLAGS while compiling openserxs.c. Needed on x86-64

* 2006-12-21 Daniel-Constantin Mierla <daniel@voice-system.ro>
- added paameter 'trace_table_avp' to be able to specify dinamically via AVP
  where to record the messages
- 'traced_user_avp' parameter is now string, to allow specifing AVP name as
  string or integer

* 2006-12-20 Daniel-Constantin Mierla <daniel@voice-system.ro>
- initial version of xmpp API to be used for SIMPLE-XMPP presence translation
  (not tested yet)

* 2006-12-19 Juha Heinanen <jh@tutpro.com>
- Introduced in textops module is_privacy(privacy_type) script function
  for testing if SIP request has a privacy header that includes the given
  privacy_type as one of its privacy values.

* 2006-12-18 Jeffrey Magder <jmagder@somanetworks.com>
-Initial release of the SNMPStats OpenSER module.

* 2006-12-18 Juha Heinanen <jh@tutpro.com>
- Added pseudo variable $pn for accessing display name of
  P-Preferred-Identity header.

* 2006-12-18 Daniel-Constantin Mierla <daniel@voice-system.ro>
- compare string lengths if strncasecmp returns 0 for '>' and '<' comparisons
- check return code against 0, not all systems return -1 and 1 for
  strncasecmp() in case of '<' and '>'
- reported by Juan Carlos Castro y Castro

* 2006-12-18 Juha Heinanen <jh@tutpro.com>
- Added parsing of Privacy header (RFC 3323)
- Added string and integer valued pseudo variable $pr for accessing
  parsed privacy header

* 2006-12-18 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- applied patch from Norman Brandinger <norm@goes.com> to update the reply
  reason phrase accordingly to http://www.iana.org/assignments/sip-parameters
  Closes 1615280.

* 2006-12-18 Anca Vamanu <anca@voice-system.ro>
- extended primary key for table "xcap_xml" (reported by Mircea Amarascu)

* 2006-12-16 Juha Heinanen <jh@tutpro.com>
- Added parsing of P-Asserted-Identity header (RFC 3325).
- Introduced $ai pseudo variable for accessing P-A-I header URI.

* 2006-12-15 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- applied patch from Ovidiu Sas <osas@somanetworks.com> to fix socket
  description string on arch with no BE (16-bit atomic element) - like ARM
  Closes 1614192.

* 2006-12-15 Juha Heinanen <jh@tutpro.com>
- Added parsing of P-Preferred-Identity header (RFC 3325).

* 2006-12-15 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- new state added for a dialog : DLG_STATE_CONFIRMED_NA - confirmed by a final
  reply but no ACK received. Existent state DLG_STATE_CONFIRMED means confirmed
  and ACK received.

- new pseudo variables available from dialog module:
	DLG_lifetime - duration of the dialog from confirmation up to the
	               current moment
	DLG_status - dialog status

* 2006-12-13 Bastian Friedrich <bastian.friedrich@collax.com>
- Perl 5.8.x is supported; compilation possible with 5.6.x. 
  Earlier versions do not work. #ifdefs in perl.c, doc updates.

* 2006-12-15 Anca Vamanu <anca@voice-system.ro>
- modified agregate_xmls function to correctly treat the case in which the body
  does not have a person id
  (reported by Adrian Georgescu)

* 2006-12-14 Anca Vamanu <anca@voice-system.ro>
- solved a nested sql query, and therefore eliminated memory leak problems
- removed manually parsing cseq numerical value and
- modified xml building functions by using only the api from libxml2,
and therefore eliminated compiling errors in solaris

* 2006-12-13 Bastian Friedrich <bastian.friedrich@collax.com>
- New perl method: getBody()

* 2006-12-12 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- applied patch from Elias Baixas <elias.baixas@voztele.com>; it provides more
  TM functionality required by an upcoming module that will be a binary
  interface to an Application Server.
  Mainly it is about:
	1) new "t_uac_cancel" function to build CANCEL local transactions
	2) more functions are made available via TM API

* 2006-12-12 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- applied patch from Jeffrey Magder <jmagder@somanetworks.com> :
- new statistic varibale is offered by usrloc module: the total number of
  registered users (to be used in the upcoming SNMP module)

* 2006-12-08 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- asyncronous reply support added in MI interface
- added implementation for async reply in mi_fifo module
- TM t_uac_dlg() uses async replying when available

* 2006-12-09 Bastian Friedrich <bastian.friedrich@collax.com>
- Initial import of Perl module.

* 2006-12-07 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- descriptionof MI command changed - a new field was added to allow passing some
  flags to MI core like:
	MI_ASYNC_RPL_FLAG - if the reply is send asynchronous
	MI_NO_INPUT_FLAG - if the command does not require any input

* 2006-12-07 Juha Heinanen <jh@tutpro.com>
- Group identifier argument of allow_source_address and
  set_address_group functions can now be either an integer string or
  a pseudo variable.

* 2006-12-07 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- applied patch from Jeffrey Magder <jmagder@somanetworks.com> - it provides
  more statistics:
- new "bad_URIs_rcvd", "bad_proxy_req" and "bad_methods" core statistics
- new module_loaded(name) test function added
- new get_stat_var_from_num_code(code) function added - very handy when dealing
  with statistics with dynamic names
- get_sock_info_list() function made available from modules

* 2006-12-07 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- latest modules added into debian packaging:
   1) xmpp module was added to the openser-jabber-module package
   2) presence pua pua_mi pua_usrloc modules form a a new 
      penser-presence-modules package
   3) mi_xmlrpc module form a a new openser-xmlrpc-module package

- osp module is excluded from packaging since its dependencies cannot be
  solved by other Debian packages.
  Reported by Juha Heinanen <jh@tutpro.com>.

* 2006-12-07 Anca Vamanu <anca@voice-system.ro>
- corrected action sequence to enable sending Notify with basic status closed
  when Publish expires

* 2006-12-06 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- new PV added to make available the reply code in all types of routes
  $T_reply_code

* 2006-12-06 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- t_relay() and t_relay(OBP) functions can take as extra parameter as set of
  flags for internal controll: if a provisional reply shoud be sent or not,
  if a negative reply should be automatically generated in case of failure or not.
  For more, please refer to the docs.

* 2006-12-06 Daniel-Constantin Mierla <daniel@voice-system.ro>
- split to get more modularity
- add content-type for sent messages (reported by Henri Keski-Sikkila)
- send message back if unknown message
- dev version increased

* 2006-12-06 Anca Vamanu <anca@voice-system.ro>
- set default not to send usrloc publish

* 2006-12-06 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- new tranaction flags added:
	/* ACK must not be auto generated for the local transaction */
	#define T_NO_AUTOACK_FLAG       (1<<5)
	/* provisional replies must trigger callbacks for local transaction */
	#define T_PASS_PROVISIONAL_FLAG (1<<6)
- actions related to these flags added:
	if T_NO_AUTOACK_FLAG is set, no ACK will be generated for the 200 OK
        for local requests
	if T_PASS_PROVISIONAL_FLAG is set, the provisional replies to local
        requests will be pushed via the TMCB_LOCAL_RESPONSE_OUT callback

* 2006-12-06 Klaus Darilion <klaus.mailinglists@pernau.at>
- TLS certificate validation is now on by default
- docs updated

* 2006-12-06 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- parsing bug fixed: the "stale" field in digest challange hdr may take not
  quoted value (as well as quoted)
  Credits go to Christophe Irles <christophe.irles@alcatel.fr>

* 2006-12-06 Klaus Darilion <klaus.mailinglists@pernau.at>
- added a note that a default admin user is created during serwerb table
  installation (a default user is always a security issue)
- changed the postgresql ALTER TABLE statement for extending the subscriber
  table for serweb to work with postgres 7.4.7

* 2006-12-05 Anca Vamanu <anca@voice-system.ro>
- added verification in callback function if reply message is FAKED_REPLY

* 2006-12-05 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- Fixed problem when creating tables using default "utf8" or "ucs2" charsets 
  they use 3 bytes for char and generates error about the lenght of the keys:
  ERROR 1071 (42000): Specified key was too long; max key length is 1000 bytes
Solution was to:
1) Test what's the character encoding is used in database.
2) If it's a UCS-2 or UTF8 (where 3 bytes per char are used) then warn
user that db couldn't be created and prompt him to select another
character encoding among available.
3) In a "CREATE DATABASE" use closure "CHARACTER SET"
 Patch submitted by Khalukhin Alexander <khalukhin@gmail.com>.Thanks!!
 Closes bug 1605410.

* 2006-12-05 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed credentials calculation for admin user in serweb section
  Reported by Klaus Darilion <klaus.mailinglists@pernau.at>

* 2006-12-05 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- removed old fifo commands - they were used only for debug purposes and had no
  value in a usage scenario
- add new MI function 'pike_list' - returns all IP addresses marked as flooding
  source.

* 2006-12-05 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
-last MI functions added: t_uac_dlg & t_uac_cancel
 Syntax had slitly changed :
	Syntax of "t_uac_dlg" :
		method
		RURI
		NEXT_HOP?
		socket?
		headers?
		[Body]
	Syntax of "t_uac_cancel" :
		callid
		cseq
 Nodes marked ? may be replaced with "." as empty marker. [] is an optional node.

* 2006-11-05 Juha Heinanen <jh@tutpro.com>
* Added subnet support to allow_address functions.

* 2006-12-05 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- docs updated (module dependencies)
  Reported by Nicolas Palix <nicolas.palix@labri.fr

* 2006-12-04 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- added MI functions for TM (partial)
- protoype of internal functions changed in TM: reply reason is str* instead of
  char * - avoids doing strlen() for each reply; better do it once at startup.

* 2006-12-04 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- all FIFO functions ported to MI interface - they can be now accessed via
  XMLRPC also.
- fixed bug in the ul_dump function - no locking was done when dumping the table

* 2006-11-30 Anca Vamanu <anca@voice-system.ro>
- presence user agent client support
- pua: common API
- pua_mi: MI PUA extension
- pua_usrloc: usrloc PUA extension

 PUA_MI
 - provides functionality to publish presence information from
 independent applications (like scripts, web pages ...) via MI

 PUA_USRLOC
 - enhance openser to be able to publish online/offline status
 for SIP devices with no presence extension support


* 2006-11-30 Lavinia Andrei <lavinia@voice-system.ro>
- initial upload of a XMLRPC implementation for MI interface.

* 2006-11-29 Dan Pascu <dan@ag-projects.com>
- Fixed domain_reload and trusted_reload commands not working over the UNIX
socket interface.
- It's possible that other commands may have been fixed by this as well.
Basically any command that needed a database connection was not working
over the UNIX socket interface as the process carrying the unix domain
socket server didn't have a database connection.

* 2006-11-29 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- bug fixed: improper free of linked list (first delete and later iterate)
  based on a patch submitted by Jan Andres <jan.andres@freenet-ag.de> for SER

* 2006-11-29 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- added BLOB support in flatstore - useful if you want to used along siptrace
  module.
  Based on an original patch sent by Francisco Olarte Sanz
  <folarte@peoplecall.com>

* 2006-11-29 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- MI tree changed: the top node has a different structure in order to accomodate
  a reply code and reason.

* 2006-11-28  Di-Shi Sun <di-shi@transnexus.com>
- Merge the changes in rel_1_1_0 to CVS HEAD on 11/28/06.

* 2006-11-28 Daniel-Constantin Mierla <daniel@voice-system.ro>
- dynamic library loading flags can be specific per module
- new modules under development requires such features
- by default RTLD_NOW is used, see 'man dlopen' for more options
- thanks to Bastian Friedrich <bastian.friedrich@collax.com

* 2006-11-28 Anca Vamanu <anca@voice-system.ro>
- local generated requests will include a Content-Length header all the time.
reported by Chris Robson <Chris.Robson@nrl.navy.mil>

* 2006-11-28 Daniel-Constantin Mierla <daniel@voice-system.ro>
- usage of AoR hash to index the records
- tests with hundreds of records per hashtable entry having same length of AoR
  proved that hash value is different which increase the probability that a
  integer comparison will match the AoR, avoiding string comparisons quite a lot
- devel version increased
- some extra debug messages to help in testing (to be removed later once proves stable)

* 2006-11-27 Daniel-Constantin Mierla <daniel@voice-system.ro>
- added missing documentation of traced_user_avp
- ability to disable usage of traced_user_avp

* 2006-11-27 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- detailed description of loose_route() function added to docs.
  Credits go to Klaus Darilion <klaus.mailinglists@pernau.at

* 2006-11-27 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed bug - un-initialized global variable may lead to a crash if openser
  destroys the sl module without initializing it (during a failed startup).
  Some compilers init vars with 0, but not all.

* 2006-11-24 Daniel-Constantin Mierla <daniel@voice-system.ro>
- immproved locking system to access location entries
- updated all modules to the new interface
- NOTE: not yet heavy tested, please report any issue to devel@openser.org
- devel version increased


* 2006-11-24 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- bug fixed: User-Agent was not reloaded from DB during restart.
  Closes bug 1602339.

* 2006-11-24 Daniel-Constantin Mierla <daniel@voice-system.ro>
-added new field for pseudo-variables in exported interface

* 2006-11-23 Daniel-Constantin Mierla <daniel@voice-system.ro>
- modules can register pseudo-variables via export structure
- a null terminated list with PVs is now part of module's exports
	{ pv-name, pv-function, pv-type, pv-parameter }
- the old function to register PV can be still used
- small tlsops updates: module name in exports aligned with external name
and old TLS pseudo-variables moved to new structure (some by Klaus Darilion)

* 2006-11-23 Klaus Darilion <klaus.mailinglists@pernau.at>
- fixed require_client_certificate for default TLS server domain
  (reported and patch contributed by Philippe phgs@free.fr
- fixed default TLS client/server verification (had no impact as both
  default values are 0)

* 2006-11-23 Daniel-Constantin Mierla <daniel@voice-system.ro>
- fromip for outbound proxy-ed requests set to local ip (credits to Dan Pascu)

* 2006-11-22 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed display problem in "openserctl monit"; "tput cup 0 0" replaced with
  "tput clear" - it is inevitable to do a clear since the printed lines may
  vary as length (get smaller); also a printed line may be wrapped over several
  terminal raws if the terminal size is changed on the fly.
Closes 1528402.

* 2006-11-22 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- applied patch from Marcos Hack for adding SQL_DECIMAL type. Closes 1598507.
- more data types added:
   SQL_NUMERIC for integer
   SQL_DATE, SQL_TIME, SQL_TIMESTAMP, SQL_TYPE_DATE, SQL_TYPE_TIME for data-time

* 2006-11-22 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- "use_domain" module parameter removed as now it is internally imported from
  the usrloc module
- save_memory() and save_noreply() merged into save(domain,flags) - more
  flexible in combination of functionalitites
- configuration error is generated if MEMORY ONLY flag is used on save() while
  the DB_ONLY mode is configured in usrloc.
- docs and faq updated

* 2006-11-22 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- local function mi_get_mask() replaced with the new core function strno2int()

* 2006-11-22 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- new functions strno2int() added - a warpper on top of int2str() and
  strhex2int() for easy conversion of strings in decimal and hexa format;
  binary format should be also added in future

* 2006-11-22 Daniel-Constantin Mierla <daniel@voice-system.ro>
- fromip for local generated messages is set to the address of the socket used
  to send
- toip for sip_trace() recorded messages is set the address of the socked where
  the message was received

* 2006-11-21 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
-fixed handeling of the permanent contacts (to work properly in DB_ONLY mode):
	- FL_PRESISTENT flag removed
	- persistent contacts are identified by having the expires=0
	- timer routine for deleting expire contacts in DB_ONLY does not need
          to deal with flags for skipping the permanent contacts (flag testing
          in quite impossible via the current DB API)
- removed unused flag from usrloc
- openserctl ul ops updated to reflect the changes for the persistent contacts
Closes 1579127.

* 2006-11-16 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- MI support added (existing FIFO functions migrated to MI)

* 2006-11-16 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed bug in loading the radius values in the ACC module
  Closes 1596427 (reported by Philippe Sultan)
  Most probably it will be needed to do a RADIUS cleanup in all the radius
  related modules as the original idea of aloading the radius dictionary
  does not scale anymore.

* 2006-11-13 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
 Issue:
In CPL, during a proxy to a location set the
value of the branch flag being passed to append_branch
is currently the configured value for "nat_flag" (ie 6).
However, append_branch is expecting a bit mapped flag value (ie 0x40).
Also in CPL, the nat flag is getting set for the msg
if any branches have the nat flag set. This can cause
the RURI branch to have the nat flag set when the
location associated with the RURI branch does not
have the branch flag set.
Also, to be consistant with the default used in the
registrar module, made the default for nat flag -1
in the cpl-c module.
 Patch provided by John Riordan <john@junctionnetworks.com>


* 2006-11-13 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
 Issue:
In CPL, during a location lookup, the lookup fails
for users with an '_' in the user portion of the AOR.
For example, if the AOR is user_1@domain.com, cpl
registration lookup always fail.

 Patch:
Use tolower(c) instead of (0x20)|(c) when building
the interpreters copy of the AOR.
 Patch provided by John Riordan <john@junctionnetworks.com>


* 2006-11-08 Norman Brandinger <norm@goes.com>
- Removed warning messages generated on 64-bit systems.
  printf("%d",sizeof(x)) changed to printf("%lu",(unsigned long)sizeof(x)).
  Tested ok on both 32 and 64 bit systems.

* 2006-11-02 Juha Heinanen <jh@tutpro.com>
- Split enum_query function into pre-processing stuff and do_query
  function that does the actual query.
- Introduced infrastructure enum query function i_enum_query and
  associated module variables (contributed by Otmar Lendl).


* 2006-11-02 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- the ACK TM callback set in the "reply code" param the method ID - this leads
  to incompatibilities in the ACC module -> use the code directly from transaction
  Problem reported by Norman Brandinger <norm@goes.com

* 2006-11-01 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed memory free - the private memory used by the fifo parser cannot be
  freed in module destroy since allocation is done in a different process
 Reported by Anca-Maria Vamanu <anca@voice-system.ro>

* 2006-11-01 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- avp_radius module added to openser-radius-modules debian package

* 2006-11-01 Daniel-Constantin Mierla <daniel@voice-system.ro>
- fix of usrloc callbaks: invoke only if the type of event matches with callback
  function type

* 2006-10-31 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed some low probability races. Patch sent by Andrei Pelinescu-Onciul
 <andrei@iptel.org>

* 2006-10-31 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
Major rewriting of postgres module, contributed by Norman Brandinger <norm@goes.com>:
 1. aug_* memory routines are gone.
 2. connection pooling has been implemented.
 3. fetch support has been implemented.
 4. many sanity checks (set by PARANOID in defs.h) have been added.
 5. general code cleanup has taken place.  this was done, only for the code that
    was involved in the update.
 6. renamed / combined some files to make it easier to locate subroutines.
 7. renamed many subroutines with pg_ prefix to be globally unique across OpenSER.

* 2006-10-30 Anca Vamanu <anca@voice-system.ro>
- send NOTIFY after each SUBSCRIBE(reported by Franz Edler)
- don't save when initial SUBSCRIBE has expires 0

* 2006-10-30 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
-DB name updated - reported by Doug Meredith <doug.meredith@systemguard.com>

* 2006-10-27 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- new pseudo-variable- $Au (accounting username) item that gets username the
  same way as accounting module was doing - try to get it first from credentials
  and if nor present, use the FROM URI.
  This PV will compensate (read : make life easier) the removel of USERNAME
  RADIUS AVP in ACC module

  Credits go to Juha Heinanen <jh@tutpro.com>.

* 2006-10-27 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- ACC DB aligned to latest changes in ACC module - from_uri, to_uri and cseq
  columns were dropped.

* 2006-10-27 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- the minimal ACC set reduced even more (FROM and TO uri and cseq no) - see the
  thread on devel@openser.org for reasons.
- for RADIUS acc, the USERNAME RADIUS avp is not added by default - it will be
  replaced by a pseudo-variable, thanks to Juha

* 2006-10-26 Daniel-Constantin Mierla <daniel@voice-system.ro>
- support for read-only query in 'openserctl db'
- support to define queries in variables inside openserctlrc and then run it
  via variable name with 'openserctl db [ro]run varquery'
- example:
openserctlrc: LISTUSERS="select username,domain,email,rpid from subscriber"
> openserctl db rorun LISTUSERS

* 2006-10-26 Dan Pascu <dan@ag-projects.com>
- Added ability to specify the NAT IP address of the signaling via and AVP
  If this AVP is set, it should contain an IP address that will be used as
  the address of the NAT from where the SIP signaling originated, else src_ip
  will be used (previous behaviour). This is useful in cases where the SIP
  proxy that actually starts mediaproxy does not receive the signaling
  directly from the UA, but there are other proxies in the path in front of
  it. In such a case a way to propagate the NAT IP is required and than that
  IP should be set into the signaling_ip_avp for mediaproxy to use.


* 2006-10-24 Klaus Darilion <klaus.mailinglists@pernau.at>
- new module: domainpolicy
- adds domainpolicy lookup according to draft-lendl-domain-policy-ddds-02
  and draft-lendl-speermint-federations-02
- can be used for static+dynamic peering
- see README for more details


* 2006-10-23 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- Fix asm constraint to avoid register overlap on arm
  Credits got to Julien Blache <jblache@debian.org>

* 2006-10-19 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- table "address" added, thanks to Norman Brandinger <norm@goes.com>

* 2006-10-19 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- gcc-3.4 and gcc-3.0 cases merged as they proved to be identical
- CC_CLASS replaces CC_SHORTVER while CC_SHORTVER is kept without any wildcards
- for gcc 4.1, warnings about strict-aliasing are suppressed

* 2006-10-19 Juha Heinanen <jh@tutpro.com>
- Changed two addf_mi_node_child calls to add_mi_node_child calls.

* 2006-10-19 Juha Heinanen <jh@tutpro.com>
- Introduced mi interface to permissions module.

* 2006-10-17 Juha Heinanen <jh@tutpro.com>
- Example now uses avpops instead of textops.

* 2006-10-13 Anca Vamanu <anca@voice-system.ro>
- new presence server implementation (RFC3265, RFC3856, RFC3857...)
- works in db-only mode now
- support for handling PUBLISH and aggregation of muliple presence documents
- support to interpret XCAP
- support for handling watcher info documents
- see more at: http://openser.org/dokuwiki/doku.php?id=presence:presence-module

* 2006-10-13 Daniel-Constantin Mierla <daniel@voice-system.ro>
- ability to get To tag from avp
- dev version increased

* 2006-10-06 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- MI interface extended:
        - each MI function may register an init function to be called from the
          MI processes
        - module may register MI functions in a more simpler way, via module's
          export interface instead of using register_mi_cmd()

- all module migrated to the changes in the module_export

- some syncronizations fixes in the MI functions in imc module

- new module ported to the new MI - flatstore and pdt

* 2006-10-10 Ron Winacott <ronw@somanetworks.com>
- Made the sst module compliant with the RFC.
and now the 422 reply will carry the Min-SE: header.

* 2006-10-10 Ron Winacott <ronw@somanetworks.com>
- Updated the documents to match the new API/RFC compliant
functionality.

* 2006-10-09 Elena-Ramona Modroiu <ramona@voice-system.ro>
- bug fix reported by Julien Blache

* 2006-10-09 Anca Vamanu <anca@voice-system.ro>
- external functions implemented for MI also

* 2006-10-07 Julien Blache
- Add back DH_COMPAT=5 emulation code for openser-dbg.

- 2006-10-06 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
-applied patch from Carsten Bock, BASIS AudioNet GmbH for removing the
 "desc_time_order" module parameter as its functionality was migrated to
  usrloc module.

* 2006-10-06 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- "desc_time_order" usrloc module parameter controls the contacts order per
  user both at insert and update time.
  If enabled, the first contacts in the list will be the latest modified
  (inserted or updated); otherwise the list will be kept order by the q
  value.
- "desc_time_order" has also affect if db_mod is DB_ONLY.

* 2006-10-06 Anca Vamanu <anca@voice-system.ro>
- new module imc: Instant Messaging Conferencing
- IRC-like conferencing style, using embedded commands in body of MESSAGEs
- allow to create/delete a room, invite/remove users to rooms
- provides short help command
- possibility to create public/private rooms
- restart survive by storing rooms in database

* 2006-10-06 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- the MI functions accepts the flag bitmap in hexa format also

* 2006-10-05 Juha Heinanen <jh@tutpro.com>
- Removed unused r_uri column of silo table.
- Added into silo table an index on ($USERNAME, domain).

* 2006-10-05 Juha Heinanen <jh@tutpro.com>
- Added max_messages module variable that may be used to limit how many
  messages can be sgtored for an AoR.
- Removed unnecessary code.
- Fixed ms_snd_time_avp test.
- Updated documentation.

* 2006-10-04 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- as there is no way to constrain a callback function to change the
  pointer and len of the received parameter string, be sure to pass to the
  callback a copy in order to protect the internal values.
  For example, the "path" module does this, so all later call of
  check_route_param () will fail.
- Many thanks to Helge Waastad <helge@smartnet.no> for the help to
  debug this.

* 2006-10-02 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- New module for implementing FIFO transport layer for Management Interface.
In the near future it will replace te current FIFO implementation (core and modules).

* 2006-10-02 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- Statistic external functions are also exported via the new Management Interface.
- The new functions are more flexible since they accept as arguments a list of
  modules or statistic variables to be listed/reset

* 2006-10-02 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- Management Interface (MI) - interface to provide common functions and data
  structure between the implementation and transport part for management
  functions (external triggers for OpenSER); 

* 2006-10-01 Juha Heinanen <jh@tutpro.com>
- A faster implementation is_domain_local() that accepts only a pseudo
  variable as argument.

* 2006-09-30 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed compile error when SQL_ACC is nod enabled
   Reported by Juha Heinanen <jh@tutpro.com>

* 2006-09-30 Dan Pascu <dan@ag-projects.com>
- Extended the is_domain_local() function to accept any pseudo variable or AVP
specification, as well as fixed strings for parameters.
This adapts the function to the new pseudo variable and AVP specs that were
introduced by openser 1.1.x
- The old $ruri and $from shortcuts are gone, but they can be replaced by $rd
respectively by $fd to obtain the same result.

* 2006-09-29 Daniel-Constantin Mierla <daniel@voice-system.ro>
- removed special characters used by 'show create', they conflict with shell
  special quotes (reported by Rafael J. Risco)

* 2006-09-28 Dan Pascu <dan@ag-projects.com>
-Do not restrict what methods are processed. Fixes bug with devices using
UPDATE to change the session on the fly not working.

* 2006-09-25 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- user2uid() and group2gid() moved from main.c to ut.c to be also used
  by modules.

* 2006-09-25 Daniel-Constantin Mierla <daniel@voice-system.ro>
- SIP-to-XMPP gateway implementation following the latest XMPP standards from IETF
  (RFC3920/RFC3921)
- this first version works for instant messaging (to follow: presence. voice)
- allow communication with any XMPP server, including Google Talk
- ability to work as standalone XMPP server or as component to other XMPP server
- no need to map SIP users to XMPP users, everything is transalted on the fly
- the address resolution follows the scheme from old jabber module

* 2006-09-22 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
-grand ACC restructuring and clean-up:
    - simplify internal logic for preparing and message selection
    - more efficient data collection
    - eliminate the FMT-based accounting; instead of it, a default set of
      basic values are all the time accounted; for more, extra accounting
      should be used -> this leads to a more selective / flexible / performant
      accounting
    - pre-builds sets of names / columns / RADIUS AVPs / DIAMETER AVPs instead
      of doing it each time a request is accounted
    - "n/a" string for not found/available values replaced with empty string ""
    - eliminated a lot of un-necessary functions - heritage from the all TM
      callback design (pre pre-transaction transaction)
    - DB accounting table redesigned
    - accounting logic separated in a new file for a better modularity.
    - implemented an accounting environment for storing data; helps in reducing
      the number of function's parameters and of internal functions; more
      important, useless conversions from str to int and to int again are
      eliminated

* 2006-09-22 Klaus Darilion <klaus.mailinglists@pernau.at>
- Add support for extended Secure RTP Profile for RTCP. (ported from ser)

* 2006-09-21 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fix potential race condition - the callback is not sncronized, so the
  hook from TM may change -> make a copy a pass a local hook to the callback

* 2006-09-19 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- new function added "int2bstr" - same as "int2str" but instead of using a
  static buffer it takes one as parameter - allows sequential calls without
  overwriting the result.
- some code duplicity removed


* 2006-09-19 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- New module uploaded: SIP Session Timer (sst)
  Provided by Ron Winacott <ronw@somanetworks.com>

  Description:
  The new module gives OpenSER basic SIP Session Timer support. See rfc4028 for
  more information on SST. This new module uses the new dialog module to track
  the creation, updating and termination of SIP dialogs. The dialog module
  supports timed out termination of the dialog but at this time the timeout
  value is hardcoded (avp accessable and modparam() settable)

  What the sst module does is uses the dialogs own callbacks to update the
  dialog timeout value based on the current expire: header value.

  There is also a script function called sstCheckMin(min_se_value) that can be
  used in a proxy configuration to reply with a 422 "Session Interval Too
  Small" to a INVITE with a small MIN_SE value.


* 2006-09-19 Daniel-Constantin Mierla <daniel@voice-system.ro>
- updated doc for avp_pushto() to reflect ability to push any pseudo-variable
  in parts of SIP message (reported by Juha Heinanen)
- fixed incorrect (harmless) usage of FM operator in case of division and
  enabled modulo operator

* 2006-09-19 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- the AOR may be transmitted via an AVP instead of being fetched from
  the proccessed request.
- new module parameter "aor_avp_id" to enable/disable/configure this feature

* 2006-09-18 Dan Pascu <dan@ag-projects.com>
- clean utils/openserunix as well

* 2006-09-17 Juha Heinanen <jh@tutpro.com>
- Added 'id' auto-increment primary key to 'address' table.

* 2006-09-14 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- example scripts updated (break replaced with exit)
  Reported by Ruchir Brahmbhatt <ruchir.brahmbhatt@gmail.com>


* 2006-09-13 Daniel-Constantin Mierla <daniel@voice-system.ro>
- check supported methods before dumping stored messages (patch by Juha Heinanen)
- option to turn off the addition of received date to dumped messages

* 2006-09-08 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- more flexible implementation for multi-leg accounting
- code cleanup for low level functions:

* 2006-09-07 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- harmless bug fixed - it was triggering some integrity tests in EXTRA_DEBUG.
  Reported by Mark Kent <mark@noc.mainstreet.net>

* 2006-09-06 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- added new algorithm for building VIA branch parameter for stateless
  requests - it complies to RFC3261 requirement to be unique through time and space.

* 2006-09-05 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- syn_branch parameter moved from core parameter to TM module paraemter;
  it controlls only the statefull behaviour so it must be only in TM.

* 2006-09-04 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- build the sibling linked list also for the VIA hdrs

* 2006-09-02 Juha Heinanen <jh@tutpro.com>
- Introduced set_address_group, allow_address, and allow_source_address
  permission module script functions and address database table.

* 2006-08-24 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- if the AOR does not contain a username part, when use_domain is
  enabled, used an empty string as username part and do not report BUG
  Reported by Helge Waastad <helge@smartnet.no>.
  Closes 1545219.

* 2006-08-15 Daniel-Constantin Mierla <daniel@voice-system.ro>
- replaced bash dependent expression with usage of 'expr' from coreutils
- reverted commit which introduced space after AWK -F
- should fix itmes #1540127, #1540132

* 2006-08-14 Daniel-Constantin Mierla <daniel@voice-system.ro>
- maddr is automatically handled by RR processing (initial patch by graphy, Simon Morvan)

* 2006-08-12 Julien Blache <jblache@debian.org>
- Adding Debian packaging for Debian 3.1 Sarge.

* 2006-08-09 Daniel-Constantin Mierla <daniel@voice-system.ro>
- support asynchronous query, steps required for fetch support (patch by Norman Brandinger)
- for the moment, transcation support in postrgres module is suppressed

* 2006-08-06  Di-Shi Sun <di-shi@transnexus.com>
- Use get_from/to/rpid instead of accessing date directly.

* 2006-08-03 Daniel-Constantin Mierla <daniel@voice-system.ro>
- applied patch for better get_result() handling from Norman Brandiger

* 2006-08-03 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- flag index 0 enabled
  reported by Tavis P <tavis.lists@galaxytelecom.net

* 2006-08-02  Di-Shi Sun <di-shi@transnexus.com>
- Change reporting usage from cookie not to use called number in Request-Line
  of BYE messages. The BYE messages from source and from destination have
  different called number if called number is translated.
- Change a log using "[x.x.x.x]" format for the source device.

* 2006-07-31  Di-Shi Sun <di-shi@transnexus.com>
- Fix [1524079] bug reported for Scalable SIP server project in SourceForge.
   Please check OpenSER tracker for details.
- Change getting destination protocol & OSP version. If these functions fail,
   using the default protocol & OSP version.

* 2006-07-27 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- got rid of the "-i" sed parameter since it is not available on all OS.
  Credits go to Wolfgang Hottgenroth <woho@hottis.de>

* 2006-07-27 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- applied patch from Norman Brandinger <norm@goes.com> : maps the postgres
  data type BPCHAROID as intternal string.
  Closes patch 1529340.

* 2006-07-27 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed memory leak and double free.
  Thanks to Marcos Hack <marcosh@voicetechnology.com.br> for debugging.

* 2006-07-23 Daniel-Constantin Mierla <daniel@voice-system.ro>
- location records loading is performed by first child (this exists in
  no-fork mode as well)
- all the other children can process SIP messages immediately after
  OpenSER start/restart
- chance to access usrloc (read/insert/update) data is given to all
  processes even when usrloc records are loaded
- great performace improvement for usrloc records loading

* 2006-07-19 Juha Heinanen <jh@tutpro.com>
- Introduced is_uri_user_e164() function.

* 2006-07-17  Di-Shi Sun <di-shi@transnexus.com>
- Re-formated all source code. Added comments for all functions.
- Fix [1524046] bug reported for Scalable SIP server project in SourceForge.
   Please check OpenSER tracker for details.

* 2006-07-17 Juha Heinanen <jh@tutpro.com>
- Replaced allow_refer_to functions with more general purpose allow_uri
  function.

* 2006-07-17 Klaus Darilion <klaus.mailinglists@pernau.at>
- fixed typo in TLS documentation
- updated TLS settings in default openser.cfg to the new TLS syntax

* 2006-07-17 Daniel-Constantin Mierla <daniel@voice-system.ro>
- reactivated username/domain flags in avp_write() for all pseudo-variables
  and static values - reported by Juha Heinanen
- flags were processed but they didn't propagate from fixup
- old parameters that accepted these flags have equivalent in pseudo-variables
  (e.g., $ruri/domain == $rd)

* 2006-07-17 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- removed double definition of "usr_preferences_types" table and added
 missing definition of "active_sessions" table
 Reported by Klaus Darilion <klaus.mailinglists@pernau.at

* 2006-07-15 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- fixed compilling problem on platform which does not define
  IPTOS_MINCOST and IPTOS_LOWCOST. Previous fix had a static
  approach which was now replced wiht a more flexible one.
  Reported by Frank Garcia <fg-lists@ipnat.net>

* 2006-07-14 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- Applied path for correcting syntax from MySQL to Postgres (credits go to
Norman Brandinger <norm@goes.com>).

* 2006-07-14 Daniel-Constantin Mierla <daniel@voice-system.ro>
- hash_size - new parameter to tune the size of usrloc hash table
- the number of entries in the hash is 2^hash_size (e.g, if hash_size=4,
the number of entries in hash table is 2^4 = 16)


* 2006-07-14 Daniel-Constantin Mierla <daniel@voice-system.ro>
- added support for fetch_result() in DB API
- drivers supporting fetch_result() will advertise DB_CAP_FETCH as capability
- added support for fetch_result() in mysql module
- usrloc modules uses fetch_result() if available when loads location records
- this removes the issue with loading huge numbers of location records which
required increase of PGK memory size and recompilation of OpenSER
- from the tests, with 1MB memory (default) the out of memory occured
approximately around row 4300
- usrloc has a new parameter 'fetch_rows' for tunning the number of the rows
to be fetched at once, default is 2000

* 2006-07-10 Daniel-Constantin Mierla <daniel@voice-system.ro>
- fixed memory leak in DNS resolver when overflow happens (credits go to Juha
Heinanen)


===================== 2006-07-10 OpenSER v1.1.0 released ======================

===================== Changes since release 1.0.0 ============================

* 2006-07-06 Daniel-Constantin Mierla <daniel@voice-system.ro>
- packaging: added new openserctl

* 2006-07-06 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- dialog: several bugs fixed:
  1) fixed shutdown crash when dialog module was cleaned before TM module
  2) the dialog structure must be refed by the transaction callback.
  3) fixed missing unlock which leads to dead lock
-core:  more TLS functions to perform proper shared memory clenaup on shutdown

* 2006-07-05 Daniel-Constantin Mierla <daniel@voice-system.ro>
- avpops: is_avp_set() handles properly the index of AVPs (reported by
  Norman Brandinger)

* 2006-07-05 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- domain: clean shutdown: free all used shared memory on exit
- core: - more validity checks for table_version() - check if returned field
  has INT type and if it's not null
- memory cleanup on exit

* 2006-07-04 Daniel-Constantin Mierla <daniel@voice-system.ro>
- scripts: new version of openserctl

* 2006-07-04 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: at shutdown, do memory cleanup for extra iteams.

* 2006-07-03 Daniel-Constantin Mierla <daniel@voice-system.ro>
- pdt: avoid resynchronization when other worker processes still have to do it
  and diff list is not freed

* 2006-07-03 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- usrloc: bug fixed in updating the contact records.
- usrloc: - fixed bogus test for return code of new_ucontact()
- registrar: fixed bug in build_path_vector() - do not return a pointer to
  a str that in freed, but return the full str as parameter.

* 2006-07-02 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: check the type of table_version result (reported by
  Ryan (Matty <matty91@gmail.com>))
- mysql: free mysql connection from pool only when found

* 2006-06-30 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- packaging: various packaging control files updated

* 2006-06-29 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- pike: bug fixed - due bogus flag testing, race between timer and ip tree
  could occurred

* 2006-06-27 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: buffer overflow fixed in append_branch() function - dst_uri and path
  strings were not checked as length before being pushed into the static
  buffers;
- core: append_branch() push into internal branch structure the forced socket
  also.
- registrar: fixed mem leak during lookup in DB_ONLY mode
  Reported by Andreas Granig <andreas.granig@inode.info>
- tm: receiving more replies after the final reply is not reported anymore as
  error. The cause is signalling related and cannot be controlled.
  Reported by Andreas Granig <andreas.granig@inode.info>
- permissions: fixed crash on permissions module  when reload_trusted() failed.
- permissions: fixed clenup on error in init_trusted()
  Reported by Raymond Chen <rchen@broadz.com>

* 2006-06-26 Andreas Granig <andreas.granig@inode.info>
- path: fixed mem-leak in parsing route-params.

* 2006-06-26 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: fixed small potential memory leak in SIP resolver.
  Reported by Douglas Garstang <dgarstang@oneeighty.com>
- acc: fixed bug - the internal and script sets of flags whre swapped when
  using the FL_REQ_UPSTREAM flag
  Credits go to razvan radu <openser-devel@list.coretech.ro>.

* 2006-06-23 Andreas Granig <andreas.granig@inode.info>
- core: fixed two mem-leaks in Path-handling.

* 2006-06-22 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- acc: bug fixed:
     do not install FAILURE callback for CANCELs since TM does not allows it.
     Reported by Sumeet Gupta <skg1010@hotmail.com>
- acc: small optimization:
     install only really needed TM callbacks (for missed calls and ACK reports)
     Suggested by Juha Heinanen <jh@tutpro.com>

* 2006-06-21 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: fixed computation of VIA branch param for end2end ACK

* 2006-06-21 Daniel-Constantin Mierla <daniel@voice-system.ro>
- scripts: added manual page for openserctl

* 2006-06-20 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- usrloc: memory leak fixed. Reported by Christian Schlatter <cs@unc.edu>

* 2006-06-14 Elena-Ramona Modroiu <ramona@voice-system.ro>
- pdt: proper cleanup when server does not initialize

* 2006-06-13 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- acc: "0" and "1" FMT entries overlapps due internal usage of same
   parsed_uri structure.
- tm: tw_append should not append non-existing values
  Credits go to Juha Heinanen <jh@tutpro.com>

* 2006-06-09 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- usrloc: fixed bug in fetching all contacts in db_mode=3 (DB_ONLY).
  Reported by Christian Schlatter <cs@unc.edu>

* 2006-06-07 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- acc: fixed bug in direction detection algorithm during accounting.
  Reported by Glenn Dalgliesh <glenn@routerboy.com>
- gflags: functionality fix - added a new fifo function to be able to read
  the current bitmap of gflags. Reported by Helge Waastad <helge@smartnet.no>
- nathelper: fixed building of received uri when IPv6 is used.
  Credits go to Klaus Darilion <klaus.mailinglists@pernau.at>

* 2006-06-06 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: check for null passwords (on some OS strcmp crashes) - reported by
  Edgar Barbosa

* 2006-06-05 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: fixed bug in cleaning lump lists based on flags - this was generating
  double inserts in Branch routes or memeory leaks in Failure routes.

* 2006-06-01 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: fixed init of default server and client tls domains

* 2006-05-31 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core:  bug fixed in choosing the default port: if proto is TLS and no port
  or SRV is available, use 5061 as default port for outgoing connections.
- gflags: flag range checked for script functions
- gflags: proper cleanup at module destroy
- gflags: got rid of memory allocation in fixup function
- gflags: optimized fixup function -> compute directly the bitmap
- gflags: allowed script functions to be used from BRANCH_ROUTE (reported by
  Juha Heinanen)

* 2006-05-30 Daniel-Constantin Mierla <daniel@voice-system.ro>
- dbtext: added support DB_BITMAP in update() - reported by Ovidiu Sas
- core: fixed linking error on solaris for utils' tools due to -lfl (reported
  by Ryan matty91@gmail.com)

* 2006-05-30 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: even if it has no script parameters, a function may export a fixup
  function. If, param  no. = 0, the fixup will be called with param index 0.
  If function has params, nothing is changed. The possibility to have a fixup
  function even if no param is exported is useful when checking global settings
  that may affect the behaviour of the function.
- uri_db: "db_url" module parameter may be set to empty string in orer to
  disable DB support in the module - this is needed if you want to use
  check_to() or check_from() to check the user against credentials in a non DB
  environment.
- tm: fixed branch picking algorithm - if cancelled, but not 487 replied
  received, fallback and use classical algorithm.
- tm: fixed bug in CANCEL retransmission - an implementation more closer to the
  hop by hop CANCEL processing concept
- core: - fixed bug in parsing display name in format:
  "From: token1 token2<uri>"

* 2006-05-29 Daniel-Constantin Mierla <daniel@voice-system.ro>
- dbtext: dbt_row_set_val() accepts DB_BITMAP (reported by Ovidiu Sas)

* 2006-05-29 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- avpops: memory leak fixed in avp_raw_query()
  Credits go to John Riordan <john@junctionnetworks.com>
- core: FROM / TO header paramter parsing fixed:
    1) TAG parameter must have value, but any other parameters are accepted
        without value
    2) removed the NO_PINGTEL_TAG_HACK (long time ago, pingtel phones were
        sending empty tag param in TO) - it's conflicting the RFC 3261;
  Reported by Ovidiu Sas <osas@somanetworks.com>.
- permissions: fixed crash when permission module was shutdown after an
  incomplete startup. Reported by  Elton Machado (lowgitek).
- tm: bug fixed in building ACKs for negative replies to local INVITEs. RURI
  must be the same as in INVITE and Route hdr have no send to be added.
  Thanks to Elias Baixas <elias.baixas@voztele.com> for troubleshooting the
  problem.

* 2006-05-26 Juha Heinanen <jh@tutpro.com>
- lcr: if R-URI userpart becomes empty, @ sign is not included in R-URI.

* 2006-05-25 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- postgres: bug fixed - postgres may return a row without a column value, so
  we need to double check it. Credits go to
  Arve Rasmussen <Arve.Rasmussen@iplink.no>
- auth_db: module accepts DB_STR type for credentials (dbtext beckend returns
  only DB_STR and not DB_STRING).
  Reported by Ovidiu Sas <osas@somanetworks.com>.

* 2006-05-24 Andreas Granig <andreas.granig@inode.info>
- core: heck for null-pointer before accessing Supported-flags.

* 2006-05-24 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- unixodbc: unixodbc patch wasteful memory fixes and reconnect, patch by
  Sumeet Gupta <skg1010@hotmail.com>
- uac_redirect: bug fixed - q value is also pushed into branches in order to 
  allow serial forking. Based on an original patch from
  Michael Samuel <michael.samuel@ipsystems.com.au>

* 2006-05-22 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: forward and send functions merged by including the protocol, host and
  port into a single parameter like [proto:]host[:port]. Aligned to t_relay()
  and t_forward() format and NAPTR lookup enabled also.
- core: applied patch from Klaus Darilion :  provides TLS client domains
  (name/socket based) and more script config capabilities
- tlsops: new module for TLS operations, patch by Klaus Darilion

* 2006-05-22 Daniel-Constantin Mierla <daniel@voice-system.ro>
- acc: null pseudo-variable values are stoared as "n/a" to keep consistency
  with acc format (reported by Juha Heinanen)

* 2006-05-19 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- avpops: branch can be used as new destinaton for avp_pushto().
    Ex: avp_pushto("$br","$avp(i:30)");  - it will push the avp directly as a
        new branch without affecting the RURI.
- acc: bugs fixed:
  ~ the "missed call" report will display as outgoing uri exactly the RURI used
    for that branch
  ~ the accounting report will display as outgoing uri the RURI of the winning
    branch
  ~ proper internally handling (set/reset) of the "missed call" flag
- acc: behaviour fix:
  ~ the "missed call" flag has effect only on the next serial fork - once
    triggered to report a missed call (a serial fork step ended), the flag is
    automatically reset by module. To catch the potential "missed call" reports
    due next serial forks, you need to re-arm the flag from failure route.
    This behaviour gives full control over what branches should be or not
    accounted as "missed calls".
- tm: branch selection algorithm centralized in a single place - more coherent
    and easier to maintain.
  ~ the selected branch in stored in a static variable to avoid multiple
    computation for same transaction (so far, each t_check_status() call was
    triggering computation of the selected branch)
  ~ TM API exports a new function for making public the selected branch (how
    the winning branch is selected must be transparent for the other modules)
  ~ fixed the branch selection algorithm - if the transaction was cancelled, the
    "487 Request cancelled" reply will have priority and it will be sent to UAC.
- usrloc: module is able to detect retransmissions based on Callid and Cseq. The
  retransmission detecton is controled via the new "cseq_delay" module
  parameter.
  REGISTER retransmissions (inside the cseq_delay interval) will not generate
  error, but they will be accepted and properly replied without any update on
  the location status.
  This solves the problem of retransmissions without having a statefull
  processing on requests.
- core:  new function added : int branch_uri2dset( str *new_uri ) ->
  moves the uri to destination for all branches and all uris are set to
  given uri; to be used to implement replication to multiple destinations
- tm: t_replicate() takes as parameter a SIP URI instead of a destination (in
  order to align the format as for append_branch() ).
- tm: t_replicate() uses the set branches to perform parallel replication to
  multiple destinations

* 2006-05-15 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- nathelper: applied patch for fixing the multiple stream handling in
  sequential requests. Patch by Laurent Schweizer <laurent.schweizer@gmail.com>

* 2006-05-13 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- rr: bug fixed in routing after a strict router
  Reported by Walter Schober <walter.schober@neotel.at>

* 2006-05-07 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: added support to manage AVP flags from configuration script
  ~ flags are 8bit long and have to specified after the AVP name type and
    before the semicolon, e.g., s3:rpid - string-named AVP with flags 1 and 2 set
  ~ avp naming is now $avp(name_type[flags]:name_id) - name_type = s | i;
    script_flags = 1..255
  ~ a reference to an AVP via alias is now: $avp(alias)
  ~ updated AVP API to allow flags usage

* 2006-05-05 Dan Pascu <dan@ag-projects.com>
- auth_db: Properly handle integer columns in the subscriber table when
  generating the AVPs specified by the auth_db/load_credentials module
  parameter. This fixes crahses caused by invalid memory access when a
  non-string column was specified to be loaded in load_credentials.
   With this patch, string and integer table columns are properly handled and
  will create an AVP with a string respectively an integer value depending
  on the type of the column in the subscriber table that is loaded.
  Other column types are currently not handled and will generate an error
  message in the logs if used, however if need arises they can be handled by
  converting them to a string and creating an AVP with a string value.
- core: Added missing definition for pkg_realloc if PKG_MALLOC was not defined
  and the standard libc allocation functions were used

* 2006-05-04 Klaus Darilion <klaus.mailinglists@pernau.at>
- dialog: added newly introduced parameter when registering pseudo variables

* 2006-05-03 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: old statistics incrementation moved after the length of message is
  computed to access the rigth value (reported by Dan Pascu)

* 2006-05-02 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: allow to set parameter for callback functions of extra pseudo-variables

* 2006-04-28 Juha Heinanen <jh@tutpro.com>
- lcr: applied patch by Andreas Granig that adds optional group id parameter
  to load_gws(), from_gw(), and to_gw() functions.

* 2006-04-26 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- tm: use new_uri instead of original uri in t_write().
  Credits go to Juha Heinanen <jh@tutpro.com>

* 2006-04-21 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- dialog: more dialog callbacks added: DLGCB_EARLY and DLGCB_RESPONSE_FWDED
  Patch provided by Ron Winacott <ronw@somanetworks.com>

* 2006-04-19 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- dialog: callback types renamed to avoid overlapping with some TM defines.
  Reporded by Ron Winacott <ronw@somanetworks.com>

* 2006-04-14 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- dialog: new module for dialog support
- unixodbc: leaking memory in the covert rows function; removes some deprecated
  ODBC functions; invalid cursort state on error; error reporting from ODBC;
  patch by Sumeet Gupta <skg1010@hotmail.com>

* 2006-04-13 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: fixed bug when using exit/return within a switch statement
- core: support for setting custom lifetime (expire time) for the TCP
  connections
- registrar: module may set for TCP connection a custom lifetime for keeping
  it open as long as the registered contact is valid.

* 2006-04-13 Daniel-Constantin Mierla <daniel@voice-system.ro>
- avpops: fixed crash when using global flags in avp_pushto() (reported by
Christian Schlatter)

* 2006-04-11 Daniel-Constantin Mierla <daniel@voice-system.ro>
- avpops: fixed avp_db_load() when loading all avps of a type (reported by
  Andreas Granig)

* 2006-04-10 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- usrloc: bug fixed in print_contacts() - sock may be null
- uac: forbid from changing in auto mode only for URI, but allow it for display

* 2006-04-07 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- scripts: replaced gen_ha1 with md5sum

* 2006-04-07 Daniel-Constantin Mierla <daniel@voice-system.ro>
- siptrace: siptrace
  ~ allow to intercept the SIP messages processed by the sip server and store
  them in a database
  ~ messages are stored along with destination IP and changes made by proxy to
  the original messages
  ~ ability to send a duplicate of the message to a configurable address

* 2006-04-06 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- cpl-c: fixed bug in processing DROP / EXIT in branch route (due nested
  execution). Reported by Tavis P <tavis.lists@galaxytelecom.net>

* 2006-03-29 Juha Heinanen <jh@tutpro.com>
- core: check_dig_cred() now checks that if digest username has domain, it
  must match realm.

* 2006-03-29 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- tm: new TM callbacks added:
          TMCB_TRANS_DELETED - called when the transaction is deleted
          TMCB_REQUEST_BUILT - called just before sending out a request
- tm: callback can get more paramters via extra params
- tm: 'char * buffer' and 'int len' fields in 'struct retr_buf' merged into a
  'str' for better manipulation
- sl: callbacks added - the only event is sending a stateless reply
- nathelper: bug fixed in processing the newly added "c" flag in
  force_rtp_proxy(). Reported by Bayan Towfiq <bayan@towfiq.com>

* 2006-03-28 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- acc: bug fixed in acc with serial forking: o-uri contains the uri of the
  winning branch and not the the first one.
- unixodbc: fixed bug in function db_update() : the query string was null
  terminated only if exist 'where' parameters.
- unixodbc: appled patch to support ODBC reconnect when connection not open or
  communication link failure - by Alex Gradinar <Alex.Gradinar@cartel.md>
- tm: applied patch provided by Juha Heinanen <jh@tutpro.com> : port from
  SER of "pass_provisional_replies" TM options (pass back through unixsock
  the provisional replies and not only the final one).
  This was required in order to maintain compatbility with latest SEMS
  version.
- nathelper: added support for changing session-level SDP connection (c=) IP
  when media-description also includes connection information.
  This can be enabled by setting the "c" flag to force_rtp_proxy()
  Based on a patch sent by Bayan Towfiq <bayan@towfiq.com>

* 2006-03-24 Dan Pascu <dan@ag-projects.com>
- mediaproxy: do not print error to syslog is SDP body is missing. Return a
  different negative code instead (-2) and let the caller handle the error
  (there are cases where a missing SDP body is not an error and can be ignored).
  This also helps by avoiding the need to call a has_body() function prior
  to calling use_media_proxy(). Instead call use_media_proxy() directly and
  it will tell you if it can't find a body, but without giving an error to
  syslog

* 2006-03-20 Juha Heinanen <jh@tutpro.com>
- lcr: stripping was not done when next_gw() was called in  FAILURE_ROUTE.

* 2006-03-19 Juha Heinanen <jh@tutpro.com>
- permissions: if a trusted peer has a non-NULL tag field and if peer_tag_avp
  module parameter is defined, tag value of matching is added to AVP specified
  by peer_tag_avp as side effect of allow_trusted() call.

* 2006-03-17 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- textops: applied patch (modified) from Marc Haisenko <haisenko@comdasys.com>:
  provides new function has_body([mime])

* 2006-03-15 Jesus Rodriguez <jesusr@voztele.com>
- packaging: fix undefined symbols problems
- the HEAD branch of the CVS will keep the FreeBSD port files to build the
  last stable version. A tarball (and its checksum) is needed to build the
  port and this is not (easily) possible with current.

* 2006-03-15 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: xl_printf_s() has now support for nested calls - fixes in the simplest
  way the bug in uac_replace_from() when both parameters contains
  pseudo-variables. Reported by Urtho <junk@urtho.net>.
- core: bug fixed in extracting proper Route parameters after a strict router.
  Reported by Dan Pascu <dan@ag-projects.com>
- nathelper: bogus error message removed - if the contact header does not
  contain any URI, do not report it as a contact-body parse error - it may be
  a (*) body.

* 2006-03-15 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: added PUBLISH in the list of known methods

* 2006-03-14 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- uac: uac_auth() bug fixed in parsing the auth challenge - not all values are
  expected to be quoted.
- usrloc: get_contacts fifo and unixsock functions retunrn more additional info
  related to the contact:
          expires;flags;socket;methods;received?;user_agent?;path?
  values marked with ? may be missing if empty.
- statistics: new module to provide statistic variables support directly into
  the script

* 2006-03-13  Di-Shi Sun <di-shi@transnexus.com>
- osp: fixed several typos in usage.c

* 2006-03-13 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- osp: module aligned to use the RR functionality via the RR API to avoid
  mismatches between function prototypes.
- core: more hash functionality:
  1) hash support in core
      - new_hash1() and new_hash2() merged into core_hash()
      - added core_case_hash() for case insensitive hashes
      - all TM related definitions moved into TM config file
      - if hash size param is 0, the functions will return the hash id
        instead of hash entry.
  2) domain module
      - use the case insensitive hash function
  3) pdt module
      - use the case insensitive hash function
  4) permission module
      - just updated according to coe hash changes
  5) TM module
      - updated according to coe hash changes
      - TM related stuff moved localy from core hash
- registrar: fixed memory bug - build_path_vector() does not allocated memory
  for the path array (returns a static buffer), so no free is needed anymore.
  Reported by Helge Waastad <helge@smartnet.no>
- registrar: build_path_vector() use the sibling link between the headers in
  order to have a faster access to all PATH headers.

* 2006-03-09 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- tm: bug fixed in processing the failure handlers (callbacks and route); error
  cases were not properly handled.
  Reported by Matt Schulte <mschulte@netlogic.net>

* 2006-03-08 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- nathelper: several upgrades to existing functions:
   - fix_nated_sdp() may take one more param to force a specific IP instead of
        the signalling IP
   - force_rtp_proxy() accepts a new flag 's' to swap creation/confirmation
        between requests/replies (this is needed to be able to cope with SDPs
        advertised via 200OK / ACK)
   - add_rcv_param() may take as parameter a flag telling if the parameter
     should go to the contact URI or contact header; make sense if you forward
     REGISTER requests and need the registrar to save the parameter as part of
     URI.
- usrloc: bug fixed when getting all contacts - most probably the bug was
  inserted when the DB_ONLY mode was added

* 2006-03-07 Dmitry Isakbayev <isakdim@gmail.com>
 - osp: update module for:
  1. int_str casing issue, in destination.c and usage.c
  2. inculde data_lump.h in sipheader.c
  3. add_rr_param issuer, in osp_mod.h, osp_mod.c and usage.c.
  4. some compiling warnings.

* 2006-03-07 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: fixed equal operator in comparison (reported by D. Hsueh)

* 2006-03-07 Andreas Granig <andreas.granig@inode.info>
- registrar: fixed lazy-mode-handling if no Supported HF is present.

* 2006-03-07 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- acc: etc/dictionary.radius contains only the OpenSER proprietary attributes
  and values; All standard (IANA registered) attributes are defined in the
  default dictionary of the radiusclient-ng library
- acc: values for Sip-Method attribute set as they are used by OpenSER. NOTE
  they overwrite the default values as defined by radiusclient-ng library.

* 2006-03-03 Daniel-Constantin Mierla <daniel@voice-system.ro>
- osp: removed dependency of textops module - append_hf() replaced with a local
  function

* 2006-03-03 Andreas Granig <andreas.granig@inode.info>
- path: new module for intermediate proxies to add Path-HFs and route
  requests according to the received-parameter of Route-HF URIs.

* 2006-03-03 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- registrar: support in registrar for loadbalancing using Path-HF with
  NAT-Support applied, patch by Andreas Granig <andreas.granig@inode.info>
- uac: default value for "from_restore_mode" switch to auto
- uac: new module parameter "from_passwd" - used to encrypt the RR parameter
  which contains the original FROM URI
- uac: uac_replace_from() adds the display name if not present (so far it only
  replaced it); uri is enclosed between brackets if not.
  Actually, now you can set a display name if none was present.

* 2006-03-02 Daniel-Constantin Mierla <daniel@voice-system.ro>
- $si and $sp were mistakenly changed in $Si and $Sp by previous commit
  - reverted now (reported by Thomas Gelf)

* 2006-03-02 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- uac: when performing UAC authentication, look in predefined AVPs for
  credentials before using the static set credentials (via modparam)
- uac: new module parameters for defining the AVPs to contain realm, username
  and password for authentication.
- core: new header chaining based on type - all headers of same type are linked
  together via sibling link (Ex: msg->allow points to first Allow hdr;
  msg->allow->sibling to the second Allow hdr, and so on).
- core: parser for Allow ans Supported headers updated to parse and merge the
  values from all headers. This fixes problems in REGISTER module when PATH or
  method filtering supports are used - originally only the first
  allow/supported hdr was processed, the rest of them being ignore. This was
  problem maker if a client was registering with multiple Allow hdr, for
  example - reported by Daniel Hsueh <dhsueh@somanetworks.com>.
- core: several changes into routing/scripting internal tree:
  1) allow module to export same C function with same name, but with different
     parameter number - a lot of wrapper functions will become obsolete
  
  2) keep inside the tree nodes the corresponding config line to be able to
     give a more detailed report if fixup functions fails (like line number)
  
  3) some cleanup to simplify the association between the tree actions and
     exported functions

* 2006-03-01 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: XL_RPID, XL_DIVERSION types renamed to XL_RPID_URI, XL_DIVERSION_URI
- core: allow long names for pseudo-variables in format $(name)
- core: possibility to register pseudo-variables from modules
- tm:  module exports $T_branch_idx pseudo-variable refering to the index of
  the branch for which the branch_route[] is executed
- core: avp names must use i: or s: in front of IDs to avoid confusions
- core: avp alias is specified without $

* 2006-03-01 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- acc: Radius acc requests include an event time stamp (Event-Timestamp Radius
  AVP - see RFC2869). The Radius server timpstamp is not reliable since it
  contains also the delays due possible RADIUS retransmissions.
- unixodbc: several problems fixed:
  1) memory allocation size problem when converting the returned rows.
  2) use a define for the size of the static strings - avoid mem. overrides
     if changing the size
  3) more general connection cleanup (properly supported by a larger number
     of drivers)  before submitting a new query
- core: returne codes alligned (for widly used core functions) in order to
  avoid confusions
          == 0 - success
           < 0 - error
- cpl-c: applied patch from John Riordan <john@junctionnetworks.com> : provides
  NAT traversal support (via received) for the lookup CPL node.
- cpl-c: added per branch nat flags support for lookup CPL node
- auth: realm string in www/proxy challenge/authorize support pseudo variables.
  Allows dynamic realm definition in multi domain env.

* 2006-02-28 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: applied patch for Session-Timer header parsing support; provided by
  Daniel Hsueh <dhsueh@somanetworks.com>

* 2006-02-24 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: fixed parsing bug when spaces are present in non-quoted display name.
  reported by Raymond Chen <rchen@broadz.com>
- usrloc: fixed bug when insertion contacts in a new built AOR record - use
    get_ucontact() to detect contact duplicates.
    An initial REGISTER may contain several contacts and some of them may be
    identical. IF DB is used, this will lead to primary key (username, domain,
    contact URI) violation due double insert. Also un-necessary parallel fork
    to same destination is avoided.
  
    This may happen with bogus clients (I see no reason why a UAC may duplicate
    a contact in same REGISTER), so the fix is protection mechanism for the
    proxy.

* 2006-02-23 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- usrloc: new DB mode - DB-Only - no memory cache is kept, all operation being
    directly done into DB.
    Allows DB sharing between multiple proxies without the need of additional
    replication mechanism.
    Drawbacks:
          - some performance penalties due intensive DB usage
          - location watcher disabled (cannot be bind to a record into mem)
                          => PA cannot be used
          - statistics do not work since events cannot be properly been traced
            without a mem cache

* 2006-02-22 Klaus Darilion <klaus.mailinglists@pernau.at>
- core: introduction of the parameters tls_verify_server and tls_verify_client:
  allows to have different policies for incoming and outgoing TLS connections

* 2006-02-21 Daniel-Constantin Mierla <daniel@voice-system.ro>
- textops: new set of function to work on the body of the message:
          - search_body()
          - search_append_body()
          - replace_body()
          - replace_body_all()
          - subst_body()

* 2006-02-17 Juha Heinanen <jh@tutpro.com>
- permissions: allow_trusted() from_pattern can now be empty (NULL value in DB).
  Empty from_pattern matches any From URI.

* 2006-02-17 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: applied patch from Juha Heinanen <jh@tutpro.com> : new pseudo-variables
  are available: $re -Remote-Party-ID header URI; $di -Diversion header URI

* 2006-02-16 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: fixed several bugs strictly related to libssl version 0.9.8:
  1) bad record mac because of wrong SSL_OP_TLS_BLOCK_PADDING_BUG handling
     (see http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=338006 for more
     info ; original bug registration to libssl at
     http://www.aet.tu-cottbus.de/rt2/Ticket/Display.html?id=1204 - note, it
     requires subscription)
  2) zlib compression does work correctly anymore in multi-process env. due
     problem with mem. allocation functions. Fix: disable compression.
     (see http://www.aet.tu-cottbus.de/rt2/NoAuth/Buglist.html - again,
     subscription is required)
- core: bug fixed : return code of tcp_send() set to negative value if write()
    failed; this was preventing the proxy to generate a negative reply in case
    of connection error via TCP (TLS was affected too).
    Reported by Klaus Darilion <klaus.mailinglists@pernau.at>

* 2006-02-15 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: function to get avp name from pseudo-variable specifier
- avpops: new function avp_db_query() to execute raw query and store the result
  in avps, e.g,
  avp_db_query("select password from subscriber where username='$fU'",
    "$avp(s:password)");

* 2006-02-15 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: new pseudo-variable available: $fs - returns the forced socket (if any)
  for current request; format is "proto:ip:port"

* 2006-02-14 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- rr: obsolete function strict_route() removed
- rr: add_rr_param may be called from BRANCH and FAILURE route
- rr: record_route() may take a parameter containing RR params
- rr: "lr" param is added as first param  to speed up the loose_routing
  processing
- rr: record_route / add_rr_param / record_route_preset accept pseudo-variables
  in params
- rr: extra checking to void double record routing via record_route and
  record_route_preset
- rr: callbacks are executed after all routing changes were done - this allows
  the usage of callback that may change the routing info without overlapping
  with the RR processing.
- core: applied patch from Daniel Hsueh <dhsueh@somanetworks.com> for
  SUPPORTED hdr: 1) corrects "rel100" to "100rel" (according to RFC 3262);
  2) supports "timer" according to RFC 4028
- core: DNS_IP_HACK define removed -> it will be always be used (great speed up)
- core: some improvements in DNS lookups by avoiding re-testing several times
  if IP or not

* 2006-02-14 Dan Pascu <dan@ag-projects.com>
- fixed parse_contact return test
- fixed test for return of parse_uri
- fixed test for parse_headers

* 2006-02-13 Daniel-Constantin Mierla <daniel@voice-system.ro>
- avpops: added db_url parameter same as 'avp_url' to have same name across
  modules
- avpops: fixed do {} while(); block in avp_pushto() - reported by Helge Wastad

* 2006-02-10 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- tm: bug fixed - transactions that gave error during relay stick into memory
  for ever. This memory leak occures only when using directly from script
  the "t_forward_nonack" function.

* 2006-02-10 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: int_str structure changed from (int, str*) to (int, str)
- avpops: avpops uses the same format for avp names as pseudo-variables. All
  parameters being an avp name must now be specified as $avp(name) and aliase
  as $avp($alias)
- core: support for dynamic avp/hdr names
    ~ $avp($pvar) refers to the avp having the name the value of $pvar
    ~ $hdr($pvar) refers to the header having the name the value of $pvar
- avpops: avp_pushto("header", "value") - is obsoleted, same functionality
  being offered by textops module via append_hf() and append_to_reply()
- avpops: all avpops parameters expecting a value can be now pseudo-variables
  (e.g., avp_check("$fu", "eq/$tu") returns true if From URI equals To URI;
  avp_write("$tU", "$avp($fU)") - writes the username in To header in the avp
  having the name the username from From header)

* 2006-02-09 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- domain: fixed conflicts due definition of HASH_SIZE and hash() by the core
  and the domain and permissions modules
- permissions: reduce code duplicity - domain and permissions modules are using
  hash function from the core (hash_func.h)
- core: support for registering function to provide as statistics values.
- core: shm memory exports as module "shmem" the following stats: total_size -
  total memory; used_size - used memory; real_used_size - real used memeory
  (used mem + overhead); max_used_size - maximum of real used memory;
  fragments - number of memory fragments
- cpl-c: multi domain support added

* 2006-02-07 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- tm: advanced TM monitoring; available statistic variables: received_replies -
  statefull received replies; relayed_replies - statefull relayed replies;
  local_replies - statefull local generated replies; UAS_transactions -
  no. of processed UAS transactions; UAC_transactions - no. of processed UAC
  transactions; 2xx_transactions - no. of trasactions finished via 2xx
  replies; 3xx_transactions - no. of trasactions finished via 3xx replies;
  4xx_transactions - no. of trasactions finished via 4xx replies;
  5xx_transactions - no. of trasactions finished via 5xx replies;
  6xx_transactions - no. of trasactions finished via 6xx replies;
  inuse_transactions - no. of current in memory transactions
- core: negative values accepted for updates via atomic ops
- usrloc: usrloc module export dynamic statistic for each register domain (as
  location or aliases). Available statistics: number of registered users (AORs);
  number of registered contacts (>= AORs); number of expired contacts
- core: statistics manager supports dynamic allocated names (new falg
  STATS_SHM_NAME)

* 2006-02-06 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: core uses new statistics support
- core: old stattistics (based on snmp module) removed - functionality
  preserverd.
- sl: statistics support
- sl: new module parameter to enable/disable the statistics support
- sl: available statistics: 1xx_replies - 1xx replies sent out; 2xx_replies
  - 2xx replies sent out; 3xx_replies - 3xx replies sent out; 4xx_replies -
  4xx replies sent out; 5xx_replies - 5xx replies sent out; 6xx_replies -
  6xx replies sent out; sent_replies - total number of replies sent out
  sent_err_replies - number of replies triggered by sl_reply_error();
  received_ACKs - number of local ACK received

* 2006-02-05 Juha Heinanen <jh@tutpro.com>
- permissions: added "none" protocol option that never matches and thus
  disables the peer.
- permissions: free shm memory in case hash_table_insert call results in an
  error.

* 2006-02-03 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: NAPTR lookup support added according the RFC3263 "Locating SIP Servers"
- core: stateless forwarding functions - proto param merged into proxy
  struct to eliminate duplication

* 2006-02-02 Dan Pascu <dan@ag-projects.com>
- auth_db: fixed issue introduced by last commit, in which extra user
  properties were no longer loaded into avps with along with load_credentials.

* 2006-02-02 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- uac: uac_replace_from() denys FROM replace in sequential requenst
  *ONLY* in AUTO mode; otherwise manual mode can work on seq. requests

* 2006-01-31 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- registrar: bug fixed - improper param passing - reported by
  Andreas Granig <andreas.granig@inode.info>

* 2006-01-31 Daniel-Constantin Mierla <daniel@voice-system.ro>
- msilo: added statistics: stored_messages - how many messages were stored;
  dumped_messages - how many messages were sent; failed_messages - how many;
  messages failed to be delivered; dumped_reminders - how many reminders were
  sent; failed_reminders - how many reminders failed to be delivered

* 2006-01-30 Andreas Granig <andreas.granig@inode.info>
- tm: fixed inserting of Route after Via.
- core: fixed bug in parsing Supported header (reported by Helge Waastad).

* 2006-01-30 Elena-Ramona Modroiu <ramona@voice-system.ro>
- pdt: multi-domain support added

* 2006-01-30 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: fixed compiling error on solaris: IPTOS_MINCOST is not defined on
  solaris and netbsd. Reported by martin@campus-merseburg.de
- enum: new functions (or new vresions of them): enum_fquery(), 
  is_from_user_e164(), is_from_user_enum() (patch by 
  Greg Fausak <lgfausak@gmail.com>)
- core: support for atomic operations (assembler code) - only for i386 right
  now
- core: detection for SMP kernels - useful for atomic ops code
- core: statistics code uses atomic operations if available since they are much
  much faster - no locking required.
- core: statistics manager moved completly into shm mem to all dynamic
  registration/removal of statitstic variables.

* 2006-01-30 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: added OP_NEQ (!=) to database operators
- msilo: added reminder features (patch subbmited by Andrea Giordana)
- textops: append_to_reply() has support for pseudo-variables

* 2006-01-27 Andreas Granig <andreas.granig@inode.info>
- registrar: fixed detection of lr-parameter (reported by
  Helge Waastad <helge@smartnet.no>)

* 2006-01-26 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- cpl: column name may be configured via module parameters
- cpl: column for storing user name moved from "user" to "user_id"; was
  reported that columns named "user" are conflicting on postgres DB
- registrar: added len checks for username, domain, contact, received, callid
  and user-agent. The lens are limited to avoid DB error (columns have limited
  size) and DOS at memory and DB level
- registrar: request with failed checks are negativly replied with err headers
  for hints
- core: applied patch for Path support according to RFC 3327 for usage in
  registrars and home-proxies. Patch provided by
  Andreas Granig <andreas.granig@inode.info>

* 2006-01-25 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: fixed bug in to/from parser; display lenght was poorly computed in some
  cases. Reported by Lars Sundqvist <lars.sundqvist@algitech.com> and
  H Quintana <hjqlopez@yahoo.com>
- postgres: proper support form BLOB in postgres - patch submitted by
  Steen, Gerd <gerd.steen@de.thalesgroup.com>. It makes possible the usage of
  cpl-c with postgre DB.

* 2006-01-24 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: first version of a global Statistics Manager (core and modules exports
  statistics variables to the Manager which is centralized collector and access
  point for fetching statististics.
- core: module interfaces updated to export statistics (none so far)
- core: some basic statistics exported by core - how many replies/request were
  received, how many were dropped by script/callbacks and how many were bogus.
- core: new compilation define STATISTICS - if the statistics manaer and
  collection should be compiled or not (default no)
- core: onbreak module function removed from module interface : not used
  anymore, it;s functionality took-ver by post-script callbacks
- nathelper: crash fix for rtp proxy goes down during rtpp_test VF query;
  credits go to Andrei

* 2006-01-22 Dan Pascu <dan@ag-projects.com>
- domain: added is_domain_local(variable)

* 2006-01-17 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- tm: fixed bug in the new TM API (actually an old misfunctionality was
  triggered: exported functions with same names and same C function but with
  different number of parameter overlaps) - reported by
  Helge Waastad <helge@smartnet.no>
- lcr: allow prefix field to be NULL inside the lcr table (by Ovidiu Sas)

* 2006-01-17 Daniel-Constantin Mierla <daniel@voice-system.ro>
- tm: t_relay*() returns 1 instead of 0 when forwarding ACK (reported by
  Dan Pascu)
- core: bmark initialization fix provided by Quang Minh Phan

* 2006-01-15 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
relay functions merging:
- tm: t_relay_to_udp(), t_relay_to_tcp(), t_relay_to_tls() merged into
  t_relay(proto:host:port)
- tm: t_forward_nonack_uri(), t_forward_nonack_udp(), t_forward_nonack_tcp(),
  t_forward_nonack_tls() merged into t_forward_nonack(proto:host:port) and
  t_forward_nonack()
- tm: t_replicate_udp(), t_replicate_tcp(), t_replicate_tls() merged into
  t_replicate(proto:host:port)

* 2006-01-14 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- mysql: reconnect option is explicitly forced after mysql_real_connect()
- usrloc: socket_info structure contains static string representation as
  "proto:IP:port" (built only once at init time) -> avoid repeated computing
  on the string during usrloc DB update and add_sock_hdr() call

* 2006-01-13 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- acc: direction detection and compensation for sequential requests (request
  from Lenir <lenirsantiago@yahoo.com>
- acc: new module paramater "detect_direction" to enable/disable the above
  feature

* 2006-01-12 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: fixed crash when caller initiate call on TCP/TLS and expects subsequent
  requests on UDP -- reported by Adrian Georgescu and Dan Pascu
- msilo: callee user ID can be taken from an avp (fixes re-processing of R-URI
  to detect the destination of the message)

* 2006-01-10 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- unixodbc: added to connection string the UID (username) and PWD (password)
  attributes
- unixodbc: printf() replaced with LOG() or DBG()
- unixodbc: malloc()/free() replaced by pkg_malloc()/pkg_free()
- unixodbc: added checks for the returned values of malloc functions
- lcr: applied LCR patch for DB caching and FROM regexp matching from
  Ovidiu Sas <osas@somanetworks.com>
- lcr: DB caching of the DB content on startup or reload.
- lcr: DB operations alligned to internal DB API (no more raw queries)
- lcr: regexp matching for from field
- lcr: new module paramter "db_mode" may toggle between the old behaviour
  (no caching) - 1 - and the new one (DB cahing) - 0.
- scripts: applied patch from Ovidiu Sas <osas@somanetworks.com> :  The
  openser script will allow adding a temporary UrLoc entry if expires is
  specified: ul add <username> <uri> <expires>

* 2006-01-09 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: support for more than 1024 tcp connections on various systems
- core: more tcp options via global parameters (credits to Andrei)

* 2006-01-09 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- uac: place a space between the new dispaly name and the RURI - reported by
  "unplug <maillisting@gmail.com>"
- tm: proper cloning of DIVERSION, RPID and REFER-TO headers - reported by
  Dan Pascu <dan@ag-projects.com>

* 2006-01-09 Klaus Darilion <klaus.mailinglists@pernau.at>
- postgres: copied DB_BITMAP-to-string conversion from mysql module

* 2006-01-06 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: renamed meminfo structure to avoid conflicts in different OSes

* 2005-12-23 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- registrar: fixed crash on register with contacts without "methods" parameter
  reported by Helge Waastad

* 2005-12-22 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: for IPv6, setsockopt expects int as value and not char as for IPv4.
- core: failure of setting IPV6_MULTICAST_LOOP for IPv6 reported just as
  warning instead of error (same as for IPv4)
- usrloc: contact maching algorithm aligned to the RFC 3261 specs (added extra
  checking based on callid and cseq);
- usrloc: configurable multi-algorithm for contact matching:
  1) contact only based (as in RFC)
  2) contac and callid based
- usrloc: received (via AVPs) is looked up only if valid contact found
- usrloc: received contact param is evaluated for each contact

* 2005-12-21 Dmitry Isakbayev <isakdim@gmail.com>
- osp: changed the length of AVP keys to be a multiple of 8.

* 2005-12-19 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: setsockopt() for IP_MULTICAST_LOOP and IP_MULTICAST_TTL expects on
  some OS unsigned char for option value instead of int
- rr: the Route headers paramter's string checked by check_route_param()
  include also the leading ";" -> ";param1=val1;param2=val2" instead of
  "param1=val1;param2=val2" - all parameter names as consistent as format
  and can be much easier checked via regexp - credits go to Juha Heinanen
  for tracing the issue

* 2005-11-29 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: serial forking support added in core (migrated from LCR module)

* 2005-11-18 Daniel-Constantin Mierla <daniel@voice-system.ro>
- dispatcher: dispatcher has failover support
- dispatcher: to enable failover, set bit 2 of 'flags' parameter
- dispatcher: when failover is enabled, selected destination is added as
  dst_uri or domain part of r-uri and the rest of addresses in destination set
  are added in AVP list
- dispatcher: ds_next_{dst,domain} can be used in failure_route to get the
  next address in dst_uri or r-uri domain

* 2005-11-15 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: allow empty action list in switch for case and default statements
- core: allow empty action list in if statements: if(expr) {};

* 2005-11-14 Daniel-Constantin Mierla <daniel@voice-system.ro>
- msilo: bug fixed when marking sent messages (occured due to tm callback
  parameters which are given as reference instead of value)

* 2005-12-13 Juha Heinanen <jh@tutpro.com>
- textops: function is_method() can be called from BRANCH_ROUTE.
- tm: unction t_on_reply() can be called from BRANCH_ROUTE block

* 2005-12-09 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- registrar: method filtering performed by lookup()

* 2005-12-08 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: new function socket2str() - prints a scoket_info as string in format
  "proto:IP:port"; it may print into an internal static buffer or into a
  given buffer (as param)

* 2005-12-08 Juha Heinanen <jh@tutpro.com>
- core: methods lists can be empty

* 2005-12-07 Marco Lorrai <marco.lorrai@abbeynet.it>
- unixodbc: return values of insert

* 2005-12-07 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- usrloc: supported methods are saved into usrloc - patch contributed by
  Juha Heinanen <jh@tutpro.com>
- usrloc: DB operations optimized - domain name is kept null terminated;
  avoid extra memcpy() during each DB query
- core: the parsed methods (bitmap on unsigned int) in mapped directly over
  "parsed" pointer instead of allocated new mem chunk
- core: the function encapsulate complete functionality: find the header
  (new) and parse its body.
- core: defined ALL_METHODS as (0xFFFFFFFF)
- registrar: in REGISTER, the Allow header is parsed *only* if a contact
  without "methods"parameter is found (avoid unnecessary parsing)

* 2005-12-06 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: complete support for Allow header (parsing and accessing) - part of
  the patch submitted by Juha Heinanen <jh@tutpro.com>

* 2005-12-06 Juha Heinanen <jh@tutpro.com>
- domain: Made calculation of domain hash case insensitive (thanks to
  Alex Boeger)

* 2005-12-05 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- tm: fixed the set/unset of avp list during callbacks - credits go to
  Cesc Santasusana <cesc.santa@gmail.com>

* 2005-12-05 Juha Heinanen <jh@tutpro.com>
- lcr: added "strip_column" module parameter

* 2005-12-05 Dan Pascu <dan@ag-projects.com>
- mediaproxy: allow fixing of contacts independent of transport

* 2005-12-01 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- usrloc: display received URI with "opensertcl ul show" (patch from
  Klaus Darilion)
- unixodbc: unixodbc

* 2005-12-01 Daniel-Constantin Mierla <daniel@voice-system.ro>
- exec: functions exported by exec module can include pseudo-variables in
  parameters (credits to Patrick Jordan-Smith for testing)
  ~ caution: if the var your passing out has a bash special character in it,
  the var needs to be placed inside quotes, for ex:
  exec_msg("print-contact.sh '$ct'");
- dispatcher: proper parameters in example config file for 'forward()' function

* 2005-11-30 Klaus Darilion <klaus.mailinglists@pernau.at>
- scripts: increased user_agent to varchar(255), 50 is to small

* 2005-11-30 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- scripts: "acl grant" and "acl show" accespts also non-local users (with
  confirmation) this is necessary if you have groups based on destinations
  which can be non-subscriber numbers.

* 2005-11-29 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: AVP flags reordered - 0-7 core ; 8-15 for module usage
- core: new avp function added - destroy_avps() == search&delete
- avpops: avpops uses destroy_avps()
- avpops: avp_print() prints on INFO level instead of DEBUG
- lcr: AVP flag "Q_FLAG" mapped over core flag (prepare for core migration)
- core: serial forking support added in core (migrated from LCR module)

* 2005-11-28 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- usrloc: saved socket info contains now also the protocol. The socket is saved
  as: proto:ip:port
- tm: t_uac_dlg get an optional parameter which defined the socket to be used
  for sending the request

* 2005-11-28 Klaus Darilion <klaus.mailinglists@pernau.at>
- scripts: changed acc columns src and dst to src_leg and dst_leg

* 2005-11-25 Elena-Ramona Modroiu <ramona@voice-system.ro>
- core: $od - domain of original r-uri
- core: $op - port of original r-uri
- core: $oP - protocol of original r-uri
- core: $ou - original r-uri
- core: $oU - username in original r-uri

* 2005-11-23 Daniel-Constantin Mierla <daniel@voice-system.ro>
- textops: added insert_hf(txt) - insert txt as header before the first header
- textops: added insert_hf(txt, hdr) - insert txt as header before hdr
- textops: added append_hf(txt, hdr) - add txt as header after hdr
- textops: txt parameter of new functions as well as for old append_hf(txt) has
  support for pseudo-variables

* 2005-11-23 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- lcr: strip Option patch submitted - provided by Bayan William Towfiq
  <william@telepacket.com>

* 2005-11-22 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: configurable TOS added (thanks to Andreas Granig)

* 2005-11-22 Klaus Darilion <klaus.mailinglists@pernau.at>
- openserctl: applied patch from Ovidiu Sas to add "prefix" to gw table

* 2005-11-21 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- group: regular expression based group matching added

* 2005-11-17 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- rr: fixed double routing handeling for after_strict case
- rr: proper send socket set in after_strict case
- rr: proper call of rr callbacks in after_strict case

* 2005-11-13 Elena-Ramona Modroiu <ramona@voice-system.ro>
- core: $rm prints method from cseq hearder for replies
- core: new $fn and $tn for From and To display name

* 2005-11-12 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: global var msg_id renamed to avoid overlaping with similar var from
  modules

* 2005-11-10 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: customizable Server and User-Agent headers (provided by Juha Heinanen)
- rr: add_username alters also the behaviour of record_route_preset()

* 2005-11-07 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: proper fixup for switch statement

* 2005-11-07 Dmitry Isakbayev <isakdim@gmail.com>
- osp: new module

* 2005-11-03 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- maxfwd: better error reporting for mf_process_maxfwd_header()
- maxfwd: store MF value in parsed structure for later usage
- maxfwd: new function is_maxfwd_lt() added

* 2005-11-03 Jesus Rodriguez <jesusr@voztele.com>
- packaging FreeBSD
  ~ Do not overwrite configuration files across updates
  ~ Respect ${CC}, ${CFLAGS}, ${PTHREAD_CFLAGS}, ${PTHREAD_LIBS},
    ${OPENSSLINC}, ${OPENSSLLIB}, ${INSTALL_*}, ${NOPORTDOCS}
  ~ Fixup hardcoded paths (respect ${PREFIX} and ${LOCALBASE})
  ~ Put acc config in ${PREFIX}/etc/acc
  ~ Use OPTIONS to select compile (TLS/Mysql/Postgres) options


===================== 2006-02-27 OpenSER v1.0.1 released ======================

===================== Changes since release 1.0.0 ============================

* 2006-02-24 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- registrar: check the presence of same contact address many times in same
  REGISTER message to avoid DB key violation and unecessary paralel forking

* 2006-02-23 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: fixed parsing of To/From headers when spaces are present in non-quoted
  display name

* 2006-02-16 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: fixed several bugs strictly related to libssl version 0.9.8:
    1) bad record mac because of wrong SSL_OP_TLS_BLOCK_PADDING_BUG handling
       (see http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=338006 for more
       info ; original bug registration to libssl at
       http://www.aet.tu-cottbus.de/rt2/Ticket/Display.html?id=1204)
    2) zlib compression does work correctly anymore in multi-process env. due
       problem with mem. allocation functions.
       (see http://www.aet.tu-cottbus.de/rt2/NoAuth/Buglist.html)
- core: return code of tcp_send() set to negative value if write() failed
  forcing the proxy to send negative reply immediately

* 2006-02-14 Dan Pascu <dan@ag-projects.com>
- core: fixed tests for return value of parse_uri() and parse_headers()

* 2006-02-10 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- tm: fixed memory leal for transactions that gave error during relay when using
  t_forward_nonack() in configuration script

* 2006-02-01 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- auth_db: check loaded credentials for 0 length
- rr: fixed uninitialized value for user part if add_username is disabled
- uac: uac_replace_from() denied the replace of FROM in sequential requensts
  when working in AUTO mode

* 2006-01-25 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: fix in to/from parser; lenght of display name was poorly computed in
  some cases
- rr: add_username parameter was not properly done by the record_route_preset()

* 2006-01-24 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- nathelper: fix when rtp proxy goes down during rtpp_test VF query at startup

* 2006-01-17 Daniel-Constantin Mierla <daniel@voice-system.ro>
- tm: t_relay*() returns 1 instead of 0 when forwarding ACK

* 2006-01-16 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- mysql: reconnect option is explicitly forced after mysql_real_connect()

* 2006-01-12 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: fix for nested transport protocols in same call

* 2006-01-09 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- uac: place a space between the new dispaly name and the URI
- tm: proper cloning of DIVERSION, RPID and REFER-TO headers

* 2006-01-06 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: renamed meminfo structure to avoid conflicts in different OSes

* 2005-12-29 Klaus Darilion <klaus.mailinglists@pernau.at>
- gflags: added documentation of fifo commands

* 2005-12-14 Daniel-Constantin Mierla <daniel@voice-system.ro>
- msilo: fixed marking sent messages

* 2005-12-05 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- tm: fixed the set/unset of avp list during callbacks

* 2005-12-05 Dan Pascu <dan@ag-projects.com>
- mediaproxy: allow fixing of contacts independent of transport

* 2005-11-28 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- tm: fixed matching local ACKs versus e2e ACKs

* 2005-11-28 Klaus Darilion <klaus.mailinglists@pernau.at>
- scripts: mysqldb.sh postgresqldb.sh - changed columns 'src' and 'dst'
  to 'src_leg' and 'dst_leg' in 'acc' and 'missed_calls' tables
  (fixes #1367858)

* 2005-11-22 Klaus Darilion <klaus.mailinglists@pernau.at>
- scripts: sc - backport of lcr gw prefix
- scripts: sc - bacport of "ul rm" of a dedicated contact

* 2005-11-22 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- rr: fixed double routing handeling for after_strict case
- rr: proper send socket set in after_strict case
- rr: proper call of rr callbacks in after_strict case

* 2005-11-07 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: proper fixup for switch statement

* 2005-10-31 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: IP_MULTICAST_LOOP error switched to warning (specific to openBSD amd64)
- core: fixed TCP fd passing error (specifc to openBSD amd64)


===================== 2005-10-28 OpenSER v1.0.0 released ======================

===================== Changes since release 0.9.4 ============================

* 2005-10-00 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
* 2005-10-00 Daniel-Constantin Mierla <daniel@voice-system.ro>
* 2005-10-00 Elena-Ramona Modroiu <ramona@voice-system.ro>
- modules' documentation updated to list the route types where the exported
  functions can be used

* 2005-09-15 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- maxfwd: max_limit of MAX-FORWARDS cannot exceed 256 (as per RFC)

* 2005-09-11 Klaus Darilion <klaus.mailinglists@pernau.at>
- postgres: adding transaction rollback for failed queries (postgres module
  encapsulates every query into transaction. If the query failed, the
  transcation was not finished, thus a new database connection was created
  on the next query)

* 2005-09-09 Elena-Ramona Modroiu <ramona@voice-system.ro>
- avpops: avp_write() allow $hdr(name) to be coherent with avp_printf()
- avpops: old format $hdr[name] is still valid

* 2005-09-07 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- tm: t_flush_flags() - flush to T (UAS side) only the global flags

* 2005-09-07 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: return code is printed to a string as signed int (was printed unsigned
  until now)

* 2005-09-06 Juha Heinanen <jh@tutpro.com>
- domain: is_uri_host_local() can now be called also from failure route,
  where it checks host part of first branch (which thus must have been earlier
  appended to the transaction)

* 2005-09-05 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- acc: DB support is compiled by default
- acc: DB support disabled by default (db_url=0)
- tm: inconsistency in "tw_append: parameter definition fixed: "msg(body)"
  proprietary specifier migrated to $rb pseudo variable; message body must
  be deal separately since it have a special status in the fifo/unix syntax.

* 2005-09-01 Juha Heinanen <jh@tutpro.com>
- lcr: Request-URI user part can be modified between load_gws() and first
  next_gw() calls.

* 2005-09-03 Elena-Ramona Modroiu <ramona@voice-system.ro>
- xlog: xlog() prints to level 'L_ERR' if the first parameter is omitted

* 2005-09-02 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: full suppor for per-branch flags
- registrar: may use the branch flags for NAT marking
- registrar: new module parameter "use_branch_flags": if enabled the branch
  flags will be used for NAT flag.
- tm: new param "branch_flag_mask" which defined which flags shall be
  considered to be branch flags; it's bit mask in 2, 10 or 16 base;

* 2005-09-02 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: new global parameter 'log_name' to set the id to be printed in
  syslog - the value must be a string and has effect only when openser runs
  in daemon mode (fork=yes), after daemonize. Default value is argv[0].

* 2005-09-01 Juha Heinanen <jh@tutpro.com>
- auth: append_rpid_hf function can now be called from branch_route block.

* 2005-08-31 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: "drop" statement has special meaning in some route types (by default
  it's equivalent to "exit"):
    - BRANCH ROUTE - the request branch is discarded (not fwd);
    - ONREPLY ROUTE - if provisional reply (<200), it will be discarded (not
      fwd, not stored, but only timers updated)

* 2005-08-29 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: new internal core function for checking if a module function may or
  may be not called from a script route (based on route type); all route
  inclusions are followed, but avoiding potential loops.
- core: new command line parameter (-C) - similar to (-c), but additioanly
  force the above described checking. (-C implies -c)
- tm: t_was_cancelled() - says if the transaction was cancelled or
  not from the UAC side.
- tm: request fwd functions break if the transaction was already cancelled.
- cpl-c: CPL interpreter stop floowing the negative replies in proxy node if
  the INVITE was cancelled.

* 2005-08-29 Juha Heinanen <jh@tutpro.com>
- auth: append_rpid_hf function can now be called from branch_route block.

* 2005-08-26 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: new pseudo-variables:
    - $rP - transport protocol of RURI
    - $dd - dst_uri domain
    - $dp - dst_uri port
    - $dP - dst_uri transport protocol
- core: new core functions to manage next hop destination address (dst_uri)
    - setdsturi("uri") - set the value of dst_uri - the value of the parameter
      must be a valid sip uri
    - resetdsturi() - reset dst_uri
    - isdsturiset() - test if there is a dst_uri address set
- avpops: avp_write() and avp_pushto() can access and set dst_uri field (if
  set, this is the next hop, regardless of r-uri address) via '$duri'

* 2005-08-25 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: in failure route will be visible the RURI of the selected branch
  (so far was all the time the RURI of the first branch).
- core: dst_uri (per branch) available in branch route - it can be also changed

* 2005-08-24 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- tm: new function t_check_trans(): checks if the request belongs to a
  transacation as follows:
     - non-CANCEL;non-ACK - checks if the the transaction already exists
       (retransmission)
     - ACK - returns true if it's local e2e ACK; false otherwise;
     - CANCEL - returns true if the coresponding INVITE transaction exists.

* 2005-08-23 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: branch_route[] support added (route blocks to be executed for each
  branch)

* 2005-08-20 Juha Heinanen <jh@tutpro.com>
- lcr: added support for gateway prefixes.

* 2005-08-19 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- tm: local builded requests (CANCEL and ACK) use UAC info (instead of UAS)
  if FL_USE_UAC_TO or FL_USE_UAC_CSEQ flags are set
- uac: proper TO mangling in sequential request due FROM magling in initial
  request. By this, FROM mangling may be used in full automatic mode - all
  sequential replies and requests (in all directions) will be automatically
  fixed.

* 2005-08-15 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- tm: delayed CANCEL feature added - cancelled transactions will be marked to be
  able to cancel delayed replies
- tm: proper timer cancelation for cancelled T_UAC with no received reply;

* 2005-08-12 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- uac: encoded FROM URI stored in RR hdr and not in FROM anymore (uses new RR
  API)
- uac: some TM callbacks replaced with RR callback - more efficient (as
  selective)
- uac: XOR used to mix together old and new URI - reduces the result size.

* 2005-08-12 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: add_local_rport() - new function to add 'rport' parameter to the Via
  header generated by server (according to RFC3581, issue reported by Ranveer
  Kunal)

* 2005-08-11 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- rr: enhancements which opens the road for a dialog awareness support:
    - RR API added - exported functions:
      add_rr_param()
      check_route_param()
      is_direction()
      get_route_param()
      register_rrcb()
- rr: callbacks added - can be registered callbacks to be executed when local
  Route is found and processed.

* 2005-08-11 Klaus Darilion <klaus.mailinglists@pernau.at>
- postgres: reconnect to database server (patch from Michael Ulitskiy)
- lcr: URI scheme and transport protocol can now be specified for gateways
  (port from ser)
- lcr: allow usage of from_gw in reply routes
- misc: postgresqldb.sh - emulate proprietary mysql functions in postgres
  used by lcr module
- misc: sc (openserctl) - support for lcr module to add/show/delete GWs,
  routes. IP addresses can be entered in dotted quad format, support for URI
  scheme and transport parameter

* 2005-08-10 Daniel-Constantin Mierla <daniel@voice-system.ro>
- dispatcher: support for round robin distribution per process (alg=4)

* 2005-08-09 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: various resolver/dns related options can now be set from cfg (credits
  go to Andrei Pelinescu-Onciul):
    - dns_try-ipv6=yes|no
    - dns_retr_time= time(in s)
    - dns_retr_no = no.
    - dns_use_search_list=yes|no
    - dns_servers_no= no

* 2005-08-08 Daniel-Constantin Mierla <daniel@voice-system.ro>
- dispatcher: added a new flag parameter which can be used (for now) to
  select only the  username or the username, host and port when hashing
  after an uri
- dispatcher: improved uri hashing (password is ignored, port is used only
  if sip and port != 5060 or sips and port!=5061) (credits to Andrei
  Pelinescu-Onciul)
  
* 2005-08-07 Daniel-Constantin Mierla <daniel@voice-system.ro>
- avpops: flags for is_avp_set() to check if the value is number or string

* 2005-08-03 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: new pseudo-varibles: $au - auth username; $ar - auth realm

* 2005-08-01 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- rr: new function is_direction("upstream|downstream") to detect message flow
  direction
- rr: added Route generic parameter parser

* 2005-07-29 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- gen_ha1 renamed as openser_gen_ha1 at installation and packaging to avoid
  conflicts with SER packages (credits to Klaus Darilion)

* 2005-07-29 Elena-Ramona Modroiu <ramona@voice-system.ro>
- uac: pseudo-variables support in uac_replace_from()

* 2005-07-29 Daniel-Constantin Mierla <daniel@voice-system.ro>
- avpops: is_avp_set("name") to test if an avp exists
- avpops: allow hexadecimal format for integer values of avp_write(),
  avp_check() and avp_op() (to ease bitwise operations)

* 2005-07-26 Daniel-Constantin Mierla <daniel@voice-system.ro>
- avpops: db-related function can take the URI parameter from an AVP
- group: is_user_in() can take the URI parameter form an AVP

* 2005-07-26 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: added default onreply_route in config (port from ser)

* 2005-07-25 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: old 'break' removed, 'return' must be used from now on. 'break' is
  now valid only to end a 'case' block in a 'switch' statement

* 2005-07-14 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- nathelper: posibility of mangling the IP address of the SDP origin
  description (o=): via new flag "0x08" in fix_nated_sdp() and via new flag
  "o" in force_rtp_proxy()
- tm: tw_append definition migrated to pseudo-variables; now anything that
  can be defined via pseudo-variables (headers, avps, message and system info)
  can be also written to fifo/unix sockets

* 2005-07-14 Daniel-Constantin Mierla <daniel@voice-system.ro>
- usrloc: versioning policy changed and added checking of table version

* 2005-07-13 Elena-Ramona Modroiu <ramona@voice-system.ro>
- avpops: added avp_op() - for integer operations with avps
- avpops: avp_copy() can do now string-int and viceversa conversions
- avpops: more operators for avp_check()
- core: new signed-int to str and viceversa conversion functions

* 2005-07-13 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- acc: acc_extra definition migrated to pseudo-variables

* 2005-07-12 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: allow 'return' with no parameters, equivalent to 'return(1)' as
  replacement for 'break'

* 2005-07-12 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- nathelper: possibility to send natpings per user with OPTIONS messages
  (stateless)

* 2005-07-10 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: 'switch' statement in config file to test the returned code 'retcode'

* 2005-07-09 Daniel-Constantin Mierla <daniel@voice-system.ro>
- misc: added sc.dbtext - openserctl-like script for use with dbtext
  (contributed by Cesc Santasusana)

* 2005-07-08 Elena-Ramona Modroiu <ramona@voice-system.ro>
- textops: added support to chech method value against a list in is_method()
  (e.g., is_method("INVITE|CANCEL|BYE"))

* 2005-06-08 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- core: define in config.h for default radiusclient configuration file set to
  "/usr/local/etc/radiusclient-ng/radiusclient.conf"
- auth_radius, avp_radius: possibility to use STRING/ID name and STRING/NUMBER
  value in SIP-AVP
- auth_radius: backward compatibility with RPID RADIUS AVP dropped

* 2005-07-05 Elena-Ramona Modroiu <ramona@voice-system.ro>
- core: merged method types from parse_methods.c with msg_parser.c
- core: method type is cached in cseq header structure
- textops: new function is_method() to check the method value using types

* 2005-07-04 Daniel-Constantin Mierla <daniel@voice-system.ro>
- dispatcher: added new function ds_select_domain() which replaces the
  host:port in R-URI with selected destination address

* 2005-07-02 Daniel-Constantin Mierla <daniel@voice-system.ro>
- enum: support for compound NAPTRs and lookup of multiple service types with
  a single DNS lookup (patch by Klaus Darilion)

* 2005-06-30 Elena-Ramona Modroiu <ramona@voice-system.ro>
- avpops: new function avp_subst() to apply perl/sed-like subst to AVP

* 2005-06-29 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- acc: accounting failed transactions - failed transactions can be logged
  one by one marking them with a special flag

* 2005-06-28 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- acc: call leg accounting support -- proper CDR generation in case of forward
  and redirect on server.

* 2005-06-28 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: config 'mpath' parameter to specify the common path for modules
- core: config 'retcode' variable to check the code returned by last function
  executed

* 2005-06-27 Daniel-Constantin Mierla <daniel@voice-system.ro>
- textops: subst(), subst_uri() and subst_user() have support for
  pseudo-variables

* 2005-06-24 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- uac_redirect: new module for handling redirect replies (3xx) on server
  (written by Bogdan-Andrei Iancu).

* 2005-06-23 Daniel-Constantin Mierla <daniel@voice-system.ro>
- core: xlog specifiers moved in core and made availabe as pseudo-variables
- xlog: uses pseudo-variables to print log messages
- avpops: new method avp_printf() that prints a formatted string which can
  include pseudo-variables

* 2005-06-18 Daniel-Constantin Mierla <daniel@voice-system.ro>
- xlog: support for color printing using escape sequences (patch by
  iwolfsberger@gmx.net)

* 2005-06-17 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- avpops: support for dst_ip (patch by evan.borgstrom@ca.mci.com)

* 2005-06-17 Bogdan-Andrei Iancu <bogdan@voice-system.ro>
- lcr: imported module in the trunk (written by Juha Heinanen)
- uac: imported module in the trunk (written by Elena-Ramona Modroiu)
- core: added TLS support (by Cesc Santasusana, originaly written by
  Peter Griffiths)

====================== 2005-06-14 Release 0.9.4 ==============================

* 2005-06-14
 - Initial release of OpenSER (v0.9.4) spawned from SER branch 0.9.0
